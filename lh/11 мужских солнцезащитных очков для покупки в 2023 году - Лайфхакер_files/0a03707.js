(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{767:function(t,e,n){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(object,t){return Object.prototype.hasOwnProperty.call(object,t)},n.p="",n(n.s="fb15")}({"018c":function(t,e){t.exports=n(1354)},"027d":function(t,e){t.exports=n(1356)},"0554":function(t,e,n){var content=n("96a4");content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n("499e").default)("3eb0d708",content,!0,{sourceMap:!1,shadowMode:!1})},"06f4":function(t,e){t.exports=n(167)},"0906":function(t,e){t.exports=n(177)},1856:function(t,e){t.exports=n(1357)},"19e1":function(t,e){t.exports=n(1393)},"24fb":function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var o=(c=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(c)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(data," */")),r=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(r).concat([o]).join("\n")}var c,l,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(r[c]=!0)}for(var l=0;l<t.length;l++){var m=[].concat(t[l]);o&&r[m[0]]||(n&&(m[2]?m[2]="".concat(n," and ").concat(m[2]):m[2]=n),e.push(m))}},e}},"47a6":function(t,e){t.exports=n(1358)},"499e":function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},i=0;i<e.length;i++){var r=e[i],c=r[0],l={id:t+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[c]?o[c].parts.push(l):n.push(o[c]={id:c,parts:[l]})}return n}n.r(e),n.d(e,"default",(function(){return y}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c={},head=r&&(document.head||document.getElementsByTagName("head")[0]),l=null,m=0,d=!1,h=function(){},f=null,v="data-vue-ssr-id",C="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function y(t,e,n,r){d=n,f=r||{};var l=o(t,e);return w(l),function(e){for(var n=[],i=0;i<l.length;i++){var r=l[i];(m=c[r.id]).refs--,n.push(m)}e?w(l=o(t,e)):l=[];for(i=0;i<n.length;i++){var m;if(0===(m=n[i]).refs){for(var d=0;d<m.parts.length;d++)m.parts[d]();delete c[m.id]}}}}function w(t){for(var i=0;i<t.length;i++){var e=t[i],n=c[e.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](e.parts[o]);for(;o<e.parts.length;o++)n.parts.push(k(e.parts[o]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var r=[];for(o=0;o<e.parts.length;o++)r.push(k(e.parts[o]));c[e.id]={id:e.id,refs:1,parts:r}}}}function x(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function k(t){var e,n,o=document.querySelector("style["+v+'~="'+t.id+'"]');if(o){if(d)return h;o.parentNode.removeChild(o)}if(C){var r=m++;o=l||(l=x()),e=T.bind(null,o,r,!1),n=T.bind(null,o,r,!0)}else o=x(),e=E.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var O,_=(O=[],function(t,e){return O[t]=e,O.filter(Boolean).join("\n")});function T(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var c=document.createTextNode(r),l=t.childNodes;l[e]&&t.removeChild(l[e]),l.length?t.insertBefore(c,l[e]):t.appendChild(c)}}function E(t,e){var n=e.css,o=e.media,r=e.sourceMap;if(o&&t.setAttribute("media",o),f.ssrId&&t.setAttribute(v,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},5880:function(t,e){t.exports=n(26)},"5c0b":function(t,e,n){"use strict";n("0554")},"62ae":function(t,e){t.exports=n(451)},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"6b16":function(t,e){t.exports=n(1359)},7050:function(t,e){t.exports="data:image/jpeg;base64,R0lGODlhMgAyAMQAAPP1+dzh7eXp8tHY58jR4s3V5O7x9vn6/Oru9NTa6Pz9/uns8/b4+vX2+v7+//b3+trg7MvT5MfQ4vj5+9fd6t7k7uPn8MbO4czT5PHz+NXc6dbc6dLZ6MbP4f///8TN4CH5BAAAAAAALAAAAAAyADIAAAX/YCeOZGmeaKqubJt+cCzPdG3feK7vfF8PFcMk4ivaCIGMZ+kJGJ8xDYBJHUCNmAd164FcexWuGPHVLcToR/kmQLvV61nETffGY206unGPKfViDn0wDIBogx8HhmIdg4qLWxeDE5BbjX1alUyIU5pLiH+aCohnnhODBY+eG32lnh5wcRCvSwt9A7RNfRK5HIO5RH2znraIrwSIH6GLgskBmgbJHxeaCdIfBpCj1x+QVtzLdNwwnYDjiYuX15AY3LyLGtcEmvHJGpoC0nmQfMkKnsHidLCQC0FAKBgQ5KKSwZeRDeUWUjngZIcEC/8k0lnQzsaAbBoXNaAwgwKlkKIqA3wIAQA7"},"831f":function(t,e){t.exports=n(1362)},8875:function(t,e,n){var o,r,c;"undefined"!=typeof self&&self,r=[],void 0===(c="function"==typeof(o=function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(t){var n,o,r,c=/@([^@]*):(\d+):(\d+)\s*$/gi,l=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(t.stack)||c.exec(t.stack),m=l&&l[1]||!1,line=l&&l[2]||!1,d=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");m===d&&(n=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(line-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(o,"$1").trim());for(var i=0;i<h.length;i++){if("interactive"===h[i].readyState)return h[i];if(h[i].src===m)return h[i];if(m===d&&h[i].innerHTML&&h[i].innerHTML.trim()===r)return h[i]}return null}}return t})?o.apply(e,r):o)||(t.exports=c)},"88a4":function(t){t.exports=JSON.parse('{"locale":"ru","long":{"year":{"previous":"в прошлом году","current":"в этом году","next":"в следующем году","past":{"one":"{0} год назад","many":"{0} лет назад","other":"{0} года назад"},"future":{"one":"через {0} год","many":"через {0} лет","other":"через {0} года"}},"quarter":{"previous":"в прошлом квартале","current":"в текущем квартале","next":"в следующем квартале","past":{"one":"{0} квартал назад","many":"{0} кварталов назад","other":"{0} квартала назад"},"future":{"one":"через {0} квартал","many":"через {0} кварталов","other":"через {0} квартала"}},"month":{"previous":"в прошлом месяце","current":"в этом месяце","next":"в следующем месяце","past":{"one":"{0} месяц назад","many":"{0} месяцев назад","other":"{0} месяца назад"},"future":{"one":"через {0} месяц","many":"через {0} месяцев","other":"через {0} месяца"}},"week":{"previous":"на прошлой неделе","current":"на этой неделе","next":"на следующей неделе","past":{"one":"{0} неделю назад","many":"{0} недель назад","other":"{0} недели назад"},"future":{"one":"через {0} неделю","many":"через {0} недель","other":"через {0} недели"}},"day":{"previous":"вчера","previous-2":"позавчера","current":"сегодня","next":"завтра","next-2":"послезавтра","past":{"one":"{0} день назад","many":"{0} дней назад","other":"{0} дня назад"},"future":{"one":"через {0} день","many":"через {0} дней","other":"через {0} дня"}},"hour":{"current":"в этот час","past":{"one":"{0} час назад","many":"{0} часов назад","other":"{0} часа назад"},"future":{"one":"через {0} час","many":"через {0} часов","other":"через {0} часа"}},"minute":{"current":"в эту минуту","past":{"one":"{0} минуту назад","many":"{0} минут назад","other":"{0} минуты назад"},"future":{"one":"через {0} минуту","many":"через {0} минут","other":"через {0} минуты"}},"second":{"current":"сейчас","past":{"one":"{0} секунду назад","many":"{0} секунд назад","other":"{0} секунды назад"},"future":{"one":"через {0} секунду","many":"через {0} секунд","other":"через {0} секунды"}}},"short":{"year":{"previous":"в прошлом г.","current":"в этом г.","next":"в след. г.","past":{"many":"{0} л. назад","other":"{0} г. назад"},"future":{"many":"через {0} л.","other":"через {0} г."}},"quarter":{"previous":"последний кв.","current":"текущий кв.","next":"следующий кв.","past":"{0} кв. назад","future":"через {0} кв."},"month":{"previous":"в прошлом мес.","current":"в этом мес.","next":"в следующем мес.","past":"{0} мес. назад","future":"через {0} мес."},"week":{"previous":"на прошлой нед.","current":"на этой нед.","next":"на следующей нед.","past":"{0} нед. назад","future":"через {0} нед."},"day":{"previous":"вчера","previous-2":"позавчера","current":"сегодня","next":"завтра","next-2":"послезавтра","past":"{0} дн. назад","future":"через {0} дн."},"hour":{"current":"в этот час","past":{"one":"{0} ч. назад","other":"{0} ч. назад"},"future":{"one":"через {0} ч.","other":"через {0} ч."}},"minute":{"current":"в эту минуту","past":"{0} мин. назад","future":"через {0} мин."},"second":{"current":"сейчас","past":"{0} сек. назад","future":"через {0} сек."}},"narrow":{"year":{"previous":"в пр. г.","current":"в эт. г.","next":"в сл. г.","past":{"many":"-{0} л.","other":"-{0} г."},"future":{"many":"+{0} л.","other":"+{0} г."}},"quarter":{"previous":"посл. кв.","current":"тек. кв.","next":"след. кв.","past":"-{0} кв.","future":"+{0} кв."},"month":{"previous":"в пр. мес.","current":"в эт. мес.","next":"в след. мес.","past":"-{0} мес.","future":"+{0} мес."},"week":{"previous":"на пр. нед.","current":"на эт. нед.","next":"на след. неделе","past":"-{0} нед.","future":"+{0} нед."},"day":{"previous":"вчера","previous-2":"позавчера","current":"сегодня","next":"завтра","next-2":"послезавтра","past":"-{0} дн.","future":"+{0} дн."},"hour":{"current":"в этот час","past":"-{0} ч.","future":"+{0} ч."},"minute":{"current":"в эту минуту","past":"-{0} мин.","future":"+{0} мин."},"second":{"current":"сейчас","past":"-{0} с","future":"+{0} с"}},"now":{"now":{"current":"сейчас","past":"только что","future":"сейчас"}},"mini":{"year":{"past":{"many":"{0} л","other":"{0} г"},"future":{"many":"{0} л","other":"{0} г"}},"month":"{0} мес","week":"{0} нед","day":"{0} д","hour":"{0} ч","minute":"{0} мин","second":"{0} с","now":"сейчас"},"short-time":{"year":{"many":"{0} л.","other":"{0} г."},"month":"{0} мес.","week":"{0} нед.","day":{"one":"{0} д.","other":"{0} дн."},"hour":"{0} ч.","minute":"{0} мин.","second":"{0} сек."},"long-time":{"year":{"one":"{0} год","many":"{0} лет","other":"{0} года"},"month":{"one":"{0} месяц","many":"{0} месяцев","other":"{0} месяца"},"week":{"one":"{0} неделю","many":"{0} недель","other":"{0} недели"},"day":{"one":"{0} день","few":"{0} дня","other":"{0} дней"},"hour":{"one":"{0} час","many":"{0} часов","other":"{0} часа"},"minute":{"one":"{0} минута","many":"{0} минут","other":"{0} минуты"},"second":{"one":"{0} секунда","many":"{0} секунд","other":"{0} секунды"}}}')},"8bbf":function(t,e){t.exports=n(1)},"96a4":function(t,e,n){(e=n("24fb")(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Roboto+Condensed:700&subset=cyrillic);"]),e.push([t.i,"#lh-talker-client{margin-left:7px;margin-right:7px}",""]),t.exports=e},"98b8":function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n,o=Object.prototype,r=o.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",m=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var r=e&&e.prototype instanceof O?e:O,c=Object.create(r.prototype),l=new M(o||[]);return c._invoke=function(t,e,n){var o=C;return function(r,c){if(o===w)throw new Error("Generator is already running");if(o===x){if("throw"===r)throw c;return R()}for(n.method=r,n.arg=c;;){var l=n.delegate;if(l){var m=j(l,n);if(m){if(m===k)continue;return m}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===C)throw o=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=w;var d=v(t,e,n);if("normal"===d.type){if(o=n.done?x:y,d.arg===k)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=x,n.method="throw",n.arg=d.arg)}}}(t,n,l),c}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var C="suspendedStart",y="suspendedYield",w="executing",x="completed",k={};function O(){}function _(){}function T(){}var E={};E[l]=function(){return this};var L=Object.getPrototypeOf,A=L&&L(L(N([])));A&&A!==o&&r.call(A,l)&&(E=A);var P=T.prototype=O.prototype=Object.create(E);function I(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,n){function o(c,l,m,d){var h=v(t[c],t,l);if("throw"!==h.type){var f=h.arg,C=f.value;return C&&"object"===e(C)&&r.call(C,"__await")?n.resolve(C.__await).then((function(t){o("next",t,m,d)}),(function(t){o("throw",t,m,d)})):n.resolve(C).then((function(t){f.value=t,m(f)}),(function(t){return o("throw",t,m,d)}))}d(h.arg)}var c;this._invoke=function(t,e){function r(){return new n((function(n,r){o(t,e,n,r)}))}return c=c?c.then(r,r):r()}}function j(t,e){var o=t.iterator[e.method];if(o===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,j(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var r=v(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,k;var c=r.arg;return c?c.done?(e[t.resultName]=c.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,k):c:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function N(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:R}}function R(){return{value:n,done:!0}}return _.prototype=P.constructor=T,T.constructor=_,_.displayName=h(T,d,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,h(t,d,"GeneratorFunction")),t.prototype=Object.create(P),t},t.awrap=function(t){return{__await:t}},I(S.prototype),S.prototype[m]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,o,r,c){void 0===c&&(c=Promise);var l=new S(f(e,n,o,r),c);return t.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},I(P),h(P,d,"Generator"),P[l]=function(){return this},P.toString=function(){return"[object Generator]"},t.keys=function(object){var t=[];for(var e in object)t.push(e);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in object)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,r){return l.type="throw",l.arg=t,e.next=o,r&&(e.method="next",e.arg=n),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],l=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var m=r.call(c,"catchLoc"),d=r.call(c,"finallyLoc");if(m&&d){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(m){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,k):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),B(e),k}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;B(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:N(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),k}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n("62e4")(t))},a34a:function(t,e,n){t.exports=n("98b8")},a48d:function(t,e){t.exports=n(452)},cebe:function(t,e){t.exports=n(118)},f652:function(t,e){t.exports=n(453)},fb15:function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"CommentAvatar",(function(){return qo})),n.d(o,"CommentAuthorContainer",(function(){return Wo})),n.d(o,"CommentAuthorContent",(function(){return Yo})),n.d(o,"CommentAuthorAndDate",(function(){return Jo})),n.d(o,"CommentDateAndUpdated",(function(){return Xo})),n.d(o,"CommentDate",(function(){return Qo})),n.d(o,"CommentEdited",(function(){return er})),n.d(o,"CommentEditedText",(function(){return nr})),n.d(o,"AppIcons",(function(){return rr})),n.d(o,"AppLink",(function(){return ir}));var r={};n.r(r),n.d(r,"CustomConfirmContainer",(function(){return di})),n.d(r,"CustomConfirmText",(function(){return hi})),n.d(r,"CustomConfirmButton",(function(){return fi}));var c={};if(n.r(c),n.d(c,"ActionSheetWrapper",(function(){return Ma})),n.d(c,"ActionSheetOverlay",(function(){return Na})),n.d(c,"ActionSheetContainer",(function(){return $a})),n.d(c,"ActionSheetContent",(function(){return Va})),n.d(c,"ActionSheetText",(function(){return za})),n.d(c,"ActionSheetButton",(function(){return Ua})),"undefined"!=typeof window){var l=window.document.currentScript,m=n("8875");l=m(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:m});var d=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);d&&(n.p=d[1])}var h,f,v,C,y,w,x=n("8bbf"),k=n.n(x),O=n("5880"),_=n.n(O),T=n("1856"),E=n.n(T),L=n("018c"),A=n.n(L),P=n("6b16"),I=n.n(P),S=n("47a6"),j=n.n(S),D=n("0906"),B=n.n(D),M=n("62ae"),N=n.n(M),R=n("a48d"),$=n.n(R),V=n("f652"),z=n.n(V),U=["lifehacker.ru","wp.lifehacker.ru","proxy.lifehacker.ru","node-green.lifehacker.ru","node-blue.lifehacker.ru"].includes(window.location.host),H=Object({NODE_ENV:"production",BASE_URL:"/wp-content/plugins/lh-talker/frontend/dist/"}),F=(H.VUE_APP_TALKER_URL,H.VUE_APP_PUSHER_URL,H.VUE_APP_COOKIE_NAME,H.VUE_APP_FULL_SEARCH_URL,"post_comments_update."),K=U?"https://talker.lifehacker.ru":"https://talker-stage.lifehacker.ru",Z=U?"accessToken":"accessTokenStage",W=U?"https://pusher.lifehacker.ru":"https://pusher-stage.lifehacker.ru",G=U?"https://fullsearch.lifehacker.ru":"https://fullsearch-stage.lifehacker.ru",Y="SHOW_INPUT_AREA",J="SHOW_REPLY_INPUT_AREA",X="SEND_COMMENT",Q="UPDATE_RATING",tt="REPORT_COMMENT",et=n("a34a"),nt=n.n(et),ot=n("831f"),it=n("fe60"),at=n.n(it);function st(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ct(t,e,n,o,r,c,l,m){var d,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=n,h._compiled=!0),o&&(h.functional=!0),c&&(h._scopeId="data-v-"+c),l?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},h._ssrRegister=d):r&&(d=m?function(){r.call(this,(h.functional?this.parent:this).$root.$options.shadowRoot)}:r),d)if(h.functional){h._injectStyles=d;var f=h.render;h.render=function(t,e){return d.call(e),f(t,e)}}else{var v=h.beforeCreate;h.beforeCreate=v?[].concat(v,d):[d]}return{exports:t,options:h}}var ut,component=ct({name:"ScrollToNewCommentButton",components:{ButtonWrapper:z.a.div(h||(h=st(["\n  position: absolute;\n  height: 100%;\n  right: 0;\n  left: calc(50% - 117px);\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.bigTablet(f||(f=st(["\n    left: 60%;\n  "])))})),ButtonContainer:z.a.div(v||(v=st(["\n  width: 256px;\n  height: 40px;\n  border-radius: 6px;\n  box-shadow: 0 2px 10px 0 rgba(187, 186, 186, 0.5);\n  background-color: ",";\n  display: flex;\n  pointer-events: auto;\n  position: sticky;\n  right: 0;\n  align-items: center;\n  justify-content: space-between;\n  top: calc(100% - 95px);\n  padding-left: 15px;\n  padding-right: 15px;\n  cursor: pointer;\n  z-index: 99;\n  margin-top: 0;\n  left: 100%;\n  \n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.mixins.respondTo.tablet(C||(C=st(["\n    top: calc(100% - 60px);\n  "])))})),ButtonText:z.a.div(y||(y=st(["\n  font-size: 14px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.29;\n  letter-spacing: normal;\n  color: ",";\n"])),(function(t){return t.theme.colors.blackColor})),ButtonCount:z.a.div(w||(w=st(["\n  width: 37px;\n  height: 24px;\n  color: ",";\n  border-radius: 12px 12px 12px 0;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  font-weight: bold;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: 1.29;\n  letter-spacing: normal;\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.colors.hoverColor}))},props:{countNewComments:{type:Number,required:!0}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button-wrapper",[n("button-container",{nativeOn:{click:function(e){return t.$emit("scroll-to-new-comment")}}},[n("button-text",[t._v("К новому комментарию")]),n("button-count",{domProps:{textContent:t._s(t.countNewComments>99?"99+":t.countNewComments)}})],1)],1)}),[],!1,null,null,null);var lt,mt,pt=ct({name:"CommentsList",components:{ScrollToNewCommentButton:component.exports,CommentListWrapper:z.a.div(ut||(lt=["\n  margin-top: 16px;\n  width: 100%;\n  position: relative;\n"],mt||(mt=lt.slice(0)),ut=Object.freeze(Object.defineProperties(lt,{raw:{value:Object.freeze(mt)}}))))},props:{countNewComments:{type:Number,required:!0}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("comment-list-wrapper",[t.countNewComments?n("scroll-to-new-comment-button",{attrs:{countNewComments:t.countNewComments},on:{"scroll-to-new-comment":function(e){return t.$emit("scroll-to-new-comment")}}}):t._e(),t._t("default")],2)}),[],!1,null,null,null).exports,ht=".scroll-to-comments",ft=".lh-talker-comments-counter",gt="TALKER_SET_POST_ID",vt="TALKER_FETCH_COMMENTS",bt="TALKER_SEND_COMMENTS",Ct="TALKER_DELETE_COMMENT",yt="TALKER_EDIT_COMMENT_ON_SERVER",wt="TALKER_REMOVE_ATTACHMENT",xt="TALKER_REMOVE_VIDEO",kt="TALKER_SET_RELATION_TO_COMMENT",Ot="TALKER_REPORT_COMMENT",_t="TALKER_STORE_FILE",Tt="TALKER_STORE_VIDEO",Et="TALKER_ADD_FILE_TO_COMMENT",Lt="TALKER_ADD_VIDEO_TO_COMMENT",At="TALKER_EDIT_COMMENT_CONTENT",Pt="TALKER_ON_LOGOUT",It="TALKER_ON_LOGIN",St="TALKER_IF_COMMENT_LINK",jt="TALKER_START_FETCHING",Dt="TALKER_STOP_FETCHING",Bt="TALKER_SET_TRUE_NO_NEW_COMMENTS",Mt="TALKER_REMOVE_NEW_COMMENTS",Nt="TALKER_SET_COMMENTS",Rt="TALKER_INCREMENT_PAGE",$t="TALKER_SET_TRUE_COMMENTS_FETCHED_FOR_THE_FIRST_TIME",Vt="TALKER_SET_INITIALIZED",zt="TALKER_START_LOADING",Ut="TALKER_STOP_LOADING",Ht="TALKER_SET_COMMENT_ID_TO_REPLY",Ft="TALKER_SET_COMMENT_ID_TO_EDIT",Kt="TALKER_ADD_NEW_COMMENT",Zt="TALKER_UPDATE_COMMENT",qt="TALKER_HANDLE_DELETE_COMMENT_MESSAGE",Wt="TALKER_READ_NEW_COMMENT",Gt="TALKER_SET_TRUE_IS_RENDER_ALL_COMMENTS",Yt="TALKER_UPDATE_LAST_READ_COMMENT_ID",Jt="TALKER_UPDATE_SORT_TYPE",Xt="TALKER_UPDATE_NEW_COMMENT_VALUE",Qt="TALKER_UPDATE_NEW_COMMENT_VIDEO",te="TALKER_UPDATE_NEW_COMMENT_ATTACHMENT",ee="TALKER_UPDATE_NEW_COMMENT_ATTACHMENT_PREVIEW",ne="TALKER_REMOVE_NEW_COMMENT_DATA",oe="TALKER_UPDATE_REPLY_COMMENT_VALUE",re="TALKER_UPDATE_REPLY_COMMENT_VIDEO",ie="TALKER_UPDATE_REPLY_COMMENT_ATTACHMENT",ae="TALKER_UPDATE_REPLY_COMMENT_ATTACHMENT_PREVIEW",se="TALKER_REMOVE_REPLY_COMMENT_DATA",ce="TALKER_UPDATE_ACTIVE_INPUT_AREA_TYPE",ue="TALKER_SET_DELAYED_ACTION",le="TALKER_REMOVE_DELAYED_ACTION",me="TALKER_SET_BANNED_STATUS_TO_TRUE",pe="TALKER_ADD_NOTIFICATION",de="TALKER_REMOVE_NOTIFICATION",he="TALKER_SET_POST_TITLE",fe="TALKER_SHOW_ACTION_SHEET",ge="TALKER_HIDE_ACTION_SHEET",ve=n("cebe"),be=n.n(ve);function Ce(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ye(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ce(Object(source),!0).forEach((function(e){we(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Ce(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"passEventToGa",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Комментарии",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.location.pathname;window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e,eventCategory:n,eventAction:t,eventLabel:r,eventValue:o})}function ke(t){var e=document.cookie.match(new RegExp("(?:^|; )".concat(t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1"),"=([^;]*)")));return e?decodeURIComponent(e[1]):void 0}function Oe(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return new Promise((function(o){e&&setTimeout((function(){window.location.href="#",window.location.href=t,o()}),n)}))}function _e(t,e,n){return t.split(e).join(n)}var Te,Ee,Le=function(t,e){var n,o,r=t.response;null!=r&&null!==(n=r.data)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.isBanned&&e(me)};function Ae(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Pe(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Ie(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Pe(Object(source),!0).forEach((function(e){Se(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Pe(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var je,De,Be,Me,Ne=ct({name:"SubscriptionStatusSwitch",components:{SwitchContainer:z.a.div(Te||(Te=Ae(["\n  display: flex;\n  flex-direction: row-reverse;\n  label {\n    display: flex;\n    font-style: normal;\n    font-weight: 700;\n    font-size: 16px;\n    font-family: ",";\n    line-height: 28px;\n    color: ",";\n    width: 100%;\n  }\n  input {\n    vertical-align: top;\n    margin: 0 3px 0 0;\n    width: 10px;\n    height: 10px;\n\n    & + label{\n      cursor: pointer;\n    }\n\n    &:not(checked){\n      position: absolute;\n      opacity: 0;\n    }\n\n    &:not(checked) + label{\n      position: relative;\n      padding: 0;\n\n      ","\n    }\n\n    &:not(checked) + label:before{\n      content: '';\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n      right: 0;\n      width: 32px;\n      height: 16px;\n      border-radius: 17px;\n      background: ",";\n    }\n\n    &:not(checked) + label:after{\n      content: '';\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n      right: 15px;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      border: 2px solid ",";\n      background: ",";\n      transition: all .2s;\n      box-sizing: content-box;\n    }\n\n    &:not(checked):hover + label:after{\n      border-color: ",";\n    }\n\n    &:checked + label:before{\n      background-color: ",";\n    }\n\n    &:checked + label:after{\n      border-color: ",";\n    }\n\n    &:checked + label:after {\n      right: -5px;\n    }\n  }\n"])),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.colors.blackColor}),(function(t){return t.theme.mixins.respondTo.tablet(Ee||(Ee=Ae(["\n        padding-right: 55px;\n      "])))}),(function(t){return t.theme.colors.lightGrayColor}),(function(t){return t.theme.colors.darkGrayColor}),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.colors.greenColor}),(function(t){return t.theme.colors.greenColor}),(function(t){return t.theme.colors.greenColor}))},data:function(){return{isSubscription:!1}},computed:Ie(Ie({},Object(O.mapState)({integerId:function(t){return t.talker.userData.integerId},postId:function(t){return t.talker.postId},isFetching:function(t){return t.talker.fetching},postTitle:function(t){return t.articles.currentArticleTitle}})),{},{isAuthorization:function(){return!!this.$store.state.talker.userData.integerId}}),methods:Ie(Ie({},Object(O.mapMutations)({showNotification:pe})),{},{getStatus:function(){var t=this;this.isAuthorization&&k.a.prototype.$api.getSubscriptionStatus(this.integerId).then((function(t){return t.data.data.comment_publish})).then((function(e){return e.includes(t.postId)})).then((function(e){t.isSubscription=e}))},toggleIsSubscription:function(){var t=this;if(this.isAuthorization){if(!this.isFetching){var e=this.$store.dispatch;e(jt);var n=this.isSubscription?"unsub":"sub",data={action:n,event:"comment_publish",object:this.postId},o=this.isSubscription?"Отписка от комментариев":"Подписка на комментарии";k.a.prototype.$api.updateSubscriptionStatus(this.integerId,data).then((function(t){return t.data.data.comment_publish})).then((function(e){return e.includes(t.postId)})).then((function(r){t.isSubscription=r,e(Dt),xe(o);var c="sub"===n?"Вы подписались на комментарии":"Вы отписались от комментариев",l=window.location.pathname.includes("recipe")?"к рецепту":"к статье",m="".concat(c," ").concat(l,' <span class="article-title">').concat(t.postTitle,"</span>");t.showNotification(m)}))}}else this.$root.$emit("show-login-popup")},onLogout:function(){this.isSubscription=!1}}),created:function(){this.getStatus()},watch:{integerId:function(t){t?this.getStatus():this.onLogout()}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("switch-container",{attrs:{tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggleIsSubscription.apply(null,arguments)}},nativeOn:{click:function(e){return t.toggleIsSubscription.apply(null,arguments)}}},[n("input",{attrs:{type:"checkbox",id:"subscriptionStatus",disabled:""},domProps:{checked:t.isSubscription}}),n("label",{attrs:{for:"subscriptionStatus"}},[t._v("Уведомлять о комментариях")])])}),[],!1,null,null,null).exports,Re=n("06f4"),$e=n.n(Re);function Ve(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ze(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Ue(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ze(Object(source),!0).forEach((function(e){He(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ze(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function He(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe,Ke,Ze=ct({name:"TopInfo",components:{SubscriptionStatusSwitch:Ne,TopInfoContainer:z.a.div(je||(je=Ve(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  background-color: ",";\n  flex-direction: column;\n  padding: 0;\n\n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.mixins.respondTo.tablet(De||(De=Ve(["\n    flex-direction: row;\n    padding: 0 0 8px;\n    align-items: flex-end;\n  "])))})),TopInfoTitle:z.a.div(Be||(Be=Ve(["\n  font-family: ",";\n  font-size: 28px;\n  color: ",";\n  font-style: normal;\n  font-weight: bold;\n  line-height: 36px;\n  margin-bottom: 16px;\n\n  ","\n"])),(function(t){return t.theme.fonts.commentsCountFont}),(function(t){return t.theme.colors.blackColor}),(function(t){return t.theme.mixins.respondTo.tablet(Me||(Me=Ve(["\n    margin-bottom: 0;\n  "])))}))},props:{total:{type:Number,required:!0},isDisableSubscriptionStatusSwitch:{type:Boolean,required:!0}},computed:Ue(Ue({},Object(O.mapState)({archivedAt:function(t){return t.talker.userData.archivedAt}})),{},{totalText:function(){return this.total?"".concat(this.total," ").concat((t=this.total,$e()(t,"комментарий","комментария","комментариев"))):"Нет комментариев";var t},hasSubscriptionStatusSwitch:function(){return!this.isDisableSubscriptionStatusSwitch&&!this.archivedAt}})},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("top-info-container",[n("top-info-title",{domProps:{textContent:t._s(t.totalText)}}),t.hasSubscriptionStatusSwitch?n("SubscriptionStatusSwitch"):t._e()],1)}),[],!1,null,null,null).exports;function qe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var We,Ge,Ye,Je,Xe=ct({name:"PreLoader",components:{LoaderWrapper:z.a.div(Fe||(Fe=qe(["\n  position: fixed;\n  z-index: 100000;\n  height: 50px;\n  left: 0;\n  right: 0;\n  top: 0;\n  background: rgba(255, 255, 255, 0);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),TheLoader:z.a.div(Ke||(Ke=qe(["\n  svg {\n      width: 30px;\n  }\n"])))}},(function(){var t=this.$createElement,e=this._self._c||t;return e("loader-wrapper",[e("the-loader",[e("svg",{attrs:{width:"135",height:"140",viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:"#ed5e42"}},[e("rect",{attrs:{y:"10",width:"15",height:"120",rx:"6"}},[e("animate",{attrs:{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),e("rect",{attrs:{x:"30",y:"10",width:"15",height:"120",rx:"6"}},[e("animate",{attrs:{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),e("rect",{attrs:{x:"60",width:"15",height:"140",rx:"6"}},[e("animate",{attrs:{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),e("rect",{attrs:{x:"90",y:"10",width:"15",height:"120",rx:"6"}},[e("animate",{attrs:{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),e("rect",{attrs:{x:"120",y:"10",width:"15",height:"120",rx:"6"}},[e("animate",{attrs:{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),e("animate",{attrs:{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})])])])],1)}),[],!1,null,null,null).exports;function Qe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tn,en,nn,on,rn,an=z.a.div(We||(We=Qe(["\n  display: flex;\n  padding-top: 0;\n  padding-bottom: 16px;\n  border-bottom: 2px solid ",";\n  margin-left: -15px;\n  width: calc(100% + 30px);\n  padding-left: 15px;\n\n  ","\n"])),(function(t){return t.theme.colors.borderColor}),(function(t){return t.theme.mixins.respondTo.tablet(Ge||(Ge=Qe(["\n    padding-top: 16px;\n    padding-bottom: 14px;\n  "])))})),sn={isActive:Boolean,isTrending:Boolean},cn=ct({name:"SortSwitch",components:{SortSwitchWrapper:an,SortButton:z()("button",sn)(Ye||(Ye=Qe(["\n  border: none;\n  background-color: inherit;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 16px;\n  font-family: ",";\n  line-height: 19px;\n  display: flex;\n  align-items: center;\n  color: ",";\n  cursor: pointer;\n\n  .using-mouse & {\n    outline: none;\n  }\n\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.colors.blackColor}),(function(t){return t.theme.mixins.hover(Je||(Je=Qe(["\n    color: ",";\n  "])),t.theme.colors.hoverColor)}),(function(t){return t.isActive&&"\n    color: ".concat(t.theme.colors.hoverColor,";\n    font-weight: bold;\n  ")}),(function(t){return t.isTrending&&"\n    margin-right: 24px;\n  "}))},props:{isShowSwitch:{type:Boolean,required:!0}},computed:{type:{get:function(){return this.$store.state.talker.sortType},set:function(t){var e=this.$store,n=e.dispatch;e.state.talker.sortType!==t&&(n(Jt,{sortType:t}),n(vt,{sortType:t}))}},isAuthorized:function(){return this.$store.state.talker.userData.integerId}},methods:{updateType:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.type=t,!e){var n="trending"===t?"Сортировка_сначала лучшее":"Сортировка_по порядку";xe(n)}}},mounted:function(){var t=localStorage.getItem("lhTalkerSortType");t&&xe("Сортировка_активная",void 0,void 0,void 0,"trending"===t?"Сортировка_сначала лучшее":"Сортировка_по порядку")}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowSwitch?n("sort-switch-wrapper",[n("sort-button",{attrs:{isTrending:!0,isActive:"trending"===t.type},nativeOn:{click:function(e){return t.updateType("trending")}}},[t._v("Сначала лучшие")]),n("sort-button",{attrs:{isActive:"oldest"===t.type},nativeOn:{click:function(e){return t.updateType("oldest")}}},[t._v("По порядку")])],1):t._e()}),[],!1,null,null,null).exports;function un(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ln,mn=ct({name:"InputAreaInactiveState",components:{InputAreaText:z.a.p(tn||(tn=un(["\n  font-style: normal;\n  font-weight: 700;\n  font-size: 16px;\n  font-family: ",";\n  line-height: 20px;\n  align-items: center;\n  color: ",";\n"])),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.colors.darkGrayColor})),InputAreaIcon:z.a.span(en||(en=un(["\n  width: 24px;\n  height: 24px;\n  margin-right: 12px;\n"]))),InputAreaButton:z.a.button(nn||(nn=un(["\n  border: 2px solid ",";\n  box-sizing: border-box;\n  border-radius: 2px;\n  height: 48px;\n  background-color: inherit;\n  display: flex;\n  width: 100%;\n  padding: 0 10px;\n  align-items: center;\n  margin: 32px 0;\n  cursor: pointer;\n\n  .using-mouse & {\n    outline: none;\n  }\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.colors.whisperColor}),(function(t){return t.theme.mixins.respondTo.tablet(on||(on=un(["\n    margin: 16px 0 8px;\n  "])))}),(function(t){return t.theme.mixins.hover(rn||(rn=un(["\n    .input-area__text {\n      color: ",";\n    }\n    .input-area__icon {\n      path {\n        stroke: ",";\n      }\n      rect {\n        fill: ",";\n      }\n    }\n  "])),t.theme.colors.blackColor,t.theme.colors.blackColor,t.theme.colors.blackColor)}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input-area-button",[n("input-area-icon",{staticClass:"input-area__icon"},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M20.99 4V4.00056L20.9987 19.5844L18.7071 17.2929L18.4142 17H18H4C3.45228 17 3 16.5477 3 16V4C3 3.45228 3.45228 3 4 3H20C20.5412 3 20.99 3.44575 20.99 4Z",stroke:"#5C5C5C","stroke-width":"2"}}),n("rect",{attrs:{x:"6",y:"6",width:"12",height:"2",fill:"#5C5C5C"}}),n("rect",{attrs:{x:"6",y:"10",width:"9",height:"2",fill:"#5C5C5C"}})])]),n("input-area-text",{staticClass:"input-area__text"},[t._v("Написать комментарий")])],1)}),[],!1,null,null,null).exports;var pn,dn,hn,fn,gn,vn,bn=ct({name:"Editable",components:{EditableInput:z.a.div(ln||(ln=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  width: 100%;\n  font-size: 16px;\n  line-height: 1.375;\n  color: ",";\n  border-radius: 4px;\n  border: none;\n  resize: none;\n  transition: all 300ms;\n  min-height: 1em;\n  white-space: pre-wrap;\n  -webkit-appearance: none;\n  \n  .using-mouse & {\n    outline: none;\n  }\n"])),(function(t){return t.theme.colors.nightRiderColor}))},computed:{newCommentValue:function(){return this.$store.state.talker.newCommentValue}},methods:{setContent:function(content){this.$refs.content.$el.innerHTML=content},focusMe:function(t){var e=this;this.$refs.content.$el.focus(),t&&setTimeout((function(){e.setEnd()}),0)},setEnd:function(){var t,e,n;t=this.$refs.content.$el,document.createRange?((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(e)):document.selection&&((e=document.body.createTextRange()).moveToElementText(t),e.collapse(!1),e.select())},onKeyEnter:function(t){(t.ctrlKey||t.metaKey)&&(this.$emit("meta-enter-pressed"),t.preventDefault())},onEscapePress:function(t){this.$emit("escape-key-pressed"),t.preventDefault()},handlePaste:function(t){t.preventDefault();try{var e=(t.originalEvent||t).clipboardData,text="";e.types.includes("text/uri-list")?text=e.getData("text/uri-list"):e.types.includes("text/plain")&&(text=e.getData("text/plain")),document.execCommand("insertText",!1,text)}catch(t){}return!1}},mounted:function(){var t=this;this.$refs.content.$el.addEventListener("paste",this.handlePaste),this.$root.$on("talker-clear-input",(function(){return t.setContent("")}))}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editable"},[n("editable-input",{ref:"content",attrs:{contenteditable:""},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onKeyEnter.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"escape",void 0,e.key,void 0)?null:t.onEscapePress.apply(null,arguments)}]},nativeOn:{input:function(e){return function(e){return t.$emit("input",e)}.apply(null,arguments)}}})],1)}),[],!1,null,null,null).exports,Cn=n("027d"),yn=n.n(Cn);function wn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var xn,kn,On,_n,Tn,En,Ln,An,Pn,In=ct({name:"VideoPicker",components:{VideoPickerContainer:z.a.div(pn||(pn=wn(["\n  width: 215px;\n  padding: 30px 15px 15px 15px;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n\n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.mixins.respondTo.tablet(dn||(dn=wn(["\n    width: 290px;\n  "])))})),VideoPickerList:z.a.div(hn||(hn=wn(["\n  font-size: 10px;\n  color: ",";\n  padding-top: 10px;\n"])),(function(t){return t.theme.colors.pinkSwanColor})),VideoPickerTitle:z.a.div(fn||(fn=wn(["\n  padding-bottom: 30px;\n  font-size: 18px;\n  font-weight: bold;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.bigTablet(gn||(gn=wn(["\n    font-size: 24px;\n  "])))})),VideoPickerInput:z.a.input(vn||(vn=wn(["\n  width: 100%;\n  height: 24px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  font-size: 10px;\n  padding: 0 10px;\n  box-shadow: none;\n  font-family: ",";\n\n  .using-mouse & {\n    outline: none;\n  }\n"])),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.fonts.mainFont}))},data:function(){return{videoLink:""}},methods:{onChange:function(){var t=this;if(this.videoLink){var link=this.videoLink,e=yn()({url:link,width:180,height:100});k.a.prototype.$api.addVideo(e).then((function(e){t.$emit("add-video",e.data)}))}}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-picker"},[n("video-picker-container",{nativeOn:{click:function(t){t.stopPropagation()}}},[n("video-picker-title",[t._v("Прикрепить видео")]),n("video-picker-input",{attrs:{placeholder:"Ссылка"},nativeOn:{change:function(e){return t.onChange.apply(null,arguments)}},model:{value:t.videoLink,callback:function(e){t.videoLink=e},expression:"videoLink"}}),n("video-picker-list",[t._v("Youtube, Vimeo, DailyMotion, Facebook")])],1)],1)}),[],!1,null,null,null).exports;function Sn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var jn,Dn,Bn,Mn,Nn,Rn,$n,Vn,zn=z.a.div(xn||(xn=Sn(["\n  position: relative;\n  margin-bottom: -1px;\n  display: none;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.bigTablet(kn||(kn=Sn(["\n    display: block;\n  "])))})),Un=z.a.div(On||(On=Sn(['\n  display: flex;\n  align-items: center;\n  \n  input[type="file"] {\n    display: none;\n  }\n']))),Hn=z.a.input(_n||(_n=Sn(["\n  display: none;\n"]))),Fn={active:Boolean},Kn=ct({name:"CommentEditingPanel",components:{VideoPicker:In,EditWrapper:Un,EmojiPickerContainer:zn,TheInput:Hn,AddAttachmentIcon:z()("div",Fn)(Tn||(Tn=Sn(["\n  height: 18px;\n  cursor: pointer;\n  padding: 0 12px;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  display: inline-block;\n\n  ","\n  \n  ","\n"])),(function(t){return t.theme.mixins.hover(En||(En=Sn(["\n    path {\n      fill: ",";\n    }\n  "])),t.theme.colors.blackColor)}),(function(t){return t.active&&"\n    path {\n      fill: ".concat(t.theme.colors.blackColor,";\n    }\n  ")})),AddVideoWrapper:z.a.div(Ln||(Ln=Sn(["\n  position: relative;\n  font-size: 0;\n"]))),AddVideoPopup:z.a.div(An||(An=Sn(["\n  position: absolute;\n  bottom: calc(100% + 14px);\n  left: -28px;\n  transform: translateX(-50%);\n  z-index: 1900;\n  &:after {\n    content: '';\n    background: ",";\n    position: absolute;\n    width: 15px;\n    height: 15px;\n    border-bottom: 1px solid ",";\n    border-right: 1px solid ",";\n    transform: rotate(45deg) translateX(-50%);\n    left: calc(50% + 46px);\n    top: calc(100% - 3px);\n  }\n  \n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.mixins.respondTo.bigTablet(Pn||(Pn=Sn(["\n    left: 50%;\n    &:after {\n      left: calc(50% - 3px);\n    }\n  "])))}))},props:{isAttachment:{type:Boolean,required:!0},videoPickerIsVisible:{type:Boolean,required:!0},isVideo:{type:Boolean,required:!0}},methods:{pickFile:function(){this.$refs.fileInput.$el.click(),xe("Изображение")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("edit-wrapper",[t._t("default"),n("emoji-picker-container",{nativeOn:{click:function(t){return t.stopPropagation(),function(){}.apply(null,arguments)}}},[n("the-input",{ref:"fileInput",attrs:{type:"file",accept:"image/jpeg,image/png,image/pjpeg,image/gif"},nativeOn:{change:function(e){return function(e){return t.$emit("file-change",e)}.apply(null,arguments)}}})],1),n("add-attachment-icon",{attrs:{active:t.isAttachment,title:"Прикрепить картинку",tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pickFile.apply(null,arguments)}},nativeOn:{click:function(e){return t.pickFile.apply(null,arguments)}}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M14 2V14H2V2H14ZM14 0H2C0.9 0 0 0.9 0 2V14C0 15.1 0.9 16 2 16H14C15.1 16 16 15.1 16 14V2C16 0.9 15.1 0 14 0ZM10 8L8 11L6 9.14L3 13H13L10 8Z",fill:"#5C5C5C"}})])]),n("add-video-wrapper",[t.videoPickerIsVisible?n("add-video-popup",[n("VideoPicker",{on:{"add-video":function(data){return t.$emit("add-video",data)}}})],1):t._e(),n("add-attachment-icon",{attrs:{active:t.isVideo,title:"Прикрепить видео",tabindex:"0"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("toggle-video-picker")}},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("toggle-video-picker")}}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M6 4V12L11 8L6 4ZM14 0H2C0.9 0 0 0.9 0 2V14C0 15.1 0.9 16 2 16H14C15.1 16 16 15.1 16 14V2C16 0.9 15.1 0 14 0ZM14 14H2V2H14V14Z",fill:"#5C5C5C"}})])])],1)],2)}),[],!1,null,null,null).exports,Zn=ct({},(function(t,e){e._c;return e._m(0)}),[function(t,e){var n=e._c;return n("div",[n("i",[e._v("Вы не можете оставлять комментарии. Скорее всего, ваш аккаунт заблокирован за нарушение правил сайта."),n("br"),e._v("Вы можете связаться с модераторами по адресу moderator@lifehacker.ru")])])}],!0,null,null,null).exports;function qn(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Wn,Gn,Yn,Jn,Xn=z.a.div(jn||(jn=qn(["\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 15px;\n"]))),Qn=z.a.div(Dn||(Dn=qn(["\n  width: 100%;\n  margin: 15px 0;\n  position: relative;\n  display: inline-block;\n  \n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Bn||(Bn=qn(["\n    max-width: 100%;\n    width: auto;\n    max-height: 224px;\n  "])))})),to=z.a.img(Mn||(Mn=qn(["\n  width: 100%;\n  display: inline-block;\n  \n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Nn||(Nn=qn(["\n    max-width: 100%;\n    width: auto;\n    max-height: 224px;\n  "])))})),eo=ct({name:"CommentAttachmentsPreview",components:{PreviewsContainer:Xn,ImagePreviewWrapper:Qn,VideoPreviewWrapper:z.a.div(Rn||(Rn=qn(["\n  position: relative;\n  width: 180px;\n  margin: 15px 0;\n"]))),ImagePreview:to,DeleteAttachmentButton:z.a.div($n||($n=qn(["\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 17px;\n  width: 17px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.75;\n\n  ","\n"])),(function(t){return t.theme.colors.blackColor}),(function(t){return t.theme.mixins.hover(Vn||(Vn=qn(["\n    opacity: 1;  \n  "])))}))},props:{video:{type:Object},preview:{type:String}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.preview||t.video?n("previews-container",[t.preview?n("image-preview-wrapper",[n("image-preview",{attrs:{src:t.preview}}),n("delete-attachment-button",{nativeOn:{click:function(e){return t.$emit("delete-attachment")}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"}},[n("path",{attrs:{fill:"#D8D8D8","fill-rule":"evenodd",d:"M11.414 10.5l6.01 6.01a1 1 0 0 1-1.414 1.415L10 11.915l-6.01 6.01a1 1 0 1 1-1.415-1.415l6.01-6.01-6.01-6.01A1 1 0 1 1 3.99 3.075L10 9.085l6.01-6.01a1 1 0 0 1 1.415 1.415l-6.01 6.01z"}})])])],1):t._e(),t.video?n("video-preview-wrapper",[n("div",{domProps:{innerHTML:t._s(t.video.embed)}}),n("delete-attachment-button",{nativeOn:{click:function(e){return t.$emit("delete-video")}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"21",viewBox:"0 0 21 21"}},[n("path",{attrs:{fill:"#D8D8D8","fill-rule":"evenodd",d:"M11.414 10.5l6.01 6.01a1 1 0 0 1-1.414 1.415L10 11.915l-6.01 6.01a1 1 0 1 1-1.415-1.415l6.01-6.01-6.01-6.01A1 1 0 1 1 3.99 3.075L10 9.085l6.01-6.01a1 1 0 0 1 1.415 1.415l-6.01 6.01z"}})])])],1):t._e()],1):t._e()}),[],!1,null,null,null).exports;function no(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var oo,ro,io,ao,so,co,uo,lo,mo,po=z.a.div(Wn||(Wn=no(["\n  display: flex;\n  align-items: center;\n"]))),ho={tag:String},fo=ct({name:"BBCodePicker",components:{CodePickerTagsWrapper:po,CodePickerTagButton:z()("button",ho)(Gn||(Gn=no(["\n  display: inline;\n  font-size: 20px;\n  color: ",";\n  letter-spacing: 0;\n  cursor: pointer;\n  background: none;\n  border: none;\n  -webkit-appearance: none;\n  padding-right: 12px;\n  padding-left: 12px;\n  \n  &:first-child {\n    margin-left: -12px;\n    \n    ","\n  }\n  \n  ","\n  \n  ","\n  \n  ","\n  \n  .using-mouse & {\n    outline: none;\n  }\n"])),(function(t){return t.theme.colors.lightGrayColor}),(function(t){return t.theme.mixins.respondTo.mobile(Yn||(Yn=no(["\n      padding-left: 14px;\n      margin-left: 0;\n    "])))}),(function(t){return t.theme.mixins.hover(Jn||(Jn=no(["\n    path {\n      fill: ",";\n    }\n  "])),t.theme.colors.blackColor)}),(function(t){return"b"===t.tag?"\n    font-weight: 500;\n  ":""}),(function(t){return"i"===t.tag?"\n    font-style: italic;\n  ":""}))},data:function(){return{labels:{b:"Жирный",i:"Курсив",u:"Подчеркивание"}}},methods:{onTagClick:function(t){var content=this.getBBCode(t);this.insertBBCode({content:content,tag:t,tagLen:t.length+3}),xe(this.labels[t])},getBBCode:function(t){return"[".concat(t,"][/").concat(t,"]")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bb-code-picker"},[n("code-picker-tags-wrapper",[n("CodePickerTagButton",{attrs:{tag:"b",title:"Жирный",type:"button"},nativeOn:{click:function(e){return t.$emit("tag-click","b")}}},[n("svg",{attrs:{width:"9",height:"16",viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9 10.3445C9 12.072 8.64316 13.4464 7.92947 14.4679C7.22211 15.4893 6.24632 16 5.00211 16C3.80211 16 2.86737 15.5304 2.19789 14.5913L2.08421 15.7943H0V0H2.30211V5.73779C2.96526 4.88775 3.85895 4.46272 4.98316 4.46272C6.23368 4.46272 7.21579 4.96658 7.92947 5.97429C8.64316 6.98201 9 8.39075 9 10.2005V10.3445ZM6.6979 10.1285C6.6979 8.92202 6.50211 8.01714 6.11053 7.41388C5.71895 6.81063 5.15053 6.509 4.40526 6.509C3.40737 6.509 2.70632 6.98201 2.30211 7.92802V12.5141C2.71263 13.4807 3.42 13.964 4.42421 13.964C5.14421 13.964 5.7 13.6727 6.09158 13.09C6.48316 12.5073 6.68526 11.6264 6.6979 10.4473V10.1285Z",fill:"#5C5C5C"}})])]),n("CodePickerTagButton",{attrs:{tag:"i",title:"Курсив",type:"button"},nativeOn:{click:function(e){return t.$emit("tag-click","i")}}},[n("svg",{attrs:{width:"5",height:"14",viewBox:"0 0 5 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M2.41837 14H0L1.91837 3.86146H4.33673L2.41837 14ZM2.26531 1.26591C2.26531 0.922339 2.38776 0.62874 2.63265 0.385115C2.87755 0.14149 3.20748 0.0134306 3.62245 0.000937019C4.01701 -0.0115566 4.34354 0.100886 4.60204 0.338264C4.86735 0.569395 5 0.853624 5 1.19095C5 1.54702 4.87075 1.84062 4.61224 2.07175C4.36054 2.30288 4.03742 2.42469 3.64286 2.43719C3.2551 2.44968 2.92857 2.34348 2.66327 2.1186C2.39796 1.88747 2.26531 1.60324 2.26531 1.26591Z",fill:"#5C5C5C"}})])]),n("CodePickerTagButton",{attrs:{title:"Подчеркивание",type:"button"},nativeOn:{click:function(e){return t.$emit("tag-click","u")}}},[n("svg",{attrs:{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8.22496 10.5933C7.47276 11.5051 6.40422 11.9609 5.01933 11.9609C3.78207 11.9609 2.84359 11.5883 2.20387 10.843C1.57118 10.0977 1.25483 9.01954 1.25483 7.60854V0H3.81722V7.57598C3.81722 9.06657 4.41828 9.81187 5.62039 9.81187C6.86468 9.81187 7.70475 9.35239 8.1406 8.43343V0H10.703V11.7438H8.28823L8.22496 10.5933Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M0 13.9146H12V15H0V13.9146Z",fill:"#5C5C5C"}})])])],1)],1)}),[],!1,null,null,null).exports,go=ct({},(function(t,e){e._c;return e._m(0)}),[function(t,e){var n=e._c;return n("div",[n("i",[e._v("Вы удалили свой аккаунт и не можете оставлять комментарии и подписываться на них, ставить лайки и дизлайки, а также отправлять жалобы."),n("br"),e._v("В течение 14 дней после удаления профиль можно восстановить в личном кабинете.")])])}],!0,null,null,null).exports,vo={data:function(){return{bold:!1,underlined:!1,italic:!1,code:!1}},methods:{insertBBCode:function(t){switch(t){case"b":this.makeBold();break;case"i":this.makeItalic();break;case"u":this.makeUnderline();break;case"code":this.wrapWithTag("code")}},makeBold:function(){document.execCommand("bold",!1,null),this.$refs.editable.focusMe()},makeItalic:function(){document.execCommand("italic",!1,null),this.$refs.editable.focusMe()},makeUnderline:function(){document.execCommand("underline",!1,null),this.$refs.editable.focusMe()},wrapWithTag:function(t){""!==document.getSelection().toString()&&document.execCommand("insertHTML",!1,"<".concat(t,">").concat(document.getSelection(),"</").concat(t,">")),this.$22px.editable.focusMe()}}},bo={data:function(){return{videoPickerIsVisible:!1}},methods:{toggleVideoPicker:function(){this.videoPickerIsVisible=!this.videoPickerIsVisible,xe("Видео")}}},Co=1e6,yo=2e6;function wo(t){if(void 0===t||!t.size||!t.type)return!1;var e=t.type,n=t.size;switch(e){case"image/jpeg":case"image/png":case"image/pjpeg":if(n>yo)return alert("Слишком большой файл. Максимальный файл для загрузки – ".concat(yo/1e6," Мб")),!1;break;case"image/gif":if(n>Co)return alert("Слишком большой файл. Максимальный файл для загрузки – ".concat(Co/1e6," Мб")),!1;break;default:return alert("Формат файла не подходит. Выберите PNG, JPEG или GIF."),!1}return!0}function xo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ko={isReply:Boolean};function Oo(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Oo(Object(source),!0).forEach((function(e){To(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Oo(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function To(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Eo,Lo=ct({name:"InputArea",mixins:[vo,bo],components:{Editable:bn,CommentEditingPanel:Kn,MessageToBannedUser:Zn,CommentAttachmentsPreview:eo,BBCodePicker:fo,MessageToRemovedUser:go,InputAreaWrapper:z()("div",ko)(oo||(oo=xo(["\n  margin: 18px 0 8px;\n\n  ","\n"])),(function(t){return t.isReply&&"\n    margin: 0;\n    margin-top: 12px;\n  "})),TextAreaWrapper:z.a.div(ro||(ro=xo(["\n  border-radius: 2px;\n  border: 2px solid ",";\n  padding: 14px 14px 85px;\n  position: relative;\n\n  ","\n"])),(function(t){return t.theme.colors.borderColor}),(function(t){return t.theme.mixins.respondTo.mobile(io||(io=xo(["\n    padding-bottom: 50px;\n  "])))})),InputAreaPickers:z.a.div(ao||(ao=xo(["\n  display: flex;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  padding: 0 14px 14px 14px;\n  flex-direction: column-reverse;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.mobile(so||(so=xo(["\n    flex-direction: row;\n    align-items: center;\n  "])))})),SubmitButton:z()("button",{isDisable:!0})(co||(co=xo(["\n  height: 24px;\n  border-radius: 2px;\n  background: ",";\n  text-transform: uppercase;\n  color: ",";\n  cursor: pointer;\n  border: none;\n  display: inline-block;\n  user-select: none;\n  width: 104px;\n  text-align: center;\n  font-style: normal;\n  font-weight: 500;\n  font-family: ",";\n  font-size: 10px;\n  line-height: 12px;\n  letter-spacing: 1px;\n  margin-top: 10px;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  .using-mouse & {\n    outline: none;\n  }\n"])),(function(t){return t.theme.colors.hoverColor}),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.mixins.respondTo.mobile(uo||(uo=xo(["\n    margin-top: 0;\n    margin-right: 10px;\n  "])))}),(function(t){return t.theme.mixins.hover(lo||(lo=xo(["\n    background-color: ",";\n  "])),t.theme.colors.submitButtonHover)}),(function(t){return t.isDisable&&"\n    background: ".concat(t.theme.colors.lightGrayColor,";\n    cursor: default;\n  ")}),(function(t){return t.isDisable&&t.theme.mixins.hover(mo||(mo=xo(["\n    background: ",";\n  "])),t.theme.colors.lightGrayColor)}))},props:{replyTo:{type:Number,default:0}},data:function(){return{isSend:!1}},computed:_o(_o({},Object(O.mapState)({banned:function(t){return t.talker.userData.banned},isRemoved:function(t){return t.talker.userData.archivedAt},fetching:function(t){return t.talker.fetching},commentsCount:function(t){return t.talker.comments.length},activeInputAreaType:function(t){return t.talker.activeInputAreaType}})),{},{ableToSubmitComment:function(){return this.replyTo?""!==this.replyCommentValue.trim()||null!==this.replyCommentAttachment||null!==this.replyCommentVideo:""!==this.newCommentValue.trim()&&"<br>"!==this.newCommentValue.trim()||null!==this.newCommentAttachment||null!==this.newCommentVideo},isResponse:function(){return!!this.replyTo},newCommentValue:{get:function(){return this.$store.state.talker.newCommentValue},set:function(t){this.$store.dispatch(Xt,{value:t})}},replyCommentValue:{get:function(){return this.$store.state.talker.replyCommentValue},set:function(t){this.$store.dispatch(oe,{value:t})}},newCommentVideo:{get:function(){return this.$store.state.talker.newCommentVideo},set:function(video){this.$store.dispatch(Qt,{video:video})}},replyCommentVideo:{get:function(){return this.$store.state.talker.replyCommentVideo},set:function(video){this.$store.dispatch(re,{video:video})}},newCommentAttachment:{get:function(){return this.$store.state.talker.newCommentAttachment},set:function(t){this.$store.dispatch(te,{attachment:t})}},replyCommentAttachment:{get:function(){return this.$store.state.talker.replyCommentAttachment},set:function(t){this.$store.dispatch(ie,{attachment:t})}},newCommentAttachmentPreview:{get:function(){return this.$store.state.talker.newCommentAttachmentPreview},set:function(t){this.$store.dispatch(ee,{preview:t})}},replyCommentAttachmentPreview:{get:function(){return this.$store.state.talker.replyCommentAttachmentPreview},set:function(t){this.$store.dispatch(ae,{preview:t})}},isAuthorized:function(){return this.$store.state.talker.userData.integerId}}),methods:{hideReplyInput:function(){this.$store.dispatch(Ht,{commentId:null})},submitComment:function(){var t=this;if(!this.fetching&&this.ableToSubmitComment){var e=this.$store.dispatch,content=this.replyTo?this.replyCommentValue:this.newCommentValue,image=this.replyTo?this.replyCommentAttachment:this.newCommentAttachment,video=this.replyTo?this.replyCommentVideo:this.newCommentVideo;if(this.isAuthorized){e(bt,{content:content,image:image,video:video,parent:this.replyTo}).then((function(){t.replyTo&&t.hideReplyInput();var e=t.$refs.editable;(e&&e.setContent(""),t.deleteAttachment(),t.deleteVideo(),t.replyTo)?t.replyCommentValue="":(t.newCommentValue="",xe("top"===t.activeInputAreaType?"Кнопка написать комментарий верхняя_отправка":"Кнопка написать комментарий нижняя_отправка"))}))}else{this.$root.$emit("show-login-popup");var data={content:content,image:image,video:video,parent:this.replyTo};e(ue,{data:data,type:X})}}},onFileChange:function(t){var e=t.target.files[0];wo(e)&&(this.replyTo?this.replyCommentAttachment=e:this.newCommentAttachment=e,this.setPreviewImage(e))},setPreviewImage:function(t){var e=this,n=new FileReader;n.addEventListener("load",(function(t){e.replyTo?e.replyCommentAttachmentPreview=t.target.result:e.newCommentAttachmentPreview=t.target.result})),n.readAsDataURL(t)},deleteAttachment:function(){this.replyTo?(this.replyCommentAttachment=null,this.replyCommentAttachmentPreview=null):(this.newCommentAttachment=null,this.newCommentAttachmentPreview=null)},clickOutSide:function(){var t=this;window.addEventListener("click",(function(){t.videoPickerIsVisible=!1}))},addVideo:function(t){t.success&&(this.replyTo?this.replyCommentVideo=t.data:this.newCommentVideo=t.data),this.videoPickerIsVisible=!1},deleteVideo:function(){this.replyTo?this.replyCommentVideo=null:this.newCommentVideo=null},onInput:function(t){var e=this;this.replyTo?this.replyCommentValue=t.target.innerHTML:(this.newCommentValue=t.target.innerHTML,this.isSend||(xe("top"===this.activeInputAreaType?"Кнопка написать комментарий верхняя_ввод":"Кнопка написать комментарий нижняя_ввод"),this.isSend=!0));this.$nextTick((function(){if(document.getSelection().anchorNode){var t=document.getSelection().anchorNode.parentNode.nodeName.toUpperCase();e.bold="B"===t,e.italic="I"===t,e.underlined="U"===t,e.code="CODE"===t}}))},onEscapeKeyPressEditable:function(){this.$store.dispatch(ce,{type:null}),this.$store.dispatch(Ht,{commentId:null})}},mounted:function(){var t=this;this.clickOutSide(),(-1!==window.location.hash.indexOf("write-comment")||this.commentsCount>0)&&this.$nextTick((function(){t.banned||t.$refs.editable.focusMe()})),this.isResponse||this.banned||this.$refs.editable.setContent(this.newCommentValue)},destroyed:function(){this.$store.dispatch(se)}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("input-area-wrapper",{attrs:{isReply:t.isResponse}},[t.banned?n("MessageToBannedUser"):t.isRemoved?n("MessageToRemovedUser"):n("div",{staticClass:"form"},[n("text-area-wrapper",[n("editable",{ref:"editable",on:{input:t.onInput,"meta-enter-pressed":t.submitComment,"escape-key-pressed":t.onEscapeKeyPressEditable}}),n("input-area-pickers",[n("submit-button",{attrs:{isDisable:!t.ableToSubmitComment},nativeOn:{click:function(e){return t.submitComment.apply(null,arguments)}}},[t._v("Отправить")]),n("CommentEditingPanel",{attrs:{isAttachment:t.replyTo?!!t.replyCommentAttachment:!!t.newCommentAttachment,videoPickerIsVisible:t.videoPickerIsVisible,isVideo:t.replyTo?!!t.replyCommentVideo:!!t.newCommentVideo},on:{"file-change":t.onFileChange,"add-video":t.addVideo,"toggle-video-picker":t.toggleVideoPicker}},[n("BBCodePicker",{attrs:{bold:t.bold,underlined:t.underlined,italic:t.italic,code:t.code},on:{"tag-click":t.insertBBCode}})],1)],1)],1),n("CommentAttachmentsPreview",{attrs:{preview:t.replyTo?t.replyCommentAttachmentPreview:t.newCommentAttachmentPreview,video:t.replyTo?t.replyCommentVideo:t.newCommentVideo},on:{"delete-attachment":t.deleteAttachment,"delete-video":t.deleteVideo}})],1)],1)}),[],!1,null,null,null).exports,Ao=ct({name:"InputAreaContainer",components:{InputAreaInactiveState:mn,InputArea:Lo},props:{isShowInputArea:{type:Boolean,required:!0},type:{type:String,required:!0}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-area__container"},[t.isShowInputArea?n("InputArea"):n("InputAreaInactiveState",{nativeOn:{click:function(e){return t.$emit("show-input-area",t.type)}}})],1)}),[],!1,null,null,null).exports,Po=n("19e1"),Io=n.n(Po),So=n("88a4");var jo,Do,Bo,Mo,No,Ro,$o,Vo,zo,Uo,Ho,Fo,Ko=ct({name:"Tooltip",components:{TooltipContainer:z.a.div(Eo||(Eo=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  border: 1px solid ",";\n  border-radius: 4px;\n  background-color: ",";\n  padding: 10px 10px;\n  color: ",";\n  font-size: 10px;\n  white-space: nowrap;\n  position: absolute;\n  bottom: calc(100% + 10px);\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 10;\n  \n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    z-index: 9;\n    border-right: 1px solid ",";\n    border-bottom: 1px solid ",";\n    transform: rotate(45deg) translateX(-50%);\n    transform-origin: center;\n    background: ",";\n    top: 100%;\n    left: 50%;\n    width: 8px;\n    height: 8px;\n  }\n"])),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.colors.nightRiderColor}),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.colors.grayColor}),(function(t){return t.theme.colors.whiteColor}))},props:{content:{type:String,default:"No content!"},customStyle:{type:Object,default:function(){return null}}}},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("TooltipContainer",{style:t.customStyle,domProps:{innerHTML:t._s(t.content)}})}),[],!1,null,null,null).exports;function Zo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var qo=z.a.img(jo||(jo=Zo(["\n  z-index: 2;\n  height: 40px;\n  width: 40px;\n  max-width: 40px;\n  max-height: 40px;\n  border-radius: 50%;\n  margin-right: 8px;\n"]))),Wo=z.a.div(Do||(Do=Zo(["\n  display: flex;\n  width: 100%;\n"]))),Go={multiLines:Boolean},Yo=z()("div",Go)(Bo||(Bo=Zo(["\n  display: -webkit-box;\n  margin-right: 15px;\n  padding-bottom:0;\n\n  font-weight: 700;\n  font-family: ",";\n  color: ",";\n  font-size: 16px;\n\n  -webkit-box-orient: vertical;\n  white-space: normal;\n  object-fit: contain;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  ","\n"])),(function(t){return t.theme.fonts.commentsCountFont}),(function(t){return t.theme.colors.grayBlackColor}),(function(t){return t.multiLines&&"\n    font-size: 14px;\n  "})),Jo=z.a.div(Mo||(Mo=Zo(["\n  z-index: 4;\n  width: calc(100% - 48px);\n"]))),Xo=z.a.div(No||(No=Zo(["\n  display: flex;\n  align-items: center;\n"]))),Qo=z.a.div(Ro||(Ro=Zo(["\n  color: ",";\n  font-size: 12px;\n  font-family: ",";\n  line-height: 16px;\n  margin-right: 5px;\n  white-space: pre;\n"])),(function(t){return t.theme.colors.matterhornColor}),(function(t){return t.theme.fonts.mainFont})),er=z.a.div($o||($o=Zo(["\n  font-size: 12px;\n  color: ",";\n  margin-right: 5px;\n\n  ","\n"])),(function(t){return t.theme.colors.lightGrayColor}),(function(t){return t.theme.mixins.respondTo.bigTablet(Vo||(Vo=Zo(["\n    padding-top: 0;\n  "])))})),nr=z.a.span(zo||(zo=Zo(["\n  display: inline-block;\n  color: ",";\n"])),(function(t){return t.theme.colors.darkGrayColor})),or={android:Boolean,ios:Boolean},rr=z()("span",or)(Uo||(Uo=Zo(["\n  vertical-align: top !important;\n  display: flex;\n  svg {\n    path {\n      fill: ",";\n      ","\n    }\n  }\n"])),(function(t){return t.theme.colors.middleGrayColor}),(function(t){return t.theme.mixins.hover(Ho||(Ho=Zo(["\n        fill: ",";\n      "])),t.theme.colors.blackColor)})),ir=z.a.a(Fo||(Fo=Zo(["\n  height: auto;\n"])));function ar(t,e,n){return(ar=sr()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return n&&cr(o,n.prototype),o}).apply(null,arguments)}function sr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function cr(t,p){return(cr=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function ur(t){return function(t){if(Array.isArray(t))return lr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function mr(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Io.a.addDefaultLocale(So);var dr,fr=ct({name:"CommentAuthor",components:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?mr(Object(source),!0).forEach((function(e){pr(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):mr(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({Tooltip:Ko},o),props:{comment:{type:Object,required:!0},contentIsEditable:{type:Boolean,required:!1},deleted:{type:Boolean,required:!1},verified:{type:Boolean,required:!1},isEditCurrentComment:{type:Boolean,required:!0}},data:function(){return{authorMultiLines:!1}},computed:{commentAvatar:function(){return this.comment.avatar?this.comment.avatar.url:this.getDefaultAvatar()},commentAuthor:function(){var t=this.comment;return t.author.replace(/\s/g,"")||t.deleted?t.author:"Неизвестный хомяк"},showCommentIcons:function(){return!this.comment.flagged&&!this.contentIsEditable&&!this.deleted&&this.verified}},mounted:function(){setTimeout(this.calcAuthorMultiLines,500)},methods:{calcAuthorMultiLines:function(){this.authorMultiLines=this.$refs["comment-author"].$el.getBoundingClientRect().height>=33},getDefaultAvatar:function(){return n("7050")},getOnError:function(){var t=this.getDefaultAvatar();return"if(this.src != '".concat(t,"') this.src='").concat(t,"'; return true;")},getHumanReadableDate:function(t){var e=t;e=_e(e,"-",","),e=_e(e,":",",");var n=(e=_e(e," ",",")).split(",");(n=n.map((function(t){return+t})))[1]-=1;var o=ar(Date,ur(n)),r=(new Date).getTimezoneOffset()/60,c=o.getHours()-r;o.setHours(c);if(new Date-o<864e5){var l=new Io.a("ru-RU").format(o);return"1 день назад"===l?"вчера":l}var m=this.getWithLeadingZero(o.getDate()),d=this.getWithLeadingZero(o.getMonth()+1),h=o.getFullYear().toString().substr(-2),f="".concat(m,".").concat(d,".").concat(h),v=1===o.getHours().toString().length?"0".concat(o.getHours()):o.getHours(),C=1===o.getMinutes().toString().length?"0".concat(o.getMinutes()):o.getMinutes(),time="".concat(v,":").concat(C);return"".concat(f," ").concat(time)},getWithLeadingZero:function(t){var e=+t>9?+t:"0".concat(+t);return"".concat(e)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("comment-author-container",[n("comment-avatar",{attrs:{src:t.commentAvatar,onerror:t.getOnError()}}),n("comment-author-and-date",[n("comment-author-container",[n("comment-author-content",{ref:"comment-author",attrs:{multiLines:t.authorMultiLines}},[t._v(t._s(t.commentAuthor))]),t._t("default")],2),n("comment-date-and-updated",[n("comment-date",[t._v(t._s(t.getHumanReadableDate(t.comment.date_gmt)))]),null!==t.comment.updated_at?n("comment-edited",[n("comment-edited-text",[t._v("| изменено")])],1):t._e(),"lifehacker-android"===t.comment.app?n("app-link",{attrs:{href:"https://lh.su/talkerandroid",target:"_blank",rel:"noopener",title:"Комментарий отправлен из приложения Лайфхакер для Android"}},[n("app-icons",{attrs:{android:!0}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.98926 1.52734C10.0305 1.52734 11.7191 3.03675 12 5.00029H3.97852C4.25938 3.03675 5.94805 1.52734 7.98926 1.52734ZM4.61699 12.0001C4.25811 12.0001 3.96448 11.7001 3.96448 11.3334V6.00011H11.9915V11.3334C11.9915 11.7001 11.6979 12.0001 11.339 12.0001H10.9877V14.0001C10.9877 14.5534 10.5505 15.0001 10.0089 15.0001C9.46731 15.0001 9.03009 14.5534 9.03009 14.0001V12.0001H6.97604V14.0001C6.97604 14.5534 6.53886 15.0001 5.99727 15.0001C5.45569 15.0001 5.01852 14.5534 5.01852 14.0001V12.0001H4.61699ZM1.0002 7.00028C1.0002 6.44695 1.43738 6.00028 1.97896 6.00028C2.52054 6.00028 2.95773 6.44695 2.95773 7.00028L2.95753 10.0003C2.95753 10.5536 2.52035 11.0003 1.97876 11.0003C1.43718 11.0003 1 10.5536 1 10.0003L1.0002 7.00028ZM13.021 7.00011C13.021 6.44678 13.4582 6.00011 13.9998 6.00011C14.5413 6.00011 14.9785 6.44678 14.9785 7.00011L15.0036 10.0001C15.0036 10.5534 14.5664 11.0001 14.0248 11.0001C13.4833 11.0001 13.0461 10.5534 13.0461 10.0001L13.021 7.00011Z",fill:"#BFBFBF"}}),n("path",{attrs:{d:"M5 1L6 3",stroke:"#BFBFBF","stroke-linecap":"round"}}),n("path",{attrs:{d:"M11 1L10 3",stroke:"#BFBFBF","stroke-linecap":"round"}})])])],1):t._e(),"lifehacker-ios"===t.comment.app?n("app-link",{attrs:{href:"https://lh.su/talkerios",target:"_blank",rel:"noopener",title:"Комментарий отправлен из приложения Лайфхакер для iOS"}},[n("app-icons",{attrs:{ios:!0}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M10.3016 2.23281C10.1889 2.5787 10.0065 2.89928 9.78676 3.16591V3.1664C9.565 3.43455 9.26879 3.67164 8.93926 3.82884C8.63682 3.97311 8.30529 4.0508 7.97539 4.02509L7.87442 4.01722L7.86113 3.91668C7.81827 3.59247 7.86776 3.26426 7.972 2.96054C8.0933 2.60709 8.28979 2.28459 8.50062 2.04022L8.50058 2.04019C8.71876 1.78461 9.01135 1.56224 9.32469 1.40112C9.63909 1.23944 9.97675 1.13835 10.2841 1.12583L10.4002 1.12109L10.413 1.23716C10.4502 1.57659 10.4049 1.91566 10.3016 2.23282L10.3016 2.23281Z",fill:"#BFBFBF"}}),n("path",{attrs:{d:"M12.4377 5.28224C12.3264 5.35115 11.2499 6.01724 11.2632 7.35987C11.2773 8.97848 12.6498 9.53958 12.7255 9.57054H12.726L12.7293 9.5719L12.837 9.61648L12.8001 9.72668C12.7979 9.73321 12.8004 9.72626 12.7972 9.73651C12.7622 9.84871 12.5248 10.6092 11.9885 11.3929C11.7452 11.7483 11.4972 12.1033 11.2045 12.377C10.9014 12.6605 10.5553 12.8518 10.1276 12.8598C9.7246 12.8673 9.46074 12.7532 9.18644 12.6345C8.92489 12.5213 8.65289 12.4036 8.22723 12.4036C7.78009 12.4036 7.49427 12.5254 7.21895 12.6427C6.95979 12.7531 6.70915 12.8598 6.34806 12.8742H6.34757C5.93062 12.8897 5.56907 12.6865 5.24774 12.3854C4.94032 12.0974 4.67099 11.7203 4.42555 11.3653C3.87151 10.5653 3.38967 9.40129 3.24081 8.21769C3.11836 7.24413 3.22071 6.25515 3.6914 5.43837C3.95416 4.98138 4.32139 4.60843 4.75076 4.34819C5.17816 4.08915 5.66715 3.94174 6.17615 3.93411V3.9341C6.62178 3.92601 7.04196 4.09276 7.40962 4.23866C7.66983 4.34192 7.90165 4.43392 8.07545 4.43392C8.22899 4.43392 8.45532 4.34469 8.71916 4.24067C9.16476 4.06499 9.7099 3.85008 10.2863 3.9074C10.5284 3.91793 11.0326 3.97592 11.5481 4.25525C11.8764 4.4332 12.2095 4.70036 12.4832 5.10103L12.5554 5.2067L12.4476 5.27633C12.4418 5.28006 12.4474 5.27625 12.4377 5.28223L12.4377 5.28224Z",fill:"#BFBFBF"}})])])],1):t._e()],1)],1)],1)}),[],!1,null,null,null).exports;var gr,vr,Cr,yr=ct({name:"UserList",components:{UserListWrapper:z.a.div(dr||(dr=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n  margin: 8px 0;\n  padding: 8px 0;\n  background-color: ",";\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  width: 170px;\n  height: auto;\n  z-index: 3;\n  position: relative;\n  max-height: 252px;\n  overflow-y: scroll;\n  \n  &::-webkit-scrollbar {\n    -webkit-appearance: none;\n    width: 12px;\n    background: rgba(255, 255, 255, 0.0);\n    margin-right: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 6px;\n    border: 4px solid rgba(0, 0, 0, 0);\n    background-clip: padding-box;\n    background-color: #C4C4C4;\n  }\n"])),(function(t){return t.theme.colors.whiteColor}))}},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("user-list-wrapper",[t._t("default")],2)}),[],!1,null,null,null).exports;function wr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var xr,kr,Or,_r,Tr,Er,Lr,Ar,Pr=ct({name:"UserCard",components:{UserCardContainer:z.a.div(gr||(gr=wr(["\n  display: flex;\n  align-items: center;\n  padding: 4px 8px;\n  max-height: 32px;\n  z-index: 4;\n"]))),UserAvatar:z.a.img(vr||(vr=wr(["\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  margin-right: 8px;\n"]))),UserName:z.a.p(Cr||(Cr=wr(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  object-fit: contain;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  box-orient: vertical;\n"])))},props:{avatarUrl:{type:String,required:!0},fullName:{type:String,required:!0}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("user-card-container",[n("user-avatar",{attrs:{src:t.avatarUrl}}),n("user-name",[t._v(t._s(t.fullName))])],1)}),[],!1,null,null,null).exports;function Ir(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Sr=z.a.div(xr||(xr=Ir(["\n  display: flex;\n"]))),jr={dislikes:Boolean,likes:Boolean},Dr=z()("div",jr)(kr||(kr=Ir(["\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.mixins.hover(Or||(Or=Ir(["\n    .rating__popup {\n      opacity: 1;\n      visibility: visible;\n    }\n  "])))}),(function(t){return t.dislikes&&t.theme.mixins.hover(_r||(_r=Ir(["\n    .rating__button_dislike {\n      border-color: ",";\n    }\n  "])),t.theme.colors.redSecondaryColor)}),(function(t){return t.likes&&t.theme.mixins.hover(Tr||(Tr=Ir(["\n    .rating__button_like {\n      border-color: ",";\n    }\n  "])),t.theme.colors.greenSecondaryColor)})),Br={top:Boolean},Mr=z()("div",Br)(Er||(Er=Ir(["\n  position: absolute;\n  top: 24px;\n  z-index: 5;\n  opacity: 0;\n  visibility: hidden;\n  transition-property: opacity, visibility;\n  transition-delay: 1.2s;\n\n  ","\n"])),(function(t){return t.top&&"\n    top: initial;\n    bottom: 24px;\n  "})),Nr={like:Boolean,dislike:Boolean,set:Boolean,zero:Boolean,my:Boolean},Rr=z()("button",Nr)(Lr||(Lr=Ir(["\n  width: 40px;\n  height: 24px;\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid ",";\n  font-style: normal;\n  font-weight: 700;\n  font-size: 12px;\n  font-family: ",";\n  line-height: 16px;\n  cursor: pointer;\n  position: relative;\n  background-color: ",";\n\n  .using-mouse & {\n    outline: none;\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.colors.ratingBorderColor}),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.like&&"\n    color: ".concat(t.theme.colors.greenColor,";\n    margin-right: 8px;\n  ")}),(function(t){return t.dislike&&"\n    color: ".concat(t.theme.colors.redColor,";\n  ")}),(function(t){return t.zero&&"\n    font-size: 16px;\n  "}),(function(t){return t.my&&"\n    width: 28px;\n    height: 16px;\n\n    border: none;\n    cursor: default;\n  "}),(function(t){return t.set&&t.like&&"\n    background-color: ".concat(t.theme.colors.greenColor,";\n    border-color: ").concat(t.theme.colors.greenColor,";\n    color: ").concat(t.theme.colors.whiteColor,";\n  ")}),(function(t){return t.set&&t.dislike&&"\n    background-color: ".concat(t.theme.colors.redColor,";\n    border-color: ").concat(t.theme.colors.redColor,";\n    color: ").concat(t.theme.colors.whiteColor,";\n  ")})),$r=z.a.span(Ar||(Ar=Ir(["\n  margin-top: 2px;\n\n  font-style: normal;\n  font-weight: bold;\n  font-size: 12px;\n  line-height: 16px;\n  z-index: 2;\n  color: ",";\n"])),(function(t){return t.theme.colors.ratingBorderColor}));function Vr(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function zr(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Vr(Object(source),!0).forEach((function(e){Ur(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Vr(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hr,Fr,Kr,Zr,qr,Wr,Gr,Yr,Jr,Xr=ct({name:"CommentRating",props:{commentId:{type:Number,required:!0},likesIdList:{type:Array,required:!0},dislikeIdList:{type:Array,required:!0},commentAuthorId:{type:Number,required:!0}},components:{UserList:yr,UserCard:Pr,RatingContainer:Sr,RatingWrapper:Dr,RatingPopup:Mr,RatingButton:Rr,RatingSlash:$r},data:function(){return{likesList:null,dislikeList:null,isLoadUsersReactions:!1,popupOnTop:!1,isProcessedClick:!1}},computed:zr(zr({},Object(O.mapState)({userData:function(t){return t.talker.userData},userId:function(t){return t.talker.userData.integerId}})),{},{likesCount:function(){return this.likesIdList.length},likeButtonText:function(){return this.likesCount?"+".concat(this.likesCount):"+"},dislikeCount:function(){return this.dislikeIdList.length},dislikeButtonText:function(){return this.dislikeCount?"&minus;".concat(this.dislikeCount):"&minus;"},isAuthorized:function(){return!!this.userId},isShowLikesListPopup:function(){return this.likesList&&this.likesList.length&&this.isAuthorized},isShowDislikeListPopup:function(){return this.dislikeList&&this.dislikeList.length&&this.isAuthorized},isSetLike:function(){return this.likesIdList.includes(this.userId)},isSetDislike:function(){return this.dislikeIdList.includes(this.userId)},myComment:function(){return this.commentAuthorId===this.userId}}),methods:{handlerClickLikeButton:function(){var t=this;if(!this.myComment&&!this.isProcessedClick){var e=this.isSetLike?null:"like";this.checkIsAuthorized()?(this.isProcessedClick=!0,this.setRelationToComment(e).then((function(){t.updateLikesListWhenClickLikeButton(!!e),"like"===e&&xe("Оценка - нравится")})).finally((function(){t.$emit("grade-comment"),t.isProcessedClick=!1}))):this.setDelayedAction("like")}},handlerClickDislikeButton:function(){var t=this;if(!this.myComment&&!this.isProcessedClick){var e=this.isSetDislike?null:"dislike";this.checkIsAuthorized()?(this.isProcessedClick=!0,this.setRelationToComment(e).then((function(){t.updateDislikeListWhenClickButton(!!e),"dislike"===e&&xe("Оценка - не нравится")})).finally((function(){t.$emit("grade-comment"),t.isProcessedClick=!1}))):this.setDelayedAction("dislike")}},setRelationToComment:function(t){return this.$store.dispatch(kt,{newState:t,commentId:this.commentId})},checkIsAuthorized:function(){return!!this.isAuthorized||(this.$root.$emit("show-login-popup"),!1)},onHover:function(t){this.isAuthorized&&(this.setPopupPosition(t.target),this.isLoadUsersReactions||this.getUserList())},getUserList:function(){var t=this;k.a.prototype.$api.fetchUserReaction(this.commentId).then((function(t){return t.data.data})).then((function(e){var n=e.filter((function(t){return"like"===t.state})).map(t.handleUserList);t.setLikesList(n);var o=e.filter((function(t){return"dislike"===t.state})).map(t.handleUserList);t.setDislikeList(o),t.setTrueIsLoadUserReactions()}))},setTrueIsLoadUserReactions:function(){this.isLoadUsersReactions=!0},setLikesList:function(t){this.likesList=t},setDislikeList:function(t){this.dislikeList=t},handleUserList:function(t){return t.avatar_reacted.url&&t.avatar_reacted.url.length?t.avatar_reacted:zr(zr({},t.avatar_reacted),{},{url:n("7050")})},updateLikesListWhenClickLikeButton:function(t){var e=this.userData,n=e.integerId,o=e.displayName,r=e.avatar;t?(this.likesList.push({author:o,author_id:n,url:r}),this.dislikeList=this.dislikeList.filter((function(t){return t.author_id!==n}))):this.likesList=this.likesList.filter((function(t){return t.author_id!==n}))},updateDislikeListWhenClickButton:function(t){var e=this.userData,n=e.integerId,o=e.displayName,r=e.avatar;t?(this.dislikeList.push({author:o,author_id:n,url:r}),this.likesList=this.likesList.filter((function(t){return t.author_id!==n}))):this.dislikeList=this.dislikeList.filter((function(t){return t.author_id!==n}))},setPopupPosition:function(t){var e=this.likesCount>this.dislikeCount?this.likesCount:this.dislikeCount,n=e>8?8:e,button=t.querySelector(".rating__button"),o=window.innerHeight-button.getBoundingClientRect().bottom;this.popupOnTop=o-32*n<10},setDelayedAction:function(t){var e=this.commentId,n={type:Q,data:{commentId:e,typeReaction:t}};this.$store.dispatch(ue,n)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("rating-container",[n("rating-wrapper",{attrs:{likes:!0},nativeOn:{mouseenter:function(e){return t.onHover.apply(null,arguments)}}},[n("rating-button",{staticClass:"rating__button rating__button_like",attrs:{like:!0,zero:!t.likesCount,set:t.isSetLike,my:t.myComment},nativeOn:{click:function(e){return t.handlerClickLikeButton.apply(null,arguments)}}},[n("span",{domProps:{textContent:t._s(t.likeButtonText)}})]),t.isShowLikesListPopup?n("rating-popup",{staticClass:"rating__popup",attrs:{top:t.popupOnTop}},[n("UserList",t._l(t.likesList,(function(t){return n("UserCard",{key:t.author_id,attrs:{fullName:t.author,avatarUrl:t.url}})})),1)],1):t._e()],1),t.myComment?n("rating-slash",[t._v("/")]):t._e(),n("rating-wrapper",{attrs:{dislikes:!0},nativeOn:{mouseenter:function(e){return t.onHover.apply(null,arguments)}}},[n("rating-button",{staticClass:"rating__button rating__button_dislike",attrs:{dislike:!0,zero:!t.dislikeCount,set:t.isSetDislike,my:t.myComment},nativeOn:{click:function(e){return t.handlerClickDislikeButton.apply(null,arguments)}}},[n("span",{domProps:{innerHTML:t._s(t.dislikeButtonText)}})]),t.isShowDislikeListPopup?n("rating-popup",{staticClass:"rating__popup",attrs:{top:t.popupOnTop}},[n("UserList",t._l(t.dislikeList,(function(t){return n("UserCard",{key:t.author_id,attrs:{fullName:t.author,avatarUrl:t.url}})})),1)],1):t._e()],1)],1)}),[],!1,null,null,null).exports;function Qr(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ti=z.a.div(Hr||(Hr=Qr(["\n  position: relative;\n\n  margin-left: auto;\n  margin-right: -15px;\n  height: 24px;\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Fr||(Fr=Qr(["\n    margin-left: 0;\n    margin-right: 0;\n  "])))})),ei={active:Boolean,dots:Boolean,popup:Boolean,copy:Boolean,edit:Boolean,delete:Boolean,report:Boolean};function ni(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function oi(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ni(Object(source),!0).forEach((function(e){ri(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ni(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function ri(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii,ai,si,ci,ui,mi=ct({name:"CommentButtons",components:{Tooltip:Ko,ButtonsContainer:ti,TheButton:z()("button",ei)(Kr||(Kr=Qr(["\n  background-color: inherit;\n  border: none;\n  cursor: pointer;\n  margin-right: 15px;\n  font-family: ",";\n  font-weight: bold;\n  .using-mouse & {\n    outline: none;\n  }\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.mixins.hover(Zr||(Zr=Qr(["\n    path,\n    rect {\n      fill: ",";\n    }\n  "])),t.theme.colors.blackColor)}),(function(t){return t.active&&"\n    path {\n      fill: ".concat(t.theme.colors.blackColor,";\n    }\n  ")}),(function(t){return t.dots&&"\n    margin-right: 0;\n    padding: 10px 16px;\n    margin-top: -10px;\n  "}),(function(t){return t.copy&&"\n    position: relative;\n  "}),(function(t){return t.popup&&"\n    width: 100%;\n    display: flex;\n    padding: 8px 16px 8px 10px;\n    align-items: center;\n\n    span {\n      font-size: 12px;\n      margin-left: 10px;\n      line-height: 14px;\n      text-align: left;\n    }\n\n    &:active {\n      background-color: ".concat(t.theme.colors.buttonActiveColor,";\n\n      span {\n        color: ").concat(t.theme.colors.blackColor,";\n      }\n\n      path {\n        fill: ").concat(t.theme.colors.blackColor,";\n      }\n    }\n  ")}),(function(t){return t.popup&&t.copy&&"\n    span {\n      margin-left: 8px;\n    }\n  "}),(function(t){return t.popup&&t.edit&&"\n    span {\n      margin-left: 14px;\n    }\n  "}),(function(t){return t.popup&&t.delete&&"\n    padding-left: 13px;\n    span {\n      margin-left: 15px;\n    }\n  "}),(function(t){return t.popup&&t.report&&"\n    padding-left: 8px;\n    svg {\n      width: 35px;\n    }\n    span {\n      margin-left: 7px;\n    }\n  "})),ButtonsPopup:z.a.div(qr||(qr=Qr(["\n  top: 28px;\n  position: absolute;\n  z-index: 9;\n  background-color: ",";\n  width: 178px;\n  border-radius: 4px;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);\n  display: flex;\n  flex-direction: column;\n  right: 8px;\n  align-items: start;\n  overflow: hidden;\n"])),(function(t){return t.theme.colors.whiteColor})),DesktopButtonsWrapper:z.a.div(Wr||(Wr=Qr(["\n  display: none;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Gr||(Gr=Qr(["\n    display: flex;\n    align-items: center;\n    margin-top: -3px;\n  "])))})),MobileButtonsWrapper:z.a.div(Yr||(Yr=Qr(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  ","\n\n  .button__to-parent {\n    margin-top: -9px;\n    margin-right: 0;\n  }\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Jr||(Jr=Qr(["\n    display: none;\n  "])))}))},props:{commentId:{type:Number,required:!0},parentCommentId:{type:Number,required:!1},commentAuthorId:{type:Number,required:!0},showEditControl:{type:Boolean,required:!0},showDeleteConfirm:{type:Boolean,required:!0}},data:function(){return{isShowPopup:!1,copyTooltipIsVisible:!1,copyTooltipText:"Ссылка скопирована"}},computed:oi(oi({},Object(O.mapState)({commentIdToReply:function(t){return t.talker.commentIdToReply},commentIdToEdit:function(t){return t.talker.commentIdToEdit},userData:function(t){return t.talker.userData}})),{},{scrollLink:function(){return"#comment-".concat(this.parentCommentId)},isCurrentCommentToReply:function(){return this.commentIdToReply===this.commentId},isEditCurrentComment:function(){return this.commentIdToEdit===this.commentId},isMyComment:function(){return this.userData.integerId===this.commentAuthorId},isShowEditButton:function(){var t,e;return this.isMyComment&&!this.isCurrentCommentToReply&&!this.isEditCurrentComment&&this.showEditControl&&!(null!=this&&null!==(t=this.userData)&&void 0!==t&&t.banned)&&!(null!=this&&null!==(e=this.userData)&&void 0!==e&&e.archivedAt)},isShowDeleteButton:function(){var t,e;return this.isMyComment&&!this.isCurrentCommentToReply&&!this.isEditCurrentComment&&!(null!=this&&null!==(t=this.userData)&&void 0!==t&&t.banned)&&!(null!=this&&null!==(e=this.userData)&&void 0!==e&&e.archivedAt)},isShowReportButton:function(){return!this.isMyComment&&!this.userData.archivedAt},isAuthorized:function(){return this.userData.integerId}}),methods:oi(oi({},Object(O.mapMutations)({showNotification:pe})),{},{toggleIsShowPopup:function(){this.isShowPopup=!this.isShowPopup},doCopy:function(t){var e=this;this.$copyText(this.getCommentLink()).then((function(){t?e.showNotification("Ссылка скопирована"):(e.copyTooltipIsVisible=!0,e.copyTooltipText="Ссылка скопирована",setTimeout((function(){e.copyTooltipIsVisible=!1}),2e3)),xe("Копирование ссылки")}),(function(){t?e.showNotification("Не удалось скопировать ссылку"):(e.copyTooltipIsVisible=!0,e.copyTooltipText="Не удалось скопировать ссылку",setTimeout((function(){e.copyTooltipIsVisible=!1}),2e3))}))},getCommentLink:function(){var t=window.location;return"".concat(t.origin+t.pathname+t.search,"#comment-").concat(this.commentId)},scrollToParentComment:function(){xe("Перейти к родительскому комментарию")},reportComment:function(){var t=this.$store.dispatch,e=this.commentId;if(!this.isAuthorized)return this.$root.$emit("show-login-popup"),void t(ue,{data:{commentId:e},type:tt});t(Ot,{commentId:e}).then((function(){xe("Жаловаться")}))},deleteComment:function(){this.$emit("click-on-delete")}})},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("buttons-container",[n("desktop-buttons-wrapper",[t.isEditCurrentComment?t._e():n("the-button",{staticClass:"button__copy",attrs:{copy:!0,title:"Скопировать ссылку на комментарий"},nativeOn:{click:function(e){return t.doCopy(!1)}}},[t.copyTooltipIsVisible?n("Tooltip",{attrs:{content:t.copyTooltipText}}):t._e(),n("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.29297 3.63622L7.87876 5.05044C7.48985 5.43935 7.48985 6.07574 7.87876 6.46465C8.26767 6.85356 8.90407 6.85356 9.29297 6.46465L10.7072 5.05044C11.8739 3.88371 13.7831 3.88371 14.9498 5.05044C16.1166 6.21716 16.1166 8.12635 14.9498 9.29308L13.5356 10.7073C13.1467 11.0962 13.1467 11.7326 13.5356 12.1215C13.9245 12.5104 14.5609 12.5104 14.9498 12.1215L16.364 10.7073C18.3157 8.75568 18.3157 5.58784 16.364 3.63622C14.4124 1.68461 11.2446 1.68461 9.29297 3.63622ZM7.17165 12.8286C7.56056 13.2175 8.19696 13.2175 8.58587 12.8286L12.8285 8.58597C13.2174 8.19706 13.2174 7.56067 12.8285 7.17176C12.4396 6.78285 11.8032 6.78285 11.4143 7.17176L7.17165 11.4144C6.78275 11.8033 6.78275 12.4397 7.17165 12.8286ZM10.7072 13.5357L9.29297 14.9499C8.12625 16.1167 6.21706 16.1167 5.05033 14.9499C3.88361 13.7832 3.88361 11.874 5.05033 10.7073L6.46455 9.29308C6.85346 8.90417 6.85346 8.26777 6.46455 7.87887C6.07564 7.48996 5.43924 7.48996 5.05033 7.87887L3.63612 9.29308C1.68451 11.2447 1.68451 14.4125 3.63612 16.3641C5.58774 18.3158 8.75557 18.3158 10.7072 16.3641L12.1214 14.9499C12.5103 14.561 12.5103 13.9246 12.1214 13.5357C11.7325 13.1468 11.0961 13.1468 10.7072 13.5357Z",fill:"#5C5C5C"}})])],1),t.parentCommentId&&!t.isEditCurrentComment?n("the-button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:t.scrollLink,expression:"scrollLink"}],staticClass:"button__to-parent",attrs:{title:"Перейти к корневому комментарию"},nativeOn:{click:function(e){return t.scrollToParentComment.apply(null,arguments)}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M6.70549 12.2945C6.31586 12.6841 6.31586 13.3159 6.70549 13.7055C7.09474 14.0947 7.7257 14.0952 8.11549 13.7065L11 10.83V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V10.83L15.8705 13.7085C16.2622 14.1013 16.8983 14.1017 17.2905 13.7095C17.6823 13.3177 17.6823 12.6823 17.2905 12.2905L12 7L6.70549 12.2945Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M6 5C6 4.44772 6.44772 4 7 4H17C17.5523 4 18 4.44772 18 5C18 5.55228 17.5523 6 17 6H7C6.44772 6 6 5.55228 6 5Z",fill:"#5C5C5C"}})])]):t._e(),t.isShowEditButton?n("the-button",{staticClass:"button__edit",attrs:{title:"Редактировать комментарий"},nativeOn:{click:function(e){return t.$emit("edit-comment")}}},[n("svg",{attrs:{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8.82929 1.66792V3.49235H2.5446C2.14686 3.49235 1.82443 3.81478 1.82443 4.21252V16.4554C1.82443 16.8531 2.14686 17.1756 2.5446 17.1756H14.7875C15.1852 17.1756 15.5077 16.8531 15.5077 16.4554V10.0012H17.3321V16.4554C17.3321 17.8607 16.1928 19 14.7875 19H2.5446C1.13926 19 0 17.8607 0 16.4554V4.21252C0 2.80717 1.13926 1.66792 2.5446 1.66792H8.82929ZM12.5713 2.44199L16.4415 6.31219L8.0561 14.6976H4.35819L4.1859 10.8274L12.5713 2.44199ZM12.5713 5.02212L6.04427 11.5492L6.10321 12.8732H7.3004L13.8614 6.31219L12.5713 5.02212ZM15.1298 0L19 3.8702L17.7099 5.16027L13.8397 1.29007L15.1298 0Z",fill:"#5C5C5C"}})])]):t._e(),t.isShowDeleteButton?n("the-button",{staticClass:"button__delete",attrs:{active:t.showDeleteConfirm,title:"Удалить комментарий"},nativeOn:{click:function(e){return t.deleteComment.apply(null,arguments)}}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M15.3327 2.66667H10.666V2C10.6654 1.46975 10.4545 0.961388 10.0796 0.586444C9.70463 0.2115 9.19626 0.000595527 8.66601 0L7.33268 0C6.80243 0.000595527 6.29407 0.2115 5.91913 0.586444C5.54418 0.961388 5.33328 1.46975 5.33268 2V2.66667H0.666016V4H1.40268L2.53827 14.2209C2.59221 14.7103 2.82492 15.1625 3.19177 15.4908C3.55862 15.8191 4.03378 16.0005 4.5261 16H11.4726C11.9649 16.0005 12.4401 15.8191 12.8069 15.4908C13.1738 15.1624 13.4065 14.7102 13.4604 14.2208L14.596 4H15.3327V2.66667ZM6.66601 2C6.66621 1.82325 6.73652 1.6538 6.8615 1.52881C6.98648 1.40383 7.15593 1.33353 7.33268 1.33333H8.66601C8.84276 1.33353 9.01222 1.40383 9.1372 1.52881C9.26218 1.6538 9.33248 1.82325 9.33268 2V2.66667H6.66601V2ZM12.1352 14.0736C12.1172 14.2367 12.0397 14.3875 11.9174 14.4969C11.7951 14.6064 11.6367 14.6668 11.4726 14.6667H4.5261C4.362 14.6668 4.20363 14.6064 4.08135 14.4969C3.95907 14.3875 3.8815 14.2368 3.86352 14.0737L2.74418 4H13.2545L12.1352 14.0736Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M7.33228 5.33301H8.66562V13.333H7.33228V5.33301Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M10.0056 13.2734L10.6719 5.26976L12.0012 5.38043L11.3349 13.3841L10.0056 13.2734Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M4.00366 5.39062L5.33299 5.27996L5.9993 13.2836L4.66996 13.3943L4.00366 5.39062Z",fill:"#5C5C5C"}})])]):t._e(),t.isShowReportButton?n("the-button",{staticClass:"button__banned",attrs:{title:"Пожаловаться на комментарий"},nativeOn:{click:function(e){return t.reportComment.apply(null,arguments)}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M11 10C11 9.44772 11.4477 9 12 9C12.5523 9 13 9.44772 13 10V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V10Z",fill:"#5C5C5C"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.8833 6.79403C12.5073 6.08624 11.4931 6.08623 11.117 6.79403L5.94425 16.531C5.59041 17.1971 6.07316 18.0002 6.82737 18.0002H17.173C17.9272 18.0002 18.4099 17.1971 18.0561 16.531L12.8833 6.79403ZM9.35081 5.85572C10.4789 3.73234 13.5215 3.73234 14.6495 5.85572L19.8223 15.5927C20.8838 17.5909 19.4356 20.0002 17.173 20.0002H6.82737C4.56475 20.0002 3.1165 17.5909 4.17802 15.5927L9.35081 5.85572Z",fill:"#5C5C5C"}})])]):t._e()],1),t.isEditCurrentComment?t._e():n("mobile-buttons-wrapper",[t.parentCommentId?n("the-button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:t.scrollLink,expression:"scrollLink"}],staticClass:"button__to-parent",nativeOn:{click:function(e){return t.scrollToParentComment.apply(null,arguments)}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M6.70549 12.2945C6.31586 12.6841 6.31586 13.3159 6.70549 13.7055C7.09474 14.0947 7.7257 14.0952 8.11549 13.7065L11 10.83V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V10.83L15.8705 13.7085C16.2622 14.1013 16.8983 14.1017 17.2905 13.7095C17.6823 13.3177 17.6823 12.6823 17.2905 12.2905L12 7L6.70549 12.2945Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M6 5C6 4.44772 6.44772 4 7 4H17C17.5523 4 18 4.44772 18 5C18 5.55228 17.5523 6 17 6H7C6.44772 6 6 5.55228 6 5Z",fill:"#5C5C5C"}})])]):t._e(),n("the-button",{attrs:{dots:!0,active:t.isShowPopup},nativeOn:{click:function(e){return t.toggleIsShowPopup.apply(null,arguments)}}},[n("svg",{attrs:{width:"4",height:"16",viewBox:"0 0 4 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z",fill:"#5C5C5C"}})])]),t.isShowPopup?n("buttons-popup",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleIsShowPopup,expression:"toggleIsShowPopup"}]},[n("the-button",{attrs:{copy:!0,popup:!0},nativeOn:{click:function(e){return function(){t.doCopy(!0),t.toggleIsShowPopup()}.apply(null,arguments)}}},[n("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.29297 3.63622L7.87876 5.05044C7.48985 5.43935 7.48985 6.07574 7.87876 6.46465C8.26767 6.85356 8.90407 6.85356 9.29297 6.46465L10.7072 5.05044C11.8739 3.88371 13.7831 3.88371 14.9498 5.05044C16.1166 6.21716 16.1166 8.12635 14.9498 9.29308L13.5356 10.7073C13.1467 11.0962 13.1467 11.7326 13.5356 12.1215C13.9245 12.5104 14.5609 12.5104 14.9498 12.1215L16.364 10.7073C18.3157 8.75568 18.3157 5.58784 16.364 3.63622C14.4124 1.68461 11.2446 1.68461 9.29297 3.63622ZM7.17165 12.8286C7.56056 13.2175 8.19696 13.2175 8.58587 12.8286L12.8285 8.58597C13.2174 8.19706 13.2174 7.56067 12.8285 7.17176C12.4396 6.78285 11.8032 6.78285 11.4143 7.17176L7.17165 11.4144C6.78275 11.8033 6.78275 12.4397 7.17165 12.8286ZM10.7072 13.5357L9.29297 14.9499C8.12625 16.1167 6.21706 16.1167 5.05033 14.9499C3.88361 13.7832 3.88361 11.874 5.05033 10.7073L6.46455 9.29308C6.85346 8.90417 6.85346 8.26777 6.46455 7.87887C6.07564 7.48996 5.43924 7.48996 5.05033 7.87887L3.63612 9.29308C1.68451 11.2447 1.68451 14.4125 3.63612 16.3641C5.58774 18.3158 8.75557 18.3158 10.7072 16.3641L12.1214 14.9499C12.5103 14.561 12.5103 13.9246 12.1214 13.5357C11.7325 13.1468 11.0961 13.1468 10.7072 13.5357Z",fill:"#5C5C5C"}})]),n("span",[t._v("Скопировать ссылку")])]),t.isShowEditButton?n("the-button",{attrs:{edit:!0,popup:!0},nativeOn:{click:function(e){return function(){t.$emit("edit-comment"),t.toggleIsShowPopup()}.apply(null,arguments)}}},[n("svg",{attrs:{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8.82929 1.66792V3.49235H2.5446C2.14686 3.49235 1.82443 3.81478 1.82443 4.21252V16.4554C1.82443 16.8531 2.14686 17.1756 2.5446 17.1756H14.7875C15.1852 17.1756 15.5077 16.8531 15.5077 16.4554V10.0012H17.3321V16.4554C17.3321 17.8607 16.1928 19 14.7875 19H2.5446C1.13926 19 0 17.8607 0 16.4554V4.21252C0 2.80717 1.13926 1.66792 2.5446 1.66792H8.82929ZM12.5713 2.44199L16.4415 6.31219L8.0561 14.6976H4.35819L4.1859 10.8274L12.5713 2.44199ZM12.5713 5.02212L6.04427 11.5492L6.10321 12.8732H7.3004L13.8614 6.31219L12.5713 5.02212ZM15.1298 0L19 3.8702L17.7099 5.16027L13.8397 1.29007L15.1298 0Z",fill:"#5C5C5C"}})]),n("span",[t._v("Редактировать")])]):t._e(),t.isShowDeleteButton?n("the-button",{attrs:{popup:!0,delete:!0},nativeOn:{click:function(e){return function(){t.deleteComment(),t.toggleIsShowPopup()}.apply(null,arguments)}}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M15.3327 2.66667H10.666V2C10.6654 1.46975 10.4545 0.961388 10.0796 0.586444C9.70463 0.2115 9.19626 0.000595527 8.66601 0L7.33268 0C6.80243 0.000595527 6.29407 0.2115 5.91913 0.586444C5.54418 0.961388 5.33328 1.46975 5.33268 2V2.66667H0.666016V4H1.40268L2.53827 14.2209C2.59221 14.7103 2.82492 15.1625 3.19177 15.4908C3.55862 15.8191 4.03378 16.0005 4.5261 16H11.4726C11.9649 16.0005 12.4401 15.8191 12.8069 15.4908C13.1738 15.1624 13.4065 14.7102 13.4604 14.2208L14.596 4H15.3327V2.66667ZM6.66601 2C6.66621 1.82325 6.73652 1.6538 6.8615 1.52881C6.98648 1.40383 7.15593 1.33353 7.33268 1.33333H8.66601C8.84276 1.33353 9.01222 1.40383 9.1372 1.52881C9.26218 1.6538 9.33248 1.82325 9.33268 2V2.66667H6.66601V2ZM12.1352 14.0736C12.1172 14.2367 12.0397 14.3875 11.9174 14.4969C11.7951 14.6064 11.6367 14.6668 11.4726 14.6667H4.5261C4.362 14.6668 4.20363 14.6064 4.08135 14.4969C3.95907 14.3875 3.8815 14.2368 3.86352 14.0737L2.74418 4H13.2545L12.1352 14.0736Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M7.33228 5.33301H8.66562V13.333H7.33228V5.33301Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M10.0056 13.2734L10.6719 5.26976L12.0012 5.38043L11.3349 13.3841L10.0056 13.2734Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M4.00366 5.39062L5.33299 5.27996L5.9993 13.2836L4.66996 13.3943L4.00366 5.39062Z",fill:"#5C5C5C"}})]),n("span",[t._v("Удалить")])]):t._e(),t.isShowReportButton?n("the-button",{attrs:{popup:!0,report:!0},nativeOn:{click:function(e){return function(){t.reportComment(),t.toggleIsShowPopup()}.apply(null,arguments)}}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z",fill:"#5C5C5C"}}),n("path",{attrs:{d:"M11 10C11 9.44772 11.4477 9 12 9C12.5523 9 13 9.44772 13 10V13C13 13.5523 12.5523 14 12 14C11.4477 14 11 13.5523 11 13V10Z",fill:"#5C5C5C"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.8833 6.79403C12.5073 6.08624 11.4931 6.08623 11.117 6.79403L5.94425 16.531C5.59041 17.1971 6.07316 18.0002 6.82737 18.0002H17.173C17.9272 18.0002 18.4099 17.1971 18.0561 16.531L12.8833 6.79403ZM9.35081 5.85572C10.4789 3.73234 13.5215 3.73234 14.6495 5.85572L19.8223 15.5927C20.8838 17.5909 19.4356 20.0002 17.173 20.0002H6.82737C4.56475 20.0002 3.1165 17.5909 4.17802 15.5927L9.35081 5.85572Z",fill:"#5C5C5C"}})]),n("span",[t._v("Пожаловаться на комментарий")])]):t._e()],1):t._e()],1)],1)}),[],!1,null,null,null).exports;function pi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var di=z.a.div(ii||(ii=pi(["\n  position: absolute;\n  left: 60px;\n  top: 34px;\n\n  display: none;\n  padding: 24px;\n  min-width: 228px;\n\n  z-index: 10;\n  background-color: ",";\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n\n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.mixins.respondTo.tablet(ai||(ai=pi(["\n    display: block;\n  "])))})),hi=z.a.span(si||(si=pi(["\n  margin-bottom: 8px;\n\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 24px;\n  word-wrap: break-word;\n"]))),fi=z.a.button(ci||(ci=pi(["\n  margin-right: 16px;\n\n  border: none;\n  font-family: ",";\n  background: transparent;\n  font-style: normal;\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 24px;\n  cursor: pointer;\n  color: ",";\n\n  ","\n"])),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.colors.darkBlueColor}),(function(t){return t.theme.mixins.hover(ui||(ui=pi(["\n    text-decoration: underline;\n  "])))}));function gi(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function vi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bi,Ci,yi,wi,xi,ki,Oi,_i,Ti,Ei,Li,Ai,Pi,Ii,Si,ji,Di,Bi,Mi,Ni,Ri,$i,Vi,zi,Ui,Hi,Fi,Ki,Zi,qi,Wi,Gi,Yi,Ji,Xi=ct({name:"CustomConfirm",components:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?gi(Object(source),!0).forEach((function(e){vi(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):gi(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},r),props:{text:{type:String,required:!0},buttonOkText:{type:String,default:"Ок"},buttonCancelText:{type:String,default:"Отмена"}},methods:{onClickOkButton:function(){this.$emit("click-on-ok-button")},onClickCancelButton:function(){this.$emit("click-on-cancel-button")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("custom-confirm-container",[n("custom-confirm-text",{domProps:{textContent:t._s(t.text)}}),n("div",[n("custom-confirm-button",{domProps:{textContent:t._s(t.buttonOkText)},nativeOn:{click:function(e){return t.onClickOkButton.apply(null,arguments)}}}),n("custom-confirm-button",{domProps:{textContent:t._s(t.buttonCancelText)},nativeOn:{click:function(e){return t.onClickCancelButton.apply(null,arguments)}}})],1)],1)}),[],!1,null,null,null).exports;function Qi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ta={isLastChild:Boolean,isDeleted:Boolean,offsetNumber:Number,isUnread:Boolean,isLastCommentInCurrentBranch:Boolean,isAuditStatusOnVerify:Boolean},ea=z()("div",ta)(bi||(bi=Qi(["\n  padding: 14px 0 16px 0;\n  position: relative;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.isLastChild&&"\n    padding-bottom: 14px;\n  "}),(function(t){return t.isDeleted&&"\n    .comment-content {\n      z-index: 2;\n      font-style: italic;\n      color: rgba(".concat(t.theme.colors.blackColor,", 0.3);\n    }\n  ")}),(function(t){return 1===t.offsetNumber&&"\n    padding-left: 15px;\n    border-left: 1px solid ".concat(t.theme.colors.whisperColor,";\n  ")}),(function(t){return 1===t.offsetNumber&&t.theme.mixins.respondTo.desktop(Ci||(Ci=Qi(["\n    padding-left: 23px;\n  "])))}),(function(t){return 2===t.offsetNumber&&"\n    padding-left: 31px;\n    border-left: 1px solid ".concat(t.theme.colors.whisperColor,";\n\n    &:before {\n      top: 0;\n      position: absolute;\n      content: '';\n      width: 1px;\n      height: 100%;\n      background-color: ").concat(t.theme.colors.whisperColor,";\n      left: 15px;\n      z-index: 3;\n    }\n  ")}),(function(t){return 2===t.offsetNumber&&t.theme.mixins.respondTo.desktop(yi||(yi=Qi(["\n    padding-left: 47px;\n    &:before {\n      left: 23px;\n    }\n  "])))}),(function(t){return 3===t.offsetNumber&&"\n    padding-left: 47px;\n    border-left: 1px solid ".concat(t.theme.colors.whisperColor,";\n\n    &:after,\n    &:before {\n      position: absolute;\n      content: '';\n      width: 1px;\n      height: 100%;\n      background-color: ").concat(t.theme.colors.whisperColor,";\n      top: 0;\n      z-index: 3;\n    }\n\n    &:before {\n      left: 15px;\n    }\n\n    &:after {\n      left: 31px;\n    }\n  ")}),(function(t){return 3===t.offsetNumber&&t.theme.mixins.respondTo.desktop(wi||(wi=Qi(["\n    padding-left: 71px;\n    &:before {\n      left: 23px;\n    }\n    &:after {\n      left: 47px;\n    }\n  "])))}),(function(t){return 4===t.offsetNumber&&"\n    padding-left: 63px;\n    border-left: 1px solid ".concat(t.theme.colors.whisperColor,";\n  ")}),(function(t){return 4===t.offsetNumber&&t.theme.mixins.respondTo.desktop(xi||(xi=Qi(["\n    padding-left: 88px;\n  "])))}),(function(t){return t.isLastChild&&t.isLastCommentInCurrentBranch&&t.isUnread&&"\n    .unread-overlay:before {\n      left: -50px;\n      width: calc(100% + 50px);\n    }\n  "}),(function(t){return t.isLastCommentInCurrentBranch&&t.isUnread&&"\n    .unread-overlay {\n      height: 100%;\n\n      &:before {\n        position: absolute;\n        content: '';\n        background-color: white;\n        height: 4px;\n        width: calc(100% + 2px);\n        left: -2px;\n        bottom: 0;\n        z-index: 9;\n      }\n    }\n  "}),(function(t){return t.isLastCommentInCurrentBranch&&t.isUnread&&2===t.offsetNumber&&"\n    :before {\n      height: calc(100% - 4px);\n    }\n  "}),(function(t){return t.isLastCommentInCurrentBranch&&t.isUnread&&3===t.offsetNumber&&"\n    &:after,\n    &:before {\n      height: calc(100% - 4px);\n    }\n  "}),(function(t){return t.isAuditStatusOnVerify&&"\n    .comment-content {\n      background: ".concat(t.theme.colors.lightYellow,";\n      padding: 15px;\n\n      ").concat(t.theme.mixins.respondTo.bigTablet(ki||(ki=Qi(["\n        padding: 10px 20px;\n      "]))),"\n    }\n  ")})),na=z.a.div(Oi||(Oi=Qi(["\n  height: calc(100% - 3px);\n  position: absolute;\n  left: -15px;\n  top: 0;\n  background-color: ",";\n  z-index: 0;\n  border-radius: 0;\n\n  ","\n"])),(function(t){return t.theme.colors.lightBlueColor}),(function(t){return t.theme.mixins.respondTo.desktop(_i||(_i=Qi(["\n    left: -23px;\n  "])))})),oa=z.a.a(Ti||(Ti=Qi(["\n  position: absolute;\n  top: -50px;\n  z-index: -1;\n  height: 1px;\n"]))),ra=z.a.div(Ei||(Ei=Qi(["\n  position: relative;\n\n  display: flex;\n  margin-bottom: 10px;\n"]))),ia=z.a.div(Li||(Li=Qi(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  margin-top: 12px;\n"]))),aa=z.a.span(Ai||(Ai=Qi(["\n  font-size: 16px;\n  display: inline-block;\n  font-weight: 700;\n  font-family: ",";\n  ","\n\n  ","\n"])),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.mixins.respondTo.bigTablet(Pi||(Pi=Qi(["\n    margin-top: 0;\n    display: inline;\n  "])))}),(function(t){return t.theme.mixins.hover(Ii||(Ii=Qi(["\n    text-decoration: underline;\n  "])))})),sa={isCancel:Boolean,isReply:Boolean},ca=z()("button",sa)(Si||(Si=Qi(["\n  background: none;\n  border: none;\n  color: ",";\n  margin-right: 15px;\n  cursor: pointer;\n  font-size: 14px;\n  z-index: 3;\n  font-weight: bold;\n  font-family: ",";\n  .using-mouse & {\n    outline: none;\n  }\n\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.colors.darkBlueColor}),(function(t){return t.theme.fonts.mainFont}),(function(t){return t.theme.mixins.hover(ji||(ji=Qi(["\n    text-decoration: underline;\n\n    span {\n      text-decoration: underline;\n    }\n  "])))}),(function(t){return t.isReply&&"\n    margin-left: 16px;\n  "}),(function(t){return t.isCancel&&"\n    font-size: 14px;\n  "})),ua=z.a.span(Di||(Di=Qi(["\n  display: inline-block;\n"]))),la=z.a.div(Bi||(Bi=Qi(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.75);\n  z-index: 1900;\n  cursor: zoom-out;\n"]))),ma=z.a.div(Mi||(Mi=Qi(["\n  width: 100%;\n  position: relative;\n  cursor: pointer;\n  z-index: 3;\n  display: inline-block;\n\n  img {\n    width: 100%;\n  }\n\n  .play-icon {\n    border-radius: 5px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate3d(-50%, -50%, 0);\n    width: 32px;\n    height: 32px;\n  }\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Ni||(Ni=Qi(["\n    width: auto;\n    img {\n      width: auto;\n      max-height: 224px;\n    }\n  "])))})),pa={isEdit:Boolean},da=z()("img",pa)(Ri||(Ri=Qi(["\n  max-width: 100%;\n  cursor: zoom-in;\n  margin-right: 15px;\n  z-index: 3;\n  position: relative;\n\n  @media (max-width: 400px) {\n    margin: 15px 0;\n  }\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet($i||($i=Qi(["\n    width: auto;\n    max-height: 224px;\n  "])))}),(function(t){return t.idEdit&&"\n    max-height: 100px;\n  "})),ha=z.a.div(Vi||(Vi=Qi(["\n  margin-top: 10px;\n"]))),fa=z.a.div(zi||(zi=Qi(["\n  margin-left: -14px;\n"]))),ga=z.a.div(Ui||(Ui=Qi(["\n  display: flex;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 40px;\n  align-items: flex-end;\n  padding: 0 15px 10px 29px;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.mobile(Hi||(Hi=Qi(["\n    padding-left: 15px;\n  "])))})),va=z.a.div(Fi||(Fi=Qi(["\n  border-radius: 4px;\n  border: 1px solid ",";\n  padding: 20px 15px 40px;\n  position: relative;\n  margin-bottom: 15px;\n"])),(function(t){return t.theme.colors.grayColor})),ba=z.a.div(Ki||(Ki=Qi(["\n  position: fixed;\n  z-index: 8050;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.75);\n"]))),Ca=z.a.img(Zi||(Zi=Qi(["\n  cursor: zoom-out;\n  width: auto;\n  display: block;\n  max-width: 100%;\n  max-height: 100%;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(qi||(qi=Qi(["\n    max-height: 80%;\n    max-width: 80%;\n  "])))})),ya={isHated:Boolean,isFlagged:Boolean},wa=z()("div",ya)(Wi||(Wi=Qi(["\n  z-index: 2;\n  font-size: 14px;\n  font-family: ",";\n  line-height: 1.375;\n  overflow-y: hidden;\n  position: relative;\n  color: ",";\n  margin-top: 12px;\n  max-height: none;\n  height: auto;\n  cursor: default;\n  padding-right: 14px;\n  word-break: break-word;\n\n  &:after {\n    display: none;\n  }\n\n  ","\n\n  ","\n\n  ","\n"])),(function(t){return t.theme.fonts.UIFontVF}),(function(t){return t.theme.colors.blackColor}),(function(t){return t.theme.mixins.respondTo.bigTablet(Gi||(Gi=Qi(["\n    font-size: 16px;\n  "])))}),(function(t){return t.isHated&&"\n    opacity: 0.2;\n  "}),(function(t){return t.isFlagged&&"\n    font-style: italic;\n    color: ".concat(t.theme.colors.orangeColor,";\n  ")})),xa=z.a.p(Yi||(Yi=Qi(["\n  font-style: italic;\n"]))),ka=z.a.div(Ji||(Ji=Qi(["\n  margin-top: 12px;\n"])));function Oa(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _a(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Oa(Object(source),!0).forEach((function(e){Ta(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Oa(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Ta(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}k.a.use(j.a);var Ea,La,Aa,Pa,Ia,Sa,ja,Da=ct({name:"TheComment",mixins:[vo,bo],components:{MessageToBannedUser:Zn,InputArea:Lo,BBCodePicker:fo,Tooltip:Ko,Editable:bn,CommentAuthor:fr,CommentRating:Xr,CommentButtons:mi,CommentAttachmentsPreview:eo,CommentEditingPanel:Kn,CustomConfirm:Xi,CommentWrapper:ea,UnreadOverlay:na,CommentAnchor:oa,CommentTopRow:ra,CommentControlsWrapper:ia,CommentReplyText:aa,TheButton:ca,CommentEditText:ua,CommentEmbed:la,CommentVideoWrapper:ma,CommentImage:da,CommentMedia:ha,CodePickerContainer:fa,InputAreaPickers:ga,CommentTextAreaWrapper:va,CommentFullImageWrapper:ba,CommentFullImage:Ca,CommentContent:wa,CommentIsModeration:xa,BannedMessageWrapper:ka},props:{comment:{type:Object,required:!0},comments:{type:Array},nextCommentLevel:{type:Number},isLastChildComment:{type:Boolean,required:!0},index:{type:Number,required:!0},talkerUrl:{type:String,required:!0}},data:function(){return{tempCommentContent:"",height:100,initialHeight:100,fullImageIsVisible:!1,embedIsVisible:!1,showBannedError:!1,width:0,paddingLeft:0,isReactionsVisible:!1,commentNewAttachment:null,commentNewAttachmentPreview:null,commentNewVideo:null,showDeleteConfirm:!1}},mounted:function(){this.getCommentStyles(),this.clickOutSide()},asyncComputed:{isNewComment:function(){var t=this.comment.id,e=this.newCommentsList.filter((function(e){return e.id===t})).length>0,n=new Promise((function(t){return setTimeout((function(){return t(!1)}),1e3)}));return!!e||n}},computed:_a(_a({},Object(O.mapState)({userData:function(t){return t.talker.userData},commentIdToReply:function(t){return t.talker.commentIdToReply},commentIdToEdit:function(t){return t.talker.commentIdToEdit},newCommentsList:function(t){return t.talker.newCommentsList}})),{},{getOffsetNumber:function(){return this.getOffset(this.comment.level)},auth:function(){return this.userData.integerId},showEditControl:function(){return null===this.nextCommentLevel||this.nextCommentLevel<=this.comment.level},showCommentControls:function(){var t,e;return!(null!==(t=this.userData)&&void 0!==t&&t.banned)&&!this.deleted&&this.verified&&!(null!==(e=this.userData)&&void 0!==e&&e.archivedAt)},content:function(){return this.getParsedContent(this.comment.content)},commentClasses:function(){var t=this.comment;return["comment-id-".concat(t.id),"comment-parent-".concat(t.parent)]},commentImage:function(){if(this.comment.files.length){var path=this.comment.files[0].path;return path=path.replace("public/","storage/"),"".concat(this.talkerUrl,"/").concat(path)}return""},commentApp:function(){var t="Отправлено через приложение ",e=this.comment.app;return"lifehacker-ios"===e?"".concat(t,'<a href="https://lh.su/talkerios" target="_blank">iOS</a>'):"lifehacker-android"===e?"".concat(t,'<a href="https://lh.su/talkerandroid" target="_blank">android</a>'):""},deleted:function(){return void 0!==this.comment.deleted&&!0===this.comment.deleted},verified:function(){return 1===this.comment.audit_status_id},isCurrentCommentToReply:function(){return this.commentIdToReply===this.comment.id},isShowInputArea:function(){return!this.isEditCurrentComment&&this.isCurrentCommentToReply},isEditCurrentComment:function(){return this.commentIdToEdit===this.comment.id},unreadCommentStyles:function(){return{width:window.innerWidth<768?"".concat(this.width+30,"px"):"".concat(this.width+23,"px"),display:this.isNewComment?"block":"none","margin-left":this.paddingLeft}},isCommentImageFull:function(){return void 0!==this.comment.files&&this.comment.files.length>0&&this.fullImageIsVisible},isShowCommentMedia:function(){return!this.isEditCurrentComment&&(this.comment.files.length>0||this.comment.videos.length>0)},isDisableSendButton:function(){return!this.comment.content.length&&!this.comment.files.length&&!this.comment.videos.length},isLastCommentInCurrentBranch:function(){return!(this.comments[this.index+1]&&this.comments[this.index+1].parent&&this.comment.parent&&this.comments[this.index+1].parent===this.comment.parent||this.comments[this.index+1]&&this.comments[this.index+1].parent&&this.comments[this.index+1].parent===this.comment.id)}}),methods:{checkUserBan:function(){this.userData.banned&&(this.showBannedError=!0)},showReplyBlock:function(){var t=this;if(this.auth){var e=this.$store.dispatch;this.isCurrentCommentToReply?e(Ht,{commentId:null}):e(Ht,{commentId:this.comment.id}),this.$nextTick((function(){t.isCurrentCommentToReply&&t.$refs.InputArea.$refs.editable.focusMe()}))}else{this.$root.$emit("show-login-popup");var n=this.isCurrentCommentToReply?null:this.comment.id,o={type:J,data:{commentId:n}};this.$store.dispatch(ue,o)}},closeEditable:function(){(0,this.$store.dispatch)(Ht,{commentId:null})},getOffset:function(t){return t>3?3:t},getParsedContent:function(content){var t,e,n,o,r=content;return["b","u","i","code"].forEach((function(t){r=_e(r,"[".concat(t,"]"),"<".concat(t,">")),r=_e(r,"[/".concat(t,"]"),"</".concat(t,">"))})),r=_e(r,"\n","<br>"),e=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_\[\]|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,o=/(^|[^\/])(www\.[\S]+(\b|$))/gim,r=(n=(n=(n=t=r).match(/(\b(https?|ftp):\/\/(?!lifehacker.ru)[-A-Z0-9+&@#\/%?=~_\[\]|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim)?t.replace(e,'<a href="$1" rel="nofollow" target="_blank">$1</a>'):t.replace(e,'<a href="$1" target="_blank">$1</a>')).match(/(^|[^\/])(www\.(?!lifehacker.ru)[\S]+(\b|$))/gim)?n.replace(o,'$1<a href="http://$2" rel="nofollow" target="_blank">$2</a>'):n.replace(o,'$1<a href="http://$2" target="_blank">$2</a>')).replace(/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,'<a href="mailto:$1">$1</a>')},editComment:function(){var t=this,e=this.$store.dispatch;this.isEditCurrentComment?(e(At,{commentId:this.comment.id,newContent:this.tempCommentContent}),this.tempCommentContent=""):this.tempCommentContent=this.comment.content,this.isEditCurrentComment?e(Ft,{commentId:null}):e(Ft,{commentId:this.comment.id}),this.$nextTick((function(){t.isEditCurrentComment&&(t.$refs.editable.setContent(t.comment.content),t.$refs.editable.focusMe(!0),xe("Редактировать"))}))},onInput:function(t){var html=t.target.innerHTML;this.$store.dispatch(At,{commentId:this.comment.id,newContent:html}),this.commentValue=html},sendEditedComment:function(){var t=this,e=this.$store.dispatch,n=this.comment.id;e(yt,{commentId:n,newContent:this.comment.content}).then((function(){var o=t.index;t.commentNewAttachment&&e(_t,{image:t.commentNewAttachment,commentId:n}).then((function(n){e(Et,{index:o,newFile:n}),t.commentNewAttachment=null,t.commentNewAttachmentPreview=null})),t.commentNewVideo&&e(Tt,{commentId:n,video:t.commentNewVideo}).then((function(n){e(Lt,{index:o,newVideo:n}),t.commentNewVideo=null}))})).catch((function(){t.showBannedError=!0,t.editComment()})).finally((function(){e(Ft,{commentId:null})}))},onMouseOver:function(){if(this.isNewComment){this.$refs.overlay.$el.style.display="none";var t=this.$store.dispatch,e=this.comment.id;t(Wt,{commentId:e}),t(Yt,{lastCommentId:e})}},getCommentStyles:function(){this.paddingLeft=getComputedStyle(this.$refs.comment.$el).paddingLeft,this.width=this.$refs.comment.$el.clientWidth-parseInt(this.paddingLeft,10)},removeAttachment:function(){if(this.commentNewAttachmentPreview)return this.commentNewAttachment=null,void(this.commentNewAttachmentPreview=null);var t=this.comment.files[0].id,e=this.comment.id;this.$store.dispatch(wt,{attachmentId:t,commentId:e})},removeVideo:function(){if(this.commentNewVideo)this.commentNewVideo=null;else{var t=this.comment.videos[0].id,e=this.comment.id;this.$store.dispatch(xt,{videoId:t,commentId:e})}},onFileChange:function(t){var e=t.target.files[0];wo(e)&&(this.commentNewAttachment=e,this.setPreviewImage(e))},setPreviewImage:function(t){var e=this,n=new FileReader;n.addEventListener("load",(function(t){e.commentNewAttachmentPreview=t.target.result})),n.readAsDataURL(t)},addVideo:function(t){t.success&&(this.commentNewVideo=t.data),this.videoPickerIsVisible=!1},clickOutSide:function(){var t=this;window.addEventListener("click",(function(){t.emojiPickerIsVisible=!1,t.embedIsVisible=!1}))},setShowDeleteConfirm:function(t){t?this.$store.commit(fe,this.comment.id):this.$store.commit(ge),this.showDeleteConfirm=t},deleteComment:function(){var t=this;this.setShowDeleteConfirm(!1);var e=this.comment.id;k.a.prototype.$api.deleteComment(e).then((function(n){if(200===n.status&&n.data.success){var o=t.$store.state.comments.map((function(t){return t.id!==e?t:_a(_a({},t),{},{author:"",content:"Комментарий был удалён",avatar:null,videos:[],files:[],deleted:!0})}));t.$store.dispatch(Nt,{newComments:o}),t.$store.commit(ge),xe("Удалить")}})).catch((function(e){Le(e,t.$store.dispatch),t.userData.banned&&(t.showBannedError=!0)}))}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("comment-wrapper",{ref:"comment",class:t.commentClasses,attrs:{"data-id":t.comment.id,isLastChild:t.isLastChildComment,isDeleted:t.deleted,offsetNumber:t.getOffsetNumber,isUnread:t.isNewComment,isLastCommentInCurrentBranch:t.isLastCommentInCurrentBranch,isAuditStatusOnVerify:"on_verify"===t.comment.audit_status_name},nativeOn:{mouseover:function(e){return t.onMouseOver.apply(null,arguments)}}},[n("unread-overlay",{ref:"overlay",staticClass:"unread-overlay",style:t.unreadCommentStyles}),n("comment-anchor",{attrs:{id:"comment-"+t.comment.id,"data-id":"comment-"+t.comment.id}}),n("comment-top-row",[n("CommentAuthor",{attrs:{comment:t.comment,contentIsEditable:t.isEditCurrentComment,deleted:t.deleted,verified:t.verified,isEditCurrentComment:t.isEditCurrentComment}},[t.deleted?t._e():n("CommentButtons",{attrs:{commentId:t.comment.id,parentCommentId:t.comment.parent?t.comment.parent:null,commentAuthorId:t.comment.author_id,showEditControl:t.showEditControl,showDeleteConfirm:t.showDeleteConfirm},on:{"edit-comment":t.editComment,"click-on-delete":function(e){return t.setShowDeleteConfirm(!0)}}})],1),t.showDeleteConfirm?n("CustomConfirm",{attrs:{text:"Удалить комментарий?",buttonOkText:"Удалить",buttonCancelText:"Отмена"},on:{"click-on-ok-button":t.deleteComment,"click-on-cancel-button":function(e){return t.setShowDeleteConfirm(!1)}}}):t._e()],1),t.isEditCurrentComment?t._e():n("comment-content",{staticClass:"comment-content",attrs:{isHated:t.comment.karma<-20,isFlagged:t.comment.flagged}},[2===t.comment.audit_status_id?n("comment-is-moderation",[t._v("Ваш комментарий ожидает проверки")]):t._e(),n("p",{domProps:{innerHTML:t._s(t.comment.flagged?"Жалоба на комментарий успешно отправлена":t.content)}})],1),t.isCommentImageFull?n("comment-full-image-wrapper",{nativeOn:{click:function(e){t.fullImageIsVisible=!1}}},[n("comment-full-image",{attrs:{src:t.commentImage}})],1):t._e(),t.isEditCurrentComment?n("comment-text-area-wrapper",[n("editable",{ref:"editable",on:{input:t.onInput,"meta-enter-pressed":t.sendEditedComment,"escape-key-pressed":t.editComment}}),n("input-area-pickers",[n("CommentEditingPanel",{attrs:{isAttachment:!!t.commentNewAttachment,videoPickerIsVisible:t.videoPickerIsVisible,isVideo:!!t.commentNewVideo},on:{"file-change":t.onFileChange,"add-video":t.addVideo,"toggle-video-picker":t.toggleVideoPicker}},[n("code-picker-container",[n("BBCodePicker",{attrs:{bold:t.bold,underlined:t.underlined,italic:t.italic,code:t.code},on:{"tag-click":t.insertBBCode}})],1)],1)],1)],1):t._e(),t.isShowCommentMedia?n("comment-media",[t.comment.files.length>0?n("comment-image",{attrs:{src:t.commentImage,isEdit:t.isEditCurrentComment},nativeOn:{click:function(e){t.fullImageIsVisible=!0}}}):t._e(),t.comment.videos.length>0?n("comment-video-wrapper",[n("img",{attrs:{src:t.comment.videos[0].thumb},on:{click:function(e){e.stopPropagation(),t.embedIsVisible=!0}}}),n("div",{staticClass:"play-icon",on:{click:function(e){e.stopPropagation(),t.embedIsVisible=!0}}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"18",viewBox:"0 0 12 18"}},[n("path",{attrs:{fill:"#FFF","fill-rule":"nonzero",d:"M11.63 8.233L1.603.216A.988.988 0 0 0 0 .983v16.034A.983.983 0 0 0 .986 18c.22 0 .438-.074.616-.216l10.029-8.017a.982.982 0 0 0 0-1.534z"}})])])]):t._e(),t.comment.videos.length?n("comment-embed",{directives:[{name:"show",rawName:"v-show",value:t.embedIsVisible,expression:"embedIsVisible"}]},[t.embedIsVisible?n("iframe",{attrs:{width:"900",height:"506",src:t.comment.videos[0].embed_url,frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""},on:{click:function(t){t.stopPropagation()}}}):t._e()]):t._e()],1):t._e(),t.isEditCurrentComment?n("CommentAttachmentsPreview",{attrs:{preview:t.commentImage||t.commentNewAttachmentPreview,video:t.comment.videos[0]||t.commentNewVideo},on:{"delete-attachment":t.removeAttachment,"delete-video":t.removeVideo}}):t._e(),n("comment-controls-wrapper",{directives:[{name:"show",rawName:"v-show",value:t.showCommentControls,expression:"showCommentControls"}]},[n("CommentRating",{directives:[{name:"show",rawName:"v-show",value:!t.isEditCurrentComment,expression:"!isEditCurrentComment"}],attrs:{commentId:t.comment.id,likesIdList:t.comment.users_liked,dislikeIdList:t.comment.users_disliked,commentAuthorId:t.comment.author_id},on:{"grade-comment":t.checkUserBan}}),t.isEditCurrentComment?t._e():n("the-button",{attrs:{isReply:!0},nativeOn:{click:function(e){return t.showReplyBlock.apply(null,arguments)}}},[n("comment-reply-text",[t._v(t._s(t.isCurrentCommentToReply?"Скрыть":"Ответить"))])],1),t.isEditCurrentComment?n("the-button",{attrs:{isCancel:!0},nativeOn:{click:function(e){t.auth?t.editComment():t.$root.$emit("show-login-popup")}}},[t.showEditControl?n("comment-edit-text",[t._v("Отмена")]):t._e()],1):t._e(),t.isEditCurrentComment?n("the-button",{attrs:{disabled:t.isDisableSendButton},domProps:{innerHTML:t._s("Отправить")},nativeOn:{click:function(e){return t.sendEditedComment.apply(null,arguments)}}}):t._e()],1),t.isShowInputArea?n("div",[n("InputArea",{ref:"InputArea",attrs:{replyTo:t.comment.id}})],1):t._e(),t.showBannedError?n("BannedMessageWrapper",[n("MessageToBannedUser")],1):t._e()],1)}),[],!1,null,null,null).exports;function Ba(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ma=z.a.div(Ea||(Ea=Ba(["\n  display: block;\n\n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(La||(La=Ba(["\n    display: none;\n  "])))})),Na=z.a.div(Aa||(Aa=Ba(["\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  height: 100vh;\n  width: 100vw;\n\n  background-color: ",";\n  opacity: 0.8;\n  z-index: 53;\n"])),(function(t){return t.theme.colors.blackColor})),Ra={open:Boolean},$a=z()("div",Ra)(Pa||(Pa=Ba(["\n  position: fixed;\n  bottom: -81vh;\n  left: 0;\n\n  max-height: 80vh;\n  width: 100%;\n  padding-top: 48px;\n\n  border-radius: 20px 20px 0 0;\n\n  transition: all 300ms;\n  background-color: ",";\n  z-index: 101;\n\n  &::before {\n    content: '';\n\n    position: absolute;\n    top: 23px;\n    left: calc(50% - 18px);\n\n    width: 36px;\n    height: 4px;\n\n    background-color: ",";\n  }\n\n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.colors.ratingBorderColor}),(function(t){return t.open&&"\n    bottom: 0;\n  "})),Va=z.a.div(Ia||(Ia=Ba(['\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n    \n  &:after {\n    content: "";\n\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 48px;\n\n    box-shadow: 0 -1px 4px rgba(8,35,48,.08);\n    pointer-events: none;\n  }\n']))),za=z.a.span(Sa||(Sa=Ba(["\n  padding: 16px;\n\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 24px;\n  word-wrap: break-word;\n"]))),Ua=z.a.button(ja||(ja=Ba(["\n  padding: 16px;\n  \n  border: none;\n\n  background: transparent;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 24px;\n  cursor: pointer;\n  color: ",";\n"])),(function(t){return t.theme.colors.darkBlueColor}));function Ha(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Fa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ka=ct({name:"ActionSheetConfirm",props:{isOpenActionSheet:{type:Boolean,required:!0},text:{type:String,required:!0},okButtonText:{type:String,default:"Ок"},cancelButtonText:{type:String,default:"Отмена"}},components:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ha(Object(source),!0).forEach((function(e){Fa(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Ha(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},c),methods:{NOOP:function(){},onClickOkButton:function(){this.$emit("click-on-ok-button")},onClickCancelButton:function(){this.$emit("click-on-cancel-button")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("action-sheet-wrapper",[t.isOpenActionSheet?n("action-sheet-overlay",{nativeOn:{click:function(e){return t.onClickCancelButton.apply(null,arguments)}}}):t._e(),n("action-sheet-container",{attrs:{open:t.isOpenActionSheet},nativeOn:{click:function(e){return t.onClickCancelButton.apply(null,arguments)}}},[n("action-sheet-content",{on:{click:function(e){return e.stopPropagation(),t.NOOP.apply(null,arguments)}}},[n("action-sheet-text",{domProps:{textContent:t._s(t.text)}}),n("action-sheet-button",{domProps:{textContent:t._s(t.okButtonText)},nativeOn:{click:function(e){return t.onClickOkButton.apply(null,arguments)}}}),n("action-sheet-button",{domProps:{textContent:t._s(t.cancelButtonText)},nativeOn:{click:function(e){return t.onClickCancelButton.apply(null,arguments)}}})],1)],1)],1)}),[],!1,null,null,null);function Za(t,e,n,o,r,c,l){try{var m=t[c](l),d=m.value}catch(t){return void n(t)}m.done?e(d):Promise.resolve(d).then(o,r)}function qa(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Wa(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?qa(Object(source),!0).forEach((function(e){Ga(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):qa(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Ga(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ya,Ja,Xa,Qa,ts,es,ns=ct({name:"TheMain",components:{CommentsList:pt,TopInfo:Ze,PreLoader:Xe,SortSwitch:cn,InputAreaContainer:Ao,TheComment:Da,ActionSheetConfirm:Ka.exports},props:{isDisableSubscriptionStatusSwitch:{type:Boolean,required:!0},talkerUrl:{type:String,required:!0},id:{type:Number||String},isDisableLoader:{type:Boolean},isDisableScrollingToComments:{type:Boolean,required:!0}},data:function(){return{isShowInputArea:!1,isShowBottomInputArea:!1,countComments:50,throttled:Object(ot.throttle)(300,this.onScroll),offset:window.innerHeight}},computed:Wa(Wa({},Object(O.mapState)({fetching:function(t){return t.talker.fetching},initialized:function(t){return t.talker.initialized},userData:function(t){return t.talker.userData},comments:function(t){return t.talker.comments},noNewComments:function(t){return t.talker.noNewComments},dottedComments:function(t){return t.talker.dottedComments},loading:function(t){return t.talker.loading},newCommentsList:function(t){return t.talker.newCommentsList},integerId:function(t){return t.talker.userData.integerId},postId:function(t){return t.talker.postId},linkToComment:function(t){return t.talker.linkToComment},isRenderAllComments:function(t){return t.talker.isRenderAllComments},actionSheet:function(t){return t.talker.actionSheet}})),{},{auth:function(){return null!==this.userData&&void 0!==this.userData.integerId&&this.userData.integerId},totalComments:function(){return this.comments.length},activeInputAreaType:{get:function(){return this.$store.state.talker.activeInputAreaType},set:function(t){this.$store.dispatch(ce,{type:t})}},showComments:function(){return this.linkToComment||this.isRenderAllComments?this.comments:this.comments.slice(0,this.countComments)},countNewComments:function(){return this.newCommentsList.length}}),watch:{totalComments:function(t){localStorage.setItem("countCommentsInPost-".concat(this.postId),t)}},created:function(){var t=this.$store.dispatch,e=this.id||window.lhTalkerData.postId;this.$store.dispatch(gt,{postId:e});var n=localStorage.getItem("lhTalkerSortType");t(Jt,{sortType:n}),this.fetchComments(n)},mounted:function(){var t=this;document.querySelectorAll(ht).forEach((function(e){e.addEventListener("click",t.handleClick)})),window.addEventListener("scroll",this.throttled),this.setLastComment(),this.setNewComments()},destroyed:function(){var t=this;window.removeEventListener("scroll",this.throttled),document.querySelectorAll(ht).forEach((function(e){e.removeEventListener("click",t.handleClick)}))},methods:Wa(Wa({},Object(O.mapMutations)({hideActionSheet:ge})),{},{fetchComments:function(t){var e=this,n=this.$store.dispatch;-1!==window.location.hash.indexOf("#comment-")?(n(St),n(vt,{sortType:t}).then((function(){e.isDisableScrollingToComments||Oe(window.location.hash)}))):n(vt,{sortType:t}),"#comments"===window.location.hash&&(this.isDisableScrollingToComments||Oe("#comments")),-1!==window.location.hash.indexOf("write-comment")&&(this.activeInputAreaType="top")},handleClick:function(){var t=this.$store.state;t.commentsFetchedForTheFirstTime&&Oe(t.hash)},showInputArea:function(t){if(!this.$store.state.talker.userData||!this.$store.state.talker.userData.integerId)return this.$root.$emit("show-login-popup"),void this.$store.dispatch(ue,{type:Y,data:t});this.activeInputAreaType=t,xe("top"===t?"Кнопка написать комментарий верхняя_клик":"Кнопка написать комментарий нижняя_клик")},onScroll:function(){var t=this.$refs.comments;t&&(t.scrollHeight+t.getBoundingClientRect().top<3*this.offset&&(this.countComments+=50))},onClickButtonScrollToNewComment:function(){var t=this,e=this.newCommentsList[0];(function(){var n,o=(n=nt.a.mark((function n(){var o;return nt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.$refs.comments.querySelector('div[data-id="'.concat(e.id,'"]')),n.next=3,at()(o,{behavior:"smooth"});case 3:return n.abrupt("return",(r=void 0,(r=t.$store.dispatch)(Wt,{commentId:e.id}),void r(Yt,{lastCommentId:e.id})));case 4:case"end":return n.stop()}var r}),n)})),function(){var t=this,e=arguments;return new Promise((function(o,r){var c=n.apply(t,e);function l(t){Za(c,o,r,l,m,"next",t)}function m(t){Za(c,o,r,l,m,"throw",t)}l(void 0)}))});return function(){return o.apply(this,arguments)}})()(),xe("К новому комментарию")},setLastComment:function(){var t=this.$store,e=t.state,n=t.dispatch,o=localStorage.getItem("lastReadCommentInPost-".concat(e.talker.postId));if(o)n(Yt,{lastCommentId:o});else{var r=0;this.comments.forEach((function(t){var e=t.id;e>r&&(r=e)})),n(Yt,{lastCommentId:r})}},setNewComments:function(){var t=this;this.comments.forEach((function(e){e.id>t.lastCommentId&&t.$store.dispatch(Kt,{comment:e})}))},getNewState:function(t,e){var n=this.showComments.filter((function(t){return t.id===e}))[0];return!!n&&("like"===t?n.users_liked.includes(this.integerId)?null:"like":"dislike"===t&&(n.users_disliked.includes(this.integerId)?null:"dislike"))},deleteComment:function(){var t=this.actionSheet.commentId;this.$store.dispatch(Ct,{commentId:t})}})},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main__container"},[t.isDisableLoader||!t.fetching&&!t.loading?t._e():n("PreLoader"),t.initialized?n("div",{staticClass:"lh-talker-container"},[n("TopInfo",{attrs:{total:t.totalComments,isDisableSubscriptionStatusSwitch:t.isDisableSubscriptionStatusSwitch}}),n("div",{staticClass:"input-area-and-comments-list"},[n("InputAreaContainer",{attrs:{isShowInputArea:"top"===t.activeInputAreaType||!t.showComments.length,type:"top"},on:{"show-input-area":t.showInputArea}}),n("SortSwitch",{attrs:{isShowSwitch:t.showComments.length>1}}),n("CommentsList",{attrs:{countNewComments:t.countNewComments},on:{"scroll-to-new-comment":t.onClickButtonScrollToNewComment}},[n("div",{ref:"comments",staticClass:"comments-list"},t._l(t.showComments,(function(e,i){return n("TheComment",{key:e.id,attrs:{index:i,comment:e,comments:t.showComments,nextCommentLevel:t.comments[i+1]?t.comments[i+1].level:null,isLastChildComment:!t.comments[i+1]||!t.comments[i+1].parent,talkerUrl:t.talkerUrl}})})),1)]),t.showComments.length>=5?n("InputAreaContainer",{attrs:{isShowInputArea:"bottom"===t.activeInputAreaType,type:"bottom"},on:{"show-input-area":t.showInputArea}}):t._e()],1),n("ActionSheetConfirm",{attrs:{text:"Удалить комментарий?",okButtonText:"Удалить",cancelButtonText:"Отмена",isOpenActionSheet:t.actionSheet.show},on:{"click-on-ok-button":t.deleteComment,"click-on-cancel-button":t.hideActionSheet}})],1):t._e()],1)}),[],!1,null,null,null).exports;function os(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var rs,is,as=z.a.div(Ya||(Ya=os(["\n  position: relative;\n  padding: 8px 36px 8px 12px;\n  border-radius: 4px;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);\n  background-color: ",";\n  overflow: hidden;\n  width: 95vw;\n  margin-bottom: 8px;\n  max-width: 440px;\n  \n  ","\n"])),(function(t){return t.theme.colors.whiteColor}),(function(t){return t.theme.mixins.respondTo.tablet(Ja||(Ja=os(["\n    padding: 16px 40px 16px 16px;\n  "])))})),ss=z.a.div(Xa||(Xa=os(["\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 20px;\n  \n  ","\n  \n  .article-title {\n    color: ",";\n  }\n"])),(function(t){return t.theme.mixins.respondTo.tablet(Qa||(Qa=os(["\n    font-size: 16px;\n    line-height: 25px;\n  "])))}),(function(t){return t.theme.colors.darkBlueColor})),cs=z.a.button(ts||(ts=os(["\n  position: absolute;\n  right: 11px;\n  top: 11px;\n  \n  width: 16px;\n  height: 16px;\n  \n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n  \n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(es||(es=os(["\n    right: 15px;\n    top: 15px;\n  "])))})),us=ct({name:"NotificationPopup",components:{PopupContainer:as,PopupText:ss,PopupCloseButton:cs},props:{text:{type:String,required:!0}},data:function(){return{timeout:null}},mounted:function(){this.timeout=setTimeout(this.removeNotification,3e3)},destroyed:function(){clearTimeout(this.timeout)},methods:{removeNotification:function(){this.$emit("remove-notification")},onCloseButtonClick:function(){this.removeNotification(),clearTimeout(this.timeout)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PopupContainer",[n("PopupText",{domProps:{innerHTML:t._s(t.text)}}),n("PopupCloseButton",{nativeOn:{click:function(e){return t.onCloseButtonClick.apply(null,arguments)}}},[n("svg",{attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M3 3L13 13",stroke:"#5C5C5C","stroke-width":"2","stroke-linecap":"round"}}),n("path",{attrs:{d:"M13 3L3 13",stroke:"#5C5C5C","stroke-width":"2","stroke-linecap":"round"}})])])],1)}),[],!1,null,null,null);function ls(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ms(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ps(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ds,hs,fs=ct({name:"NotificationPopupContainer",components:{NotificationPopup:us.exports,Notifications:z.a.div(rs||(rs=ls(["\n  position: fixed;\n  bottom: 0;\n  left: 2.5vw;\n  z-index: 999;\n  \n  ","\n"])),(function(t){return t.theme.mixins.respondTo.tablet(is||(is=ls(["\n    bottom: 24px;\n    left: 24px;  \n  "])))}))},methods:{removeNotification:function(t){(0,this.$store.commit)(de,t)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ms(Object(source),!0).forEach((function(e){ps(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ms(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(O.mapState)({notificationList:function(t){return t.talker.notificationList}}))},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Notifications",t._l(t.notificationList,(function(e){return n("NotificationPopup",{key:e.id,attrs:{text:e.text},on:{"remove-notification":function(n){return t.removeNotification(e.id)}}})})),1)}),[],!1,null,null,null).exports;function gs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Object(V.injectGlobal)(ds||(ds=gs(["\n  .lh-talker-app * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n"])));var vs=z.a.div(hs||(hs=gs(["\n  margin: 45px auto;\n  max-width: 916px;\n  text-align: left;\n  font-weight: normal;\n  font-style: normal;\n  font-family: ",";\n  img {\n    vertical-align: initial;\n  }\n  code {\n    padding: 2px 4px;\n    font-size: 90%;\n    color: #c7254e;\n    background-color: #f9f2f4;\n    border-radius: 4px;\n  }\n  \n  @media screen and (-webkit-min-device-pixel-ratio: 0) and (max-width: 1024px) {\n      select,\n      textarea,\n      input,\n      select:focus,\n      textarea:focus,\n      input:focus {\n        font-size: 16px;\n      }\n  }\n"])),(function(t){return t.theme.fonts.mainFont}));function bs(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Cs(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?bs(Object(source),!0).forEach((function(e){ys(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):bs(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ws(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xs(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object({NODE_ENV:"production",BASE_URL:"/wp-content/plugins/lh-talker/frontend/dist/"}).VUE_APP_TEST_TOKEN;var ks,Os,_s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Z;ws(this,t),this.talkerUrl=e,this.pusherUrl=n,this.fullSearchUrl=o,this.cookieName=r}var e,n,o;return e=t,(n=[{key:"talkerRequest",value:function(){var t=ke(this.cookieName),e={"x-app":"lifehacker-web"};return t&&(e=Cs({token:t},e)),be.a.create({headers:e,baseURL:this.talkerUrl,timeout:1e4})}},{key:"pusherRequest",value:function(){var t=ke(this.cookieName),e={"x-app":"lifehacker-web"};return t&&(e=Cs(Cs({},e),{},{"x-access-token":t})),be.a.create({headers:e,baseURL:this.pusherUrl,timeout:1e4})}},{key:"fullSearchRequest",value:function(){return be.a.create({baseURL:this.fullSearchUrl,timeout:1e4})}},{key:"fetchUserReaction",value:function(t){var e="/api/reactions/".concat(t);return this.talkerRequest().get(e)}},{key:"addVideo",value:function(t){var e="/api/video?".concat(t);return this.talkerRequest().get(e)}},{key:"updateAvatar",value:function(){return this.talkerRequest().post("/api/avatar/update")}},{key:"getUserData",value:function(t){return this.talkerRequest().get("/api/author/".concat(t))}},{key:"fetchComments",value:function(t,e){var n="/api/v2/comments/post/".concat(t,"?sort=").concat(e,"&format_ver=1&limit=10000");return this.talkerRequest().get(n)}},{key:"sendComment",value:function(data){return this.talkerRequest().post("/api/comments",data)}},{key:"deleteComment",value:function(t){var e="/api/comments?id=".concat(t);return this.talkerRequest().delete(e)}},{key:"editComment",value:function(data){return this.talkerRequest().put("/api/comments",data)}},{key:"setRelationToComment",value:function(data){return this.talkerRequest().put("/api/likes",data)}},{key:"reportComment",value:function(data){return this.talkerRequest().put("/api/comments/flags",data)}},{key:"storeFile",value:function(data){return this.talkerRequest().post("/api/files",data)}},{key:"storeVideo",value:function(data){return this.talkerRequest().post("/api/video",data)}},{key:"removeAttachment",value:function(t){var e="/api/files/".concat(t);return this.talkerRequest().delete(e)}},{key:"removeVideo",value:function(t){var e="/api/video/".concat(t);return this.talkerRequest().delete(e)}},{key:"getSubscriptionStatus",value:function(t){var e="/api/v1/subscription/user/".concat(t);return this.pusherRequest().get(e)}},{key:"updateSubscriptionStatus",value:function(t,data){var e="/api/v1/subscription/user/".concat(t);return this.pusherRequest().post(e,data)}},{key:"fetchPostTitle",value:function(t){return this.fullSearchRequest().get("/fullsearch/solr/postId",{params:{includes:t,page:1}})}}])&&xs(e.prototype,n),o&&xs(e,o),t}(),Ts={mobile:"414px",tablet:"767px",bigTablet:"1023px",desktop:"1279px",bigDesktop:"1920px"};function Es(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Ls=Object.keys(Ts).reduce((function(t,label){return t[label]=function(){return Object(V.css)(ks||(ks=Es(["\n\t\t@media (min-width: ",") {\n\t\t\t",";\n\t\t}\n\t"])),Ts[label],V.css.apply(void 0,arguments))},t}),{}),As={colors:{borderColor:"#F0F0F0",hoverColor:"#ED5E42",submitButtonHover:"#D44B3F",lightGrayColor:"#8E8E8E",grayColor:"#c4c4c4",middleGrayColor:"#bfbfbf",darkGrayColor:"#5C5C5C",greenColor:"#1C8920",greenSecondaryColor:"#51A822",redColor:"#ED0000",redSecondaryColor:"#F73838",whisperColor:"#EEEEEE",blackColor:"#000000",whiteColor:"#ffffff",nightRiderColor:"#343434",pinkSwanColor:"#b2b2b2",grayBlackColor:"#242424",matterhornColor:"#4d4d4d",lightBlueColor:"#f3f5fc",buttonActiveColor:"#E1EAFD",darkBlueColor:"#2962F9",orangeColor:"#ed5e42",lightYellow:"#fffabd",ratingBorderColor:"#EBEBEB"},breakpoints:Ts,fonts:{mainFont:"PTRoot, sans-serif",commentsCountFont:"Commissioner, sans-serif"},mixins:{respondTo:Ls,hover:function(){return Object(V.css)(Os||(Os=Es(["\n    @media (min-width: 1280px) {\n      &:hover {\n        ",";\n      }\n    }\n  "])),V.css.apply(void 0,arguments))}}};function Ps(t){return function(t){if(Array.isArray(t))return Is(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Is(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Is(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ss(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function js(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ss(Object(source),!0).forEach((function(e){Ds(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Ss(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Ds(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object({NODE_ENV:"production",BASE_URL:"/wp-content/plugins/lh-talker/frontend/dist/"}).VUE_APP_POST_ID;window.io=$.a,k.a.use(B.a),k.a.use(j.a),A.a.config.autoSetContainer=!0,k.a.use(E.a,{offset:0}),k.a.use(A.a),k.a.use(I.a);var Bs,Ms,Ns={name:"App",components:{TheMain:ns,NotificationPopupContainer:fs,ThemeProvider:V.ThemeProvider,AppWrapper:vs},props:{id:{type:Number,default:null},showLoginPopup:{type:Function,default:function(){var t=document.querySelector(".auth-popup--overlay");t&&(t.style.display="flex")}},userData:{type:Object,default:null},talkerUrl:{type:String,default:void 0},pusherUrl:{type:String,default:void 0},fullSearchUrl:{type:String,default:void 0},isDisableSubscriptionStatusSwitch:{type:Boolean,default:!1},isDisableLoader:{type:Boolean,default:!1},isDisableScrollingToComments:{type:Boolean,default:!1},colors:{type:Object},fonts:{type:Object},cookieName:{type:String,default:void 0},listenToAuthorizationEvents:{type:Boolean,default:!0}},data:function(){return{echo:null,theme:As,usingMouse:!1}},computed:js(js({},Object(O.mapState)({comments:function(t){return t.talker.comments},integerId:function(t){return t.talker.userData.integerId},commentsFetchedForTheFirstTime:function(t){return t.talker.commentsFetchedForTheFirstTime}})),{},{getTalkerUrl:function(){return this.talkerUrl?this.talkerUrl:K},activeInputAreaType:{get:function(){return this.$store.state.talker.activeInputAreaType},set:function(t){this.$store.dispatch(ce,{type:t})}},containerClasses:function(){return{"using-mouse":this.usingMouse}}}),watch:{userData:function(t){this.setUserData(t,!0)},commentsFetchedForTheFirstTime:function(t){t&&this.$emit("fetched-comments-first-time")}},created:function(){k.a.prototype.$api=new _s(this.talkerUrl,this.pusherUrl,this.fullSearchUrl,this.cookieName),this.listenToAuthorizationEvents&&this.setListenersForAuthorizationEvents()},mounted:function(){this.setColors(),this.setFonts();var t=this.id?this.id:window.lhTalkerData.postId;this.setUserData(this.userData),this.echo=new N.a({broadcaster:"socket.io",host:this.getTalkerUrl}),this.echo.channel(F+t).listen(".public.message",this.handleMessage),this.$root.$on("show-login-popup",this.showLoginPopup),this.addMouseDownAndKeyDownEventListeners()},destroyed:function(){var t=this.id?this.id:window.lhTalkerData.postId;this.echo.leave(F+t),this.listenToAuthorizationEvents&&this.removeListenersForAuthorizationEvents();var e=this.$store.dispatch;e(Nt,{newComments:[]}),e(Mt),e(le),this.removeMouseDownAndKeyDownEventListeners()},methods:{handleMouseDownEvent:function(){this.usingMouse=!0},handleKeydownEvent:function(t){"Tab"===t.code&&(this.usingMouse=!1)},addMouseDownAndKeyDownEventListeners:function(){document.body.addEventListener("mousedown",this.handleMouseDownEvent),document.body.addEventListener("keydown",this.handleKeydownEvent)},removeMouseDownAndKeyDownEventListeners:function(){document.body.removeEventListener("mousedown",this.handleMouseDownEvent),document.body.removeEventListener("keydown",this.handleKeydownEvent)},setListenersForAuthorizationEvents:function(){window.addEventListener("lh_login",this.onLogin),window.addEventListener("lh_logout",this.onLogout)},removeListenersForAuthorizationEvents:function(){window.removeEventListener("lh_login",this.onLogin),window.removeEventListener("lh_logout",this.onLogout)},handleMessage:function(t){if(t.comment.author_id!==this.integerId){var e=this.$store.dispatch;switch(t.event){case"add_comment":e(Kt,{comment:t.comment}),this.comments.filter((function(e){return e.id===t.comment.id})).length||e(Nt,{newComments:this.getNewComments(t.comment)});break;case"update_comment":e(Zt,{comment:t.comment});break;case"delete_comment":e(qt,{id:t.comment.id})}}},getNewComments:function(t){var e;return t.parent?(this.comments.forEach((function(n,o){t.parent===n.id&&(e=o+1)})),this.comments.forEach((function(n,o){n.parent===t.parent&&(e=o+1)})),[].concat(Ps(this.comments.slice(0,e)),[t],Ps(this.comments.slice(e)))):[].concat(Ps(this.comments),[t])},setUserData:function(t,e){var n=this;t&&this.$store.dispatch(It,{userData:t}).then((function(){t.integerId&&e&&n.doDelayedAction()}))},setColors:function(){this.colors&&(this.theme.colors=js(js({},this.theme.colors),this.colors))},setFonts:function(){this.fonts&&(this.theme.fonts=js(js({},this.theme.fonts),this.fonts))},onLogin:function(t){var e=this,data=t.userData,n=data.avatars.middle||data.avatars.small,o=data.fbId?"https://graph.facebook.com/".concat(data.fbId,"/picture?type=large"):n,r=data.vkId,c=data.fbId,l={integerId:data.integerId,email:data.email||"",displayName:data.displayName,archivedAt:!!data.archivedAt,banned:!1,vkId:r,fbId:c,avatar:o};k.a.prototype.$api.updateAvatar(),k.a.prototype.$api.getUserData(data.integerId).then((function(t){t.data.success&&(l.banned=!!t.data.author.banned,e.$store.dispatch(It,{userData:l}).then(e.doDelayedAction))}))},onLogout:function(){this.$store.dispatch(Pt)},doDelayedAction:function(){var t=this.$store.dispatch,e=this.$store.state.talker.delayedAction;if(e){var n=e.type,data=e.data;switch(n){case Y:this.activeInputAreaType=data;break;case J:t(Ht,data);break;case X:t(bt,data),data.parent?t(Ht,{commentId:null}):(t(ne),this.$root.$emit("talker-clear-input"));break;case Q:var o=data.typeReaction,r=data.commentId,c=this.getNewState(o,r);t(kt,{commentId:r,newState:c}),"like"===c?xe("Оценка - нравится"):"dislike"===c&&xe("Оценка - не нравится");break;case tt:var l=data.commentId;t(Ot,{commentId:l}).then((function(){xe("Жаловаться")}))}}}}},Rs=(n("5c0b"),ct(Ns,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ThemeProvider",{attrs:{theme:t.theme}},[n("AppWrapper",{ref:"container",staticClass:"lh-talker-app",class:t.containerClasses,attrs:{id:"lh-talker-app"}},[n("TheMain",{attrs:{isDisableSubscriptionStatusSwitch:t.isDisableSubscriptionStatusSwitch,id:t.id,isDisableLoader:t.isDisableLoader,isDisableScrollingToComments:t.isDisableScrollingToComments,talkerUrl:t.getTalkerUrl}}),n("NotificationPopupContainer")],1)],1)}),[],!1,null,null,null).exports);function $s(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Vs(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$s(Object(source),!0).forEach((function(e){zs(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$s(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function zs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Us(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Hs(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Us(Object(source),!0).forEach((function(e){Fs(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Us(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Fs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ks(t){return function(t){if(Array.isArray(t))return Zs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Zs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var qs={state:{userData:{integerId:null,email:null,displayName:null,vkId:null,fbId:null,avatar:null,banned:!1,roles:[]},comments:[],hash:"#comments",fetching:!1,loading:!1,commentsFetchedForTheFirstTime:!1,appContainerNode:document.getElementById("lh-talker-app"),postId:null,postTitle:"",page:1,limit:10,noNewComments:!1,initialized:!1,linkToComment:!1,scrolledToComment:!1,commentIdToReply:null,commentIdToEdit:null,newCommentsList:[],isRenderAllComments:!1,lastCommentId:null,sortType:"trending",newCommentValue:"",newCommentVideo:null,newCommentAttachment:null,newCommentAttachmentPreview:null,replyCommentValue:"",replyCommentVideo:null,replyCommentAttachment:null,replyCommentAttachmentPreview:null,activeInputAreaType:!1,delayedAction:null,notificationList:[],actionSheet:{show:!1,commentId:0}},mutations:(zs(Bs={},"TALKER_SET_LOCALHOST_DATA",(function(t,e){var n=e.localUserData,o=e.postId;t.userData=n,t.postId=o})),zs(Bs,gt,(function(t,e){var n=e.postId;t.postId=Number(n)})),zs(Bs,jt,(function(t){t.fetching=!0})),zs(Bs,Dt,(function(t){t.fetching=!1})),zs(Bs,Bt,(function(t){t.noNewComments=!0})),zs(Bs,Rt,(function(t){t.page+=1})),zs(Bs,$t,(function(t){t.commentsFetchedForTheFirstTime=!0})),zs(Bs,Vt,(function(t,e){var n=e.initialized;t.initialized=n})),zs(Bs,Nt,(function(t,e){var n=e.newComments;t.comments=n})),zs(Bs,zt,(function(t){t.loading=!0})),zs(Bs,Ut,(function(t){t.loading=!1})),zs(Bs,Et,(function(t,e){var n=e.index,o=e.newFile;t.comments[n].files=t.comments[n].files||[],t.comments[n].files.push(o)})),zs(Bs,Lt,(function(t,e){var n=e.index,o=e.newVideo;t.comments[n].videos=t.comments[n].videos||[],t.comments[n].videos.push(o)})),zs(Bs,At,(function(t,e){var n=e.commentId,o=e.newContent;t.comments=t.comments.map((function(t){return t.id===n&&(t.content=o),t}))})),zs(Bs,Pt,(function(t){t.userData={integerId:null,email:null,displayName:null}})),zs(Bs,It,(function(t,e){var n=e.userData;"banned"in n||(n.banned=!1),t.userData=n})),zs(Bs,St,(function(t){t.linkToComment=!0})),zs(Bs,Ht,(function(t,e){var n=e.commentId;t.commentIdToReply=n})),zs(Bs,Ft,(function(t,e){var n=e.commentId;t.commentIdToEdit=n})),zs(Bs,Kt,(function(t,e){var n=e.comment;n.author_id!==t.userData.integerId&&t.newCommentsList.push(n)})),zs(Bs,Wt,(function(t,e){var n=e.commentId;t.newCommentsList=t.newCommentsList.filter((function(t){return t.id!==n}))})),zs(Bs,Gt,(function(t){t.isRenderAllComments=!0})),zs(Bs,Yt,(function(t,e){var n=e.lastCommentId;t.lastCommentId=n,localStorage.setItem("lastReadCommentInPost-".concat(t.postId),n)})),zs(Bs,Zt,(function(t,e){var n=e.comment;t.comments=t.comments.map((function(t){return n.id===t.id?n:t}))})),zs(Bs,qt,(function(t,e){var n=e.id;t.comments=t.comments.map((function(t){return n===t.id?Vs(Vs({},t),{},{author:"",content:"Комментарий был удалён",avatar:null,videos:[],files:[],deleted:!0}):t})),t.newCommentsList=t.newCommentsList.filter((function(t){return n!==t.id}))})),zs(Bs,Jt,(function(t,e){var n=e.sortType;t.sortType=n})),zs(Bs,Xt,(function(t,e){var n=e.value;t.newCommentValue=n})),zs(Bs,Qt,(function(t,e){var video=e.video;t.newCommentVideo=video})),zs(Bs,te,(function(t,e){var n=e.attachment;t.newCommentAttachment=n})),zs(Bs,ee,(function(t,e){var n=e.preview;t.newCommentAttachmentPreview=n})),zs(Bs,ne,(function(t){t.newCommentValue="",t.newCommentAttachment=null,t.newCommentAttachmentPreview=null,t.newCommentVideo=null})),zs(Bs,oe,(function(t,e){var n=e.value;t.replyCommentValue=n})),zs(Bs,re,(function(t,e){var video=e.video;t.replyCommentVideo=video})),zs(Bs,ie,(function(t,e){var n=e.attachment;t.replyCommentAttachment=n})),zs(Bs,ae,(function(t,e){var n=e.preview;t.replyCommentAttachmentPreview=n})),zs(Bs,se,(function(t){t.replyCommentValue="",t.replyCommentAttachment=null,t.replyCommentAttachmentPreview=null,t.replyCommentVideo=null})),zs(Bs,ce,(function(t,e){var n=e.type;t.activeInputAreaType=n})),zs(Bs,wt,(function(t,e){var n=e.commentId;t.comments=t.comments.map((function(t){return t.id===n?Vs(Vs({},t),{},{files:[]}):t}))})),zs(Bs,xt,(function(t,e){var n=e.commentId;t.comments=t.comments.map((function(t){return t.id===n?Vs(Vs({},t),{},{videos:[]}):t}))})),zs(Bs,Mt,(function(t){t.newCommentsList=[]})),zs(Bs,ue,(function(t,data){t.delayedAction=data})),zs(Bs,le,(function(t){t.delayedAction=null})),zs(Bs,me,(function(t){t.userData.banned=!0})),zs(Bs,he,(function(t,e){t.postTitle=e})),zs(Bs,pe,(function(t,text){var e={text:text,id:(new Date).getTime()};t.notificationList.push(e)})),zs(Bs,de,(function(t,e){t.notificationList=t.notificationList.filter((function(t){return t.id!==e}))})),zs(Bs,fe,(function(t,e){t.actionSheet.show=!0,t.actionSheet.commentId=e})),zs(Bs,ge,(function(t){t.actionSheet.show=!1,t.actionSheet.commentId=0})),Bs),actions:(Fs(Ms={},vt,(function(t,e){var n=t.state,o=t.dispatch,r=e.sortType,c=void 0===r?n.sortType:r;return n.fetching?null:(o(jt),k.a.prototype.$api.fetchComments(n.postId,c).then((function(t){if(t.data.success){var e=t.data.data,n=e.current_page,r=e.last_page,data=e.data,c=e.total,l=document.querySelectorAll(ft);l&&l.length>0&&l.forEach((function(t){return t.textContent=c})),r===n&&o(Bt);var m=data.filter((function(t){return 1===t.audit_status_id}));o(Nt,{newComments:m}),o(Rt),o($t)}})).finally((function(){o(Vt,{initialized:!0}),o(Dt)})))})),Fs(Ms,bt,(function(t,e){var n=t.state,o=t.dispatch,r=t.commit,c=e.parent,content=e.content,image=e.image,video=e.video;return new Promise((function(t,e){o(jt);var l=c||0,m={content:content,post_ID:n.postId,parent:l};k.a.prototype.$api.sendComment(m).then((function(t){var e=t.status,data=t.data;if("Quota exceeded"===data.message)throw r(pe,"Пожалуйста, пишите не более ".concat(data.data.maxCount," комментариев в минуту.")),Error("Quota exceeded");var l=data,d=0;if(o(Yt,{lastCommentId:l.data.id}),0===c){var h,f=l.data;f.level=0,f.users_liked=[],f.users_disliked=[],h="top"===n.activeInputAreaType?[f].concat(Ks(n.comments)):[].concat(Ks(n.comments),[f]),o(Nt,{newComments:h})}else{var v=0,C=null;n.comments.forEach((function(t,e){+t.id==+c&&(v=e,C=t)}));var y=l.data;y.level=C.level+1,y.users_liked=[],y.users_disliked=[],d=v+1;var w=[].concat(Ks(n.comments.slice(0,d)),[y],Ks(n.comments.slice(d)));o(Nt,{newComments:w})}return e>=500&&function(t){try{var data=ye(ye({},t),{},{buildVersion:1});data=JSON.stringify(data);var e=new FormData;e.append("action","telegram_bot_alerts"),e.append("source","Talker website"),e.append("message",data),e.append("level","release"),be.a.post("/wp-admin/admin-ajax.php",e)}catch(t){return!1}}(Hs(Hs({},m),{},{integerId:n.userData.integerId,respStatus:e})),xe("Ответить"),{comment:l.data,index:d}})).then((function(e){var n=e.comment,r=e.index,c=n.id;image&&o(_t,{commentId:c,image:image}).then((function(t){o(Et,{index:r,newFile:t})})),video&&o(Tt,{commentId:c,video:video}).then((function(t){o(Lt,{index:r,newVideo:t})})),t()})).catch((function(t){Le(t,o),e(t)})).finally((function(){o(Dt)}))}))})),Fs(Ms,Ct,(function(t,e){var n=t.state,o=t.dispatch,r=t.commit,c=e.commentId;k.a.prototype.$api.deleteComment(c).then((function(t){if(200===t.status&&t.data.success){var e=n.comments.map((function(t){return t.id!==c?t:Hs(Hs({},t),{},{author:"",content:"Комментарий был удалён",avatar:null,videos:[],files:[],deleted:!0})}));o(Nt,{newComments:e}),r(ge),xe("Удалить")}})).catch((function(t){Le(t,o)}))})),Fs(Ms,yt,(function(t,e){var n=t.state,o=t.dispatch,data={id:e.commentId,content:e.newContent};return new Promise((function(t,e){k.a.prototype.$api.editComment(data).then((function(e){if(200===e.status&&e.data.success){var r=e.data.data,c=n.comments.map((function(t){return t.id===r.id?(r.level=t.level,r.users_liked=t.users_liked,r.users_disliked=t.users_disliked,r):t}));o(Nt,{newComments:c}),t()}})).catch((function(t){Le(t,o),e()}))}))})),Fs(Ms,kt,(function(t,e){var n=t.state,o=t.dispatch,r=e.commentId,c=e.newState;return new Promise((function(t,e){var data={comment_id:r,state:c};k.a.prototype.$api.setRelationToComment(data).then((function(e){if(e.data.success){var r=e.data.data.comment,c=n.comments.map((function(t){return t.id===r.id?(r.level=t.level,r):t}));o(Nt,{newComments:c}),t()}})).catch((function(t){Le(t,o),e()}))}))})),Fs(Ms,Ot,(function(t,e){var n=t.state,o=t.dispatch,r=e.commentId;o(zt);var data={id:r};k.a.prototype.$api.reportComment(data).then((function(){var t=n.comments.map((function(t){return t.id===r&&(t.flagged=!0),t}));o(Nt,{newComments:t})})).then((function(){o(Ut)})).catch((function(t){Le(t,o)}))})),Fs(Ms,_t,(function(t,e){var n=t.state,o=t.dispatch,image=e.image,r=e.commentId;return new Promise((function(t,e){var c=new FormData;c.append("image",image),c.append("comment_id",r),c.append("post_id",n.postId),o(zt),k.a.prototype.$api.storeFile(c).then((function(e){e.data.success&&t(e.data.data)})).then((function(){o(Ut)})).catch((function(t){Le(t,o),e(t)}))}))})),Fs(Ms,"TALKER_FETCH_POST_TITLE",(function(t){var e=t.state,n=t.commit;k.a.prototype.$api.fetchPostTitle(String(e.postId)).then((function(t){var e,o;n(he,null==t||null===(e=t.data)||void 0===e||null===(o=e.data[0])||void 0===o?void 0:o.post_title)}))})),Fs(Ms,Tt,(function(t,e){var n=t.state,o=t.dispatch,video=e.video,r=e.commentId;return new Promise((function(t,e){o(zt);var data={comment_id:r,post_id:n.postId,embed:video.embed,embed_url:video.embed_url,thumb:video.thumb,type:video.type};k.a.prototype.$api.storeVideo(data).then((function(e){e.data.success&&t(e.data.data)})).then((function(){o(Ut)})).catch((function(t){Le(t,o),e(t)}))}))})),Fs(Ms,Et,(function(t,e){(0,t.commit)(Et,e)})),Fs(Ms,Lt,(function(t,e){(0,t.commit)(Lt,e)})),Fs(Ms,At,(function(t,e){(0,t.commit)(At,e)})),Fs(Ms,Pt,(function(t){(0,t.commit)(Pt)})),Fs(Ms,It,(function(t,e){(0,t.commit)(It,e)})),Fs(Ms,St,(function(t){(0,t.commit)(St)})),Fs(Ms,jt,(function(t){(0,t.commit)(jt)})),Fs(Ms,Dt,(function(t){(0,t.commit)(Dt)})),Fs(Ms,Bt,(function(t){(0,t.commit)(Bt)})),Fs(Ms,Nt,(function(t,e){(0,t.commit)(Nt,e)})),Fs(Ms,Rt,(function(t){(0,t.commit)(Rt)})),Fs(Ms,$t,(function(t){(0,t.commit)($t)})),Fs(Ms,Vt,(function(t,e){(0,t.commit)(Vt,e)})),Fs(Ms,zt,(function(t){(0,t.commit)(zt)})),Fs(Ms,Ut,(function(t){(0,t.commit)(Ut)})),Fs(Ms,Ht,(function(t,e){var n=t.commit,o=e.commentId;n(Ht,{commentId:o}),o&&n(ce,{type:null})})),Fs(Ms,Ft,(function(t,e){(0,t.commit)(Ft,e)})),Fs(Ms,Kt,(function(t,e){var n=t.commit,o=t.state;n(Kt,e),o.isRenderAllComments||n(Gt)})),Fs(Ms,Wt,(function(t,e){(0,t.commit)(Wt,e)})),Fs(Ms,Yt,(function(t,e){(0,t.commit)(Yt,e)})),Fs(Ms,Zt,(function(t,e){(0,t.commit)(Zt,e)})),Fs(Ms,qt,(function(t,e){(0,t.commit)(qt,e)})),Fs(Ms,Jt,(function(t,e){var n=t.commit,o=t.state,r=e.sortType;o.sortType!==r&&("trending"!==r&&"oldest"!==r&&(r="trending"),n(Jt,{sortType:r}),localStorage.setItem("lhTalkerSortType",r))})),Fs(Ms,Xt,(function(t,e){(0,t.commit)(Xt,e)})),Fs(Ms,Qt,(function(t,e){(0,t.commit)(Qt,e)})),Fs(Ms,te,(function(t,e){(0,t.commit)(te,e)})),Fs(Ms,ee,(function(t,e){(0,t.commit)(ee,e)})),Fs(Ms,ne,(function(t){(0,t.commit)(ne)})),Fs(Ms,oe,(function(t,e){(0,t.commit)(oe,e)})),Fs(Ms,re,(function(t,e){(0,t.commit)(re,e)})),Fs(Ms,ie,(function(t,e){(0,t.commit)(ie,e)})),Fs(Ms,ae,(function(t,e){(0,t.commit)(ae,e)})),Fs(Ms,se,(function(t){(0,t.commit)(se)})),Fs(Ms,ce,(function(t,e){var n=t.commit,o=e.type;n(ce,{type:o}),o&&n(Ht,{commentId:null})})),Fs(Ms,gt,(function(t,e){(0,t.commit)(gt,e)})),Fs(Ms,wt,(function(t,e){var n=t.commit,o=e.attachmentId,r=e.commentId;k.a.prototype.$api.removeAttachment(o).then((function(t){t.data.delete&&n(wt,{commentId:r})}))})),Fs(Ms,xt,(function(t,e){var n=t.commit,o=e.videoId,r=e.commentId;k.a.prototype.$api.removeVideo(o).then((function(t){t.data.success&&n(xt,{commentId:r})}))})),Fs(Ms,Mt,(function(t){(0,t.commit)(Mt)})),Fs(Ms,ue,(function(t,e){(0,t.commit)(ue,e)})),Fs(Ms,le,(function(t){(0,t.commit)(le)})),Fs(Ms,me,(function(t){(0,t.commit)(me)})),Ms)};var Ws={createTalker:function(t){k.a.use(_.a);var e=new _.a.Store({modules:{talker:qs}});return new k.a({store:e,render:function(e){return e(Rs,{props:t})}})},TalkerPlugin:{installed:!1,install:function(t,e){var n=e.store,o=e.name;if(!this.installed){var r=o||"TheTalker";t.component(r,Rs),n.registerModule("talker",qs,{preserveState:!1}),this.installed=!0}}}};e.default=Ws},fe60:function(t,e){t.exports=n(1404)}}).default}}]);