(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{100:function(t,e,n){"use strict";n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return O})),n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return w})),n.d(e,"f",(function(){return k}));n(22),n(16);var r=n(4),c=n(0),o=n(5),f=n(21),l=n(6),d=n(9),v=n(114),h=!1;function m(t,e){e.$modal.showModal(v.a,{name:"LoginModal",container:"windows",transition:"modal-fade",disableScroll:!0},{loginCallback:t.bind(e)})}function O(t,e,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};if(!h){h=!0;var l=n.$store.getters[c.H](e.id);return n.$authApi.removeArticleFromFavorites(t.id,Object(r.h)(),Object(r.f)()).then((function(t){if(t.data.success){n.$store.commit(c.hb,{postId:e.id}),o&&S(e.url,n.$route.name);var title=e?" <b>".concat(l||e.title,"</b> "):" ",r=Object(d.a)(n.$route.name)||"recipe"===e.type?"Рецепт".concat(title,"удален из избранного"):"Статья".concat(title,"удалена из избранного");return n.$pushBadge({content:r})}})).then((function(){return n.$store.dispatch(c.Q)})).then((function(){f()})).finally((function(){h=!1}))}}function j(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!h){h=!0;var f=n.$store.getters[c.H](e.id);return n.$authApi.addArticleToFavorites(e.id,t.id,Object(r.h)(),Object(r.f)()).then((function(r){if(r.data.success){var data=r.data.data;n.$store.commit(c.f,{favorite:data}),o||P(e.url,t,n.$route.name);var title=e?" <b>".concat(f||e.title,"</b> "):" ",l=Object(d.a)(n.$route.name)||"recipe"===e.type?"Рецепт".concat(title,"добавлен в папку <b>").concat(t.name,"</b>"):"Статья".concat(title,"добавлена в папку <b>").concat(t.name,"</b>");return n.$pushBadge({content:l,clickHandler:function(){var t=n.$store.state.user.integer_id,e=n.$router;t&&e.push("/profile/user/".concat(t,"/favorites"))}})}})).then((function(){return n.$store.dispatch(c.Q)})).finally((function(){h=!1}))}}function y(t,e,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(!h)return h=!0,n.$authApi.addFolder(t,Object(r.h)(),Object(r.f)()).then((function(t){if(t.data.success){var r=t.data.data;h=!1,A(e.url,n.$route.name),j(r,e,n,!0).then((function(){c()}))}}))}function w(t,e,n,c){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};if(!h)return h=!0,c.$authApi.addFolder(t,Object(r.h)(),Object(r.f)()).then((function(t){if(t.data.success){var r=t.data.data;h=!1,k(e,r,n,c).then((function(){o()}))}}))}function k(t,e,n,o){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};if(!h){h=!0;var l=o.$store.getters[c.H](n.id);return o.$authApi.patchFavorite(t.id,e.id,Object(r.h)(),Object(r.f)()).then((function(t){if(t.data.success){var r=t.data.data;f(),o.$store.commit(c.hb,{postId:r.post_id}),o.$store.commit(c.f,{favorite:r}),R();var title=n?" <b>".concat(l||n.title,"</b> "):" ",v=Object(d.a)(o.$route.name)||"recipe"===n.type?"Рецепт".concat(title,"перемещен в папку <b>").concat(e.name,"</b>"):"Статья".concat(title,"перемещена в папку <b>").concat(e.name,"</b>");return o.$pushBadge({content:v,clickHandler:function(){var t=o.$store.state.user.integer_id,e=o.$router;t&&e.push("/profile/user/".concat(t,"/favorites"))}})}})).then((function(){return o.$store.dispatch(c.Q)})).finally((function(){h=!1}))}}var P=function(t,e,n){var r=function(t){var e={home:"Добавление избранного на главной",archive:"Добавление избранного из архива",article:"Добавление избранного из поста","public-profile":"Добавление избранного с публичного профиля","the-recipe":"Добавление избранного из рецепта",taxonomy:"Добавление избранного из таксономии"};return Object.prototype.hasOwnProperty.call(e,t)?e[t]:"Добавление избранного со страницы ".concat(D(n))}(I(n));Object(o.a)("Избранное",r,Object(f.a)(t)),Object(o.a)("Избранное","Добавление избранного в ".concat(e.id?"кастомную":"общую"," папку"),D(n))},S=function(t,e){var n=function(t){var n={home:"Удаление избранного на главной",archive:"Удаление избранного из архива",article:"Удаление избранного из поста","public-profile":"Удаление избранного с публичного профиля",taxonomy:"Удаление избранного из таксономии","the-recipe":"Удаление избранного из рецепта"};return Object.prototype.hasOwnProperty.call(n,t)?n[t]:"Удаление избранного со страницы ".concat(D(e))}(I(e));Object(o.a)("Избранное",n,Object(f.a)(t))},A=function(t,e){var n=function(t){var n={home:"Добавление избранного на главной",archive:"Добавление избранного из архива",article:"Добавление избранного из поста","public-profile":"Добавление избранного с публичного профиля","the-recipe":"Добавление избранного из рецепта",taxonomy:"Добавление избранного из таксономии"};return Object.prototype.hasOwnProperty.call(n,t)?n[t]:"Добавление избранного со страницы ".concat(D(e))}(I(e));Object(o.a)("Избранное",n,Object(f.a)(t)),Object(o.a)("Избранное","Добавление избранного в новую папку",D(e))},R=function(){Object(o.a)("Избранное","Перемещение избранного в другую папку")},D=function(t){return Object(d.e)(t)?l.b.home:Object(d.n)(t)?l.b.top:Object(d.c)(t)?l.b.archive:Object(d.d)(t)?l.b.article:Object(d.h)(t)?l.b.publicProfile:Object(d.k)(t)?l.b.home:Object(d.m)(t)?l.b.recipe:Object(d.l)(t)?l.b.taxonomy:""},I=function(t){return Object(d.e)(t)||Object(d.k)(t)?"home":Object(d.n)(t)?"top":Object(d.c)(t)?"archive":Object(d.d)(t)?"article":Object(d.h)(t)?"public-profile":Object(d.m)(t)?"the-recipe":Object(d.l)(t)?"taxonomy":""}},116:function(t,e,n){"use strict";function r(){return"undefined"!=typeof window&&"Notification"in window}n.d(e,"a",(function(){return r}))},131:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l}));var r=n(12);n(45),n(23),n(14);function c(t){var i,e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,c=[];for(i=0,e=t.length;i<e;i+=r)n=t.slice(i,i+r),c.push(n);return c}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=c(t,n),l=c(e,r);return f.map((function(t,e){var n=[];return l[e]&&!o&&(n=l[e]),{first:t,second:n}}))}function f(t,e){return t.filter((function(t,n,r){return r.map((function(t){return t[e]})).indexOf(t[e])===n}))}function l(t){for(var e=Object(r.a)(t),i=e.length-1;i>0;i--){var n=Math.floor(Math.random()*(i+1)),c=[e[n],e[i]];e[i]=c[0],e[n]=c[1]}return e}},150:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return w})),n.d(e,"state",(function(){return k})),n.d(e,"getters",(function(){return P})),n.d(e,"checkAccessTokenAndDoAction",(function(){return S})),n.d(e,"actions",(function(){return A})),n.d(e,"mutations",(function(){return R}));n(18),n(14),n(19),n(20);var r,c,o,f=n(11),l=n(2),d=(n(31),n(41),n(23),n(17),n(1)),v=n(0),h=n(4),m=n(5),O=n(114);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w=!1,k=function(){return{byId:{},observers:[]}},P=(r={},Object(l.a)(r,v.S,(function(t){return function(e){var n;return null!==(n=t.observers.find((function(t){return t.id===e})))&&void 0!==n?n:null}})),Object(l.a)(r,v.R,(function(t){return function(e){var n,r;return null!==(n=null===(r=t.byId[e])||void 0===r?void 0:r.like_count)&&void 0!==n?n:0}})),Object(l.a)(r,v.P,(function(t){return function(e){var n,r;return null!==(n=null===(r=t.byId[e])||void 0===r?void 0:r.dislike_count)&&void 0!==n?n:0}})),Object(l.a)(r,v.U,(function(t){return function(e){var n;return null===(n=t.byId[e])||void 0===n?void 0:n.user_state}})),Object(l.a)(r,v.T,(function(t){return function(e){return[{icon:"heart",type:"heart",title:"сердечко"},{icon:"thumbs_up",type:"thumbs_up",title:"палец вверх"},{icon:"on_fire",type:"on_fire",title:"огонь"},{icon:"thumbs_down",type:"thumbs_down",title:"палец вниз"},{icon:"angry",type:"angry",title:"сердитый смайлик"}].map((function(n){var r=t.byId[e]&&t.byId[e]["".concat(n.type,"_count")]||0;return y(y({},n),{},{count:r})}))}})),r),S=function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(h.f)()){t.next=6;break}return t.next=3,n();case 3:return t.abrupt("return",t.sent);case 6:e.$modal.showModal(O.a,{container:"windows",transition:"modal-fade",name:"LoginModal",disableScroll:!0},{loginCallback:n});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),A=(c={},Object(l.a)(c,v.C,(function(t,e){var n=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var c,o,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=t.commit,r.prev=1,r.next=4,n.$reactionsApi.fetchReactions(e);case 4:(o=r.sent).data.success?(f=o.data.data,c(v.cc,f)):n.$sentry.captureException(o),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),n.$sentry.captureException(r.t0);case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()})),Object(l.a)(c,v.bc,(function(t,e){var n=this,r=t.commit;return function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(){var c,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$reactionsApi.updateReaction(e.id,e.user_state);case 3:(c=t.sent).data.success?(o=c.data.data,r(v.cc,[o])):n.$sentry.captureException(c),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.$sentry.captureException(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()})),Object(l.a)(c,v.Xb,(function(t,e){var n=this,r=t.commit;return function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(){var c,o,f,l,d,label;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$reactionsApi.updateLike(e.id);case 3:(c=t.sent).data.success?(o=c.data.data,r(v.cc,[o]),e.analyticsData&&(f=e.analyticsData,l=f.category,d=f.action,label=f.label,Object(m.a)(l,d,label))):n.$sentry.captureException(c),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.$sentry.captureException(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()})),Object(l.a)(c,v.Rb,(function(t,e){var n=this,r=t.commit;return function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(){var c,o,f,l,d,label;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.$reactionsApi.updateDislike(e.id);case 3:(c=t.sent).data.success?(o=c.data.data,r(v.cc,[o]),e.analyticsData&&(f=e.analyticsData,l=f.category,d=f.action,label=f.label,Object(m.a)(l,d,label))):n.$sentry.captureException(c),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.$sentry.captureException(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()})),Object(l.a)(c,v.jb,(function(t){return Object(f.a)(regeneratorRuntime.mark((function e(){var n,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,r=t.state,!(c=Object.keys(r.byId).map((function(t){return+t}))).length){e.next=5;break}return e.next=5,n(v.C,c);case 5:case"end":return e.stop()}}),e)})))()})),Object(l.a)(c,v.t,(function(t,e){(0,t.commit)(v.i,e)})),Object(l.a)(c,v.x,(function(t){t.state.observers.forEach((function(t){var e;null===(e=t.intersectionObserver)||void 0===e||e.disconnect()}))})),c),R=(o={},Object(l.a)(o,v.cc,(function(t,e){e.forEach((function(e){d.default.set(t.byId,e.post_id,e)}))})),Object(l.a)(o,v.i,(function(t,e){t.observers.push(e)})),Object(l.a)(o,v.qb,(function(t,e){var n=t.observers.find((function(t){return t.id===e.id}));n&&(n.isShowHeartbeat=e.value)})),Object(l.a)(o,v.pb,(function(t,e){var n=t.observers.find((function(t){return t.id===e.id}));n&&(n.isBeforeLicked=e.value)})),o)},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(178);var r=n(385),c=n.n(r);function o(t){var e=new c.a(t).pathname;return e.match(/[^/]$/g)?e+"/":e}},210:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return O}));n(17),n(18),n(14),n(19),n(20);var r=n(2),c=n(11),o=(n(31),n(13));function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function d(t,e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(regeneratorRuntime.mark((function t(e,content){var n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.addEventListener(null===(n=window.SPRTS)||void 0===n?void 0:n.senderEventName,(function(){h(content)})),r="development"===o.n,c=l({domain:"lifehacker.ru",partner:"lifehacker.ru",isDev:r},e&&{uidAuth:e}),!window.SPRTS){t.next=6;break}return t.next=6,window.SPRTS.initRecommender(c);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(content){window.SPRTS&&window.SPRTS.sendDataForRecommender&&window.SPRTS.sendDataForRecommender({content:content})}function m(){var t="desktop_underpost",e="tablet_underpost",n="mobile_underpost";return window.innerWidth<=768?n:window.innerWidth>768&&window.innerWidth<=1024?e:t}function O(){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=m(),t.next=3,window.SPRTS.getPersonalRecs({config:e});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},211:function(t,e,n){"use strict";n.r(e);var r,c=n(2),o=n(120),f=n(121),l=(r={},Object(c.a)(r,o.b,(function(t,e){t.commit(f.b,e)})),Object(c.a)(r,o.a,(function(t,e){t.commit(f.a,e)})),r);e.default=l},212:function(t,e,n){"use strict";n.r(e);var r,c=n(2),o=(n(16),n(121)),f=(r={},Object(c.a)(r,o.b,(function(t,e){t.actions[e.name]=e.action})),Object(c.a)(r,o.a,(function(t,e){e in t.actions&&delete t.actions[e]})),r);e.default=f},213:function(t,e,n){"use strict";n.r(e);e.default=function(){return{actions:{}}}},214:function(t,e,n){"use strict";n.r(e);e.default={delayedActions:function(t){return t.actions}}},218:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return f}));var r=n(167),c=n.n(r);function o(t){return c()(t,"минуту","минуты","минут")}function f(t){return c()(t,"час","часа","часов")}},219:function(t,e,n){"use strict";var r=n(27),c=n(37),o=n(209),f=function(){function t(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;Object(r.a)(this,t),this.percentage=0,this.ro=null,this.calcBind=this.calc.bind(this),this.element=element,this.init()}return Object(c.a)(t,[{key:"init",value:function(){var t=this;window.addEventListener("resize",this.calcBind),window.addEventListener("scroll",this.calcBind),this.ro=new o.default((function(){return t.calc()})),this.ro.observe(this.element)}},{key:"destroy",value:function(){var t;window.removeEventListener("resize",this.calcBind),window.removeEventListener("scroll",this.calcBind),null===(t=this.ro)||void 0===t||t.unobserve(this.element),this.percentage=0,this.ro=null}},{key:"calc",value:function(){if(document.body!==this.element){var t=this.element.getBoundingClientRect(),e=this.element.offsetHeight,n=t.top+pageYOffset,r=n+e;this.calcWindowScroll()<n?this.percentage=0:this.calcWindowScroll()>r?this.percentage=100:this.percentage=Math.round((this.calcWindowScroll()-n)/e*100)}else this.percentage=Math.round(this.calcWindowScroll()/this.calcDocumentBodyHeight()*100)}},{key:"calcDocumentBodyHeight",value:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}},{key:"calcWindowScroll",value:function(){return scrollY+document.documentElement.clientHeight}},{key:"viewed",get:function(){return this.percentage},set:function(t){this.percentage=t}}]),t}();e.a=f},221:function(t,e,n){"use strict";n(199);var r=n(4);e.a=function(t){var e=t.app.router;e&&e.beforeEach((function(t,e,n){return t.path.endsWith("/")?n():n({path:Object(r.E)(decodeURIComponent(t.path)),query:t.query})}))}},222:function(t,e,n){"use strict";var r=n(403);e.a=function(t){var e=t.app,n=e.store,c=e.router;Object(r.sync)(n,c)}},223:function(t,e,n){"use strict";n(16);var r=n(0);e.a=function(t){var e=t.store.commit,n=t.app.router;n&&n.afterEach((function(t,n){"ext-search"===t.name&&"ext-search"!==n.name&&null!==n.name&&e(r.xb,{from:n})}))}},224:function(t,e,n){"use strict";var r=n(27),c=n(37),o=(n(32),function(){function t(){Object(r.a)(this,t)}return Object(c.a)(t,[{key:"isHomeLink",value:function(link){return 0===link.indexOf("https://lifehacker.ru")}},{key:"getRelativeLink",value:function(link){return link.replace("https://lifehacker.ru","")}},{key:"getActivePage",value:function(t){if(void 0!==t.query.page){var e=Array.isArray(t.query.page)?t.query.page[0]:t.query.page;if(null!==e)return parseInt(e)}return 1}}]),t}());e.a=function(t,e){e("utils",new o)}},225:function(t,e,n){"use strict";n(16);var r=n(9);e.a=function(t){var e=t.app.router;e&&e.beforeEach((function(t,e,n){return e.name?Object(r.a)(e.name)===Object(r.a)(t.name)?n():(sessionStorage.setItem("routeBeforeSearch",e.path),window.open(t.fullPath,"_self")):n()}))}},226:function(t,e,n){"use strict";var r=n(12),c=n(11),o=(n(31),n(16),n(14),n(0)),f=n(157),l=n(97),d=n(9),v=function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e,n,c){var v,h,data,m,O,j,y,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=[],!Object(d.a)(c.name)){t.next=16;break}return t.prev=2,t.next=5,n.fetchRecipeScripts();case 5:h=t.sent,data=h.data,200===h.status&&(v=data.filter((function(t){return"parsed-html"===t.type}))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error(t.t0);case 14:t.next=28;break;case 16:return t.prev=16,t.next=19,n.fetchHeadScriptsFromServer(c.path);case 19:m=t.sent,O=m.data,200===m.status&&(j=O.widgets,v=j.filter((function(t){return"parsed-html"===t.type}))),t.next=28;break;case 25:t.prev=25,t.t1=t.catch(16),console.error(t.t1);case 28:v.length?(y=[],w=[],v.forEach((function(t){var data=t.data,e=Object(l.a)(data),n=e.inlineScripts,c=e.scripts;y.push.apply(y,Object(r.a)(n)),w.push.apply(w,Object(r.a)(c))})),new f.a(w,y,(function(){return e(o.Wb,{isHeadScriptsLoaded:!0})})).addScripts()):e(o.Wb,{isHeadScriptsLoaded:!0});case 29:case"end":return t.stop()}}),t,null,[[2,11],[16,25]])})));return function(e,n,r){return t.apply(this,arguments)}}();e.a=function(t){var e=t.store.commit,n=t.app.$wordpressApi,r=t.route;window.onNuxtReady((function(){return v(e,n,r)}))}},227:function(t,e,n){"use strict";var r=n(11),c=(n(31),n(24)),o=n.n(c),f=n(99),l=n(0),d=n(91),v=n(5),h=n(4);e.a=function(t){var e=t.store,n=t.route,c=t.redirect,m=t.query;function O(t){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(regeneratorRuntime.mark((function t(r){var f,d,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=Object(h.c)(r),d=e.getters["delayed-actions/delayedActions"],t.next=4,e.dispatch(l.E,{accessToken:r,integerId:f}).catch((function(t){if(403===t.response.status&&(["lifehacker.ru",".".concat("lifehacker.ru"),"localhost"].forEach((function(t){o.a.remove("accessToken",{path:"/",domain:t})})),e.dispatch(l.r),e.commit(l.s),e.commit(l.p),Object(h.u)(n)))return c({path:"/",query:m})}));case 4:return v=t.sent,d.loginAction&&d.loginAction(),t.abrupt("return",v);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}window.onNuxtReady((function(){var t=Object(h.f)(),n=Object(h.c)(t);t&&n&&O(t).then((function(){Object(f.connectPrivateChannel)(e,d.a),Object(f.fetchUnviewedNotificationsCount)(e,d.a)})),window.addEventListener("message",(function(t){!function(t){if("string"==typeof t.data)try{var data=JSON.parse(t.data),n=data.accessToken,r=data.accessTokenSocialNetwork;"localhost"===window.location.hostname&&n&&o.a.set("accessToken",n);var c=e.state.user,l=Object(h.c)(n);if(!n||!l)return;O(n).then((function(){c?Object(v.a)("Личный кабинет","Настройки","Способ авторизации добавить_".concat(r)):(Object(f.connectPrivateChannel)(e,d.a),Object(f.fetchUnviewedNotificationsCount)(e,d.a),Object(v.a)("Личный кабинет","Авторизация",r))}))}catch(t){}}(t)}),!1)}))}},228:function(t,e,n){"use strict";n(16);var r=n(0),c=n(9);e.a=function(t){var e=t.store.commit,n=t.app.router;window.onNuxtReady((function(){return function(t,e){e&&e.afterEach((function(e){t(r.Z),Object(c.e)(e.name)||t(r.cb)}))}(e,n)}))}},229:function(t,e,n){"use strict";function r(){var t=document.documentElement.clientWidth/100;document.documentElement.style.setProperty("--vw","".concat(t,"px"))}var c=function(){r(),window.addEventListener("resize",r)};e.a=function(){window.onNuxtReady(c)}},230:function(t,e,n){"use strict";var r=n(12),c=(n(17),n(208),n(50),n(22),n(46),n(14),n(41),n(0)),o=n(4),f=function(t){return Boolean("taxonomy-posts"===t.type&&(null==t?void 0:t.items)&&t.items.length<3)},l=function(t){return Boolean("posts-collection"===t.type&&Boolean(null==t?void 0:t.items))},d=function(t,e){var n=[];return Object.keys(t).forEach((function(c){t[c].forEach((function(t){if(e(t)){var c,o=null==t||null===(c=t.items)||void 0===c?void 0:c.reduce((function(t,article){return[].concat(Object(r.a)(t),[article.id])}),[]);n.push.apply(n,Object(r.a)(o))}}))})),n},v=function(t,e){return e?[e.id]:t.reduce((function(t,e){return[].concat(Object(r.a)(t),[e.id])}),[])},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.state,f=t.getters,l=t.dispatch,d=v(f.currentArticles,f.currentArticle),h=Object(r.a)(new Set([].concat(Object(r.a)(d),Object(r.a)(e))));(h=h.filter((function(t){return!Object(o.s)(n.articles.commentsCount[String(t)])}))).length&&(l(c.y,h),l(c.C,h),n.isAuthenticatedInWordpress&&l(c.F,h))},m=function(t){var e=t.state,n=t.getters,o=t.dispatch,h=v(n.currentArticles,n.currentArticle),m=d(t.state.widgets,f),O=d(t.state.widgets,l),j=Object(r.a)(new Set([].concat(Object(r.a)(h),Object(r.a)(m),Object(r.a)(O))));(j=j.filter((function(t){return!Boolean(e.articles.userRelated.favorites.find((function(e){return e.post_id===t})))}))).length&&o(c.I,{params:{post_ids:j.join()}})},O=function(t){var e=d(t.state.widgets,f),n=d(t.state.widgets,l);h(t,[].concat(Object(r.a)(e),Object(r.a)(n))),t.watch((function(t){return t.route.fullPath}),(function(){h(t),m(t)})),t.subscribe((function(e){e.type===c.Ob&&(h(t),m(t)),e.type===c.ic&&(m(t),function(t){var e=t.state;(0,t.dispatch)(c.Q).then((function(){e.jobs.length&&(e.jobs.forEach((function(t){return t.handler()})),t.commit(c.o))}))}(t))}))};e.a=function(t){var e=t.store;window.onNuxtReady((function(){return O(e)}))}},231:function(t,e,n){"use strict";var r=n(11),c=(n(16),n(31),n(1)),o=n(9);e.a=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var f,l,d,v,h,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=e.store,l=e.route,d=e.app.router,v=!1,h=function(t){return Object(o.d)(t)||Object(o.f)(t)||Object(o.m)(t)},m=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,r){var o,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h(e)||v){t.next=7;break}return t.next=3,Promise.all([n.e(41),n.e(42)]).then(n.t.bind(null,767,7));case 3:o=t.sent,f=o.TalkerPlugin,c.default.use(f,{store:r,name:"TheTalker"}),v=!0;case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=6,m(l.name,f);case 6:d&&d.beforeEach(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e.name,f);case 2:r();case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},232:function(t,e,n){"use strict";n(16),n(41),n(33),n(25),n(14);var r=n(35);e.a=function(t){var e=t.app.router;e&&e.afterEach((function(){return function(t){var e,n=t.route,c=t.store.getters;if("single"===n.name){var o,f,l,d,v,h,m,O,j,y,w,k=c.isTemplateCard,article=c.currentArticle;if(!article)return;var P=article.categories,S=article.author.name,A=article.date,R=article.isAdvertising,D=article.isPromo,I=article.tags,x=Object(r.d)(new Date(1e3*article.meta.lh_first_published_time));null===(o=window.dataLayer)||void 0===o||o.push({author:S}),null===(f=window.dataLayer)||void 0===f||f.push({lh_first_published_time:x});var _=P.find((function(t){return t.url.includes("topics/")})),E=null!==(l=null==_?void 0:_.title)&&void 0!==l?l:null;null===(d=window.dataLayer)||void 0===d||d.push({category:E});var C=P.find((function(t){return t.url.includes("stream/")})),T=null!==(v=null==C?void 0:C.title)&&void 0!==v?v:null;null===(h=window.dataLayer)||void 0===h||h.push({stream:T});var L=["noad","nozen","hide","noturbo","noadsense"],$=null!==(m=null===(O=I.filter((function(t){return!L.includes(t.title)}))[0])||void 0===O?void 0:O.title)&&void 0!==m?m:null;null===(j=window.dataLayer)||void 0===j||j.push({tag:$});var z=R||D?"Партнёрский материал":null;window.dataLayer.push({partner:z});var H=Object(r.d)(new Date(1e3*A));null===(y=window.dataLayer)||void 0===y||y.push({"published time":H});var F=k?"Карточки":null;null===(w=window.dataLayer)||void 0===w||w.push({cards:F})}var title=c.currentSeo.title;null===(e=window.dataLayer)||void 0===e||e.push({page_title:title})}(t)}))}},233:function(t,e,n){"use strict";n(16),n(41),n(33),n(25),n(14);var r=n(35);var c=new Function("\n;(function (i, s, o, g, r, a, m) {\n    i['GoogleAnalyticsObject'] = r\n    ;(i[r] =\n      i[r] ||\n      function () {\n        ;(i[r].q = i[r].q || []).push(arguments)\n      }),\n      (i[r].l = 1 * new Date())\n    ;(a = s.createElement(o)), (m = s.getElementsByTagName(o)[0])\n    a.async = 1\n    a.src = g\n    m.parentNode.insertBefore(a, m)\n  })(\n    window,\n    document,\n    'script',\n    'https://www.google-analytics.com/analytics.js',\n    'ga'\n  )\n");e.a=function(t){var e=t.app.router;c(),window.ga("create","UA-2508720-2","auto"),e&&e.afterEach((function(){return function(t,e){var n=e.route,c=e.store,o=e.$sentry,f=function(e,n){return t("set",e,n)},l=c.getters;if("single"===n.name)try{var d,v,h,m,O=l.isTemplateCard,article=l.currentArticle;if(!article)return;var j=article.categories,y=article.author.name,w=article.date,k=article.isAdvertising,P=article.isPromo,S=article.tags,A=Object(r.d)(new Date(1e3*article.meta.lh_first_published_time));f("dimension11",A),f("contentGroup1",y);var R=j.find((function(t){return t.url.includes("topics/")})),D=null!==(d=null==R?void 0:R.title)&&void 0!==d?d:"";f("contentGroup2",D);var I=j.find((function(t){return t.url.includes("stream/")})),x=null!==(v=null==I?void 0:I.title)&&void 0!==v?v:"";f("contentGroup3",x);var _=["noad","nozen","hide","noturbo","noadsense"],E=null!==(h=null===(m=S.filter((function(t){return!_.includes(t.title)}))[0])||void 0===m?void 0:m.title)&&void 0!==h?h:"";f("contentGroup4",E),f("dimension5",k||P?"Партнёрский материал":null);var C=Object(r.d)(new Date(1e3*w));f("dimension6",C),f("dimension8",O?"Карточки":null)}catch(t){o.captureException(t)}else["contentGroup1","contentGroup2","contentGroup3","contentGroup4","dimension6","dimension5","dimension8","dimension11"].forEach((function(t){return f(t,null)}));var title=l.currentSeo.title;f("title",title)}(window.ga,t)}))}},234:function(t,e,n){"use strict";n(17),n(18),n(14),n(19),n(20);var r=n(2),c=n(175),o=n.n(c);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}o.a.cfg=l(l({},o.a.cfg),{init:!1,expand:1200,expFactor:3,loadMode:1}),e.a=function(){window.onNuxtReady(o.a.init)}},235:function(t,e,n){"use strict";n(32);var r=n(13);e.a=function(t){var e=t.app.router,n=!1;e&&e.afterEach((function(t,c){if(n){var o=(e.options.base||"/").replace(/\/$/,""),f=o+c.fullPath;(window._tmr||(window._tmr=[])).push({id:r.p,type:"pageView",url:o+t.fullPath,referrer:f})}else n=!0}))}},236:function(t,e,n){"use strict";var r=function(){document.body.addEventListener("mousedown",(function(){document.body.classList.add("using-mouse")})),document.body.addEventListener("keydown",(function(t){"Tab"===t.code&&document.body.classList.remove("using-mouse")}))};e.a=function(){window.onNuxtReady(r)}},237:function(t,e,n){"use strict";var r=n(12),c=(n(23),n(208),n(50),n(22),n(46),n(16),n(17),n(0)),o=n(9),f=function t(e){var n,o,f=function(t){return e.dispatch(c.F,t)};if(e.state.isAuthenticatedInWordpress){var l=(n=e.state.widgets,o=[],Object.keys(n).forEach((function(t){n[t].forEach((function(t){if("recipes-list"===(null==t?void 0:t.type)&&"list"in t&&"custom"===t.list){var e,n=null==t||null===(e=t.recipes)||void 0===e?void 0:e.reduce((function(t,e){return[].concat(Object(r.a)(t),[e.postId])}),[]);n&&o.push.apply(o,Object(r.a)(n))}}))})),o),d=e.getters[c.M].map((function(t){return t.postId})),v=e.getters[c.O].map((function(t){return t.postId})),h=Object(r.a)(new Set([].concat(Object(r.a)(l),Object(r.a)(d),Object(r.a)(v))));f(h);var m=e.subscribe((function(n){switch(n.type){case c.k:case c.m:!function(t){var e=t.list.map((function(t){return t.postId}));f(e)}(n.payload);break;case c.Dc:!n.payload.newState&&m(),!n.payload.newState&&t(e)}}))}else var O=e.subscribe((function(n){switch(n.type){case c.Dc:n.payload.newState&&t(e),n.payload.newState&&O()}}))};e.a=function(t){var e=t.store,n=t.route;Object(o.a)(n.name)&&window.onNuxtReady((function(){return f(e)}))}},238:function(t,e,n){"use strict";n(18),n(19),n(20);var r=n(12),c=n(2),o=(n(23),n(14),n(33),n(25),n(17),n(208),n(50),n(22),n(46),n(55),n(56),n(41),n(16),n(0)),f=n(4);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t,e){return t.filter((function(t){return"quick-poll"===t.type&&t.ids&&t.ids.length})).map((function(t){return t.ids.map((function(n){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({id:n,widgetId:t.id,lastViewed:Boolean(e[n]&&e[n].lastWidgetId===t.id)},e[n]||{})})).sort(v)}))}function v(a,b){return a.lastViewed?1:b.lastViewed?-1:a.answer?1:b.answer?-1:a.viewed?1:b.viewed?-1:a.id-b.id}function h(t,e){return[].concat(Object(r.a)(t),Object(r.a)(e)).sort((function(a,b){return a.length-b.length})).reduce((function(t,e,n){if(!n)return t.push(m(e)),t;var r=e.filter((function(e){return!t.map((function(t){return t.id})).includes(e.id)}));return t.push(m(r.length?r:e)),t}),[]).filter((function(t){return t}))}function m(t){var e=t.filter((function(t){return!t.viewed}));if(e.length)return e[0];var n=t.filter((function(t){return void 0===t.answer}));return n.length?n[Object(f.A)(n.length-1)]:t[Object(f.A)(t.length-1)]}var O=function(t,e){var n=t.getters,c=t.commit,f=Object.keys(t.state.quickPolls.polls.byId),l=JSON.parse(localStorage.getItem("quick-polls"))||{},v=d(n.currentBetweenPostsWidgets,l),m=d(n.currentSidebarWidgets,l),O=d(n.currentAboveCommentsWidgets,l);var j=function(t){var e,n={index:h(v,m),default:h(O,m)};return null!==(e=n[t])&&void 0!==e?e:n.default}(null!=e?e:"default"),y=Object(r.a)(new Set(Object(r.a)(j.map((function(t){return t.id}))))).filter((function(t){return!f.includes(t.toString())}));Promise.all(y.map((function(e){var n=j.find((function(t){return t.id===e}));return t.dispatch(o.A,n)}))).then((function(){j.forEach((function(t){c(o.sb,{quickPollId:t.id,widgetId:t.widgetId})}))}))};e.a=function(t){var e=t.store,n=t.route,r=t.app.router;window.onNuxtReady((function(){var t;O(e,null!==(t=n.name)&&void 0!==t?t:null),null==r||r.afterEach((function(t){var n;O(e,null!==(n=t.name)&&void 0!==n?n:null)}))}))}},239:function(t,e,n){"use strict";var r=n(1),c=n(404),o=n.n(c);r.default.use(o.a,["refs","windows"])},240:function(t,e,n){"use strict";var r=n(1),c=n(405),o=n.n(c);r.default.use(o.a)},241:function(t,e,n){"use strict";n(17),n(18),n(14),n(19),n(20);var r=n(2),c=(n(16),n(13)),o=n(0);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d=function(t,e){var n=function(n){var r={};n&&(r["x-access-token"]=n);var f=t.create({headers:r,baseURL:c.b,timeout:o.Hb});return f.onError(e.captureException),f};return{fetchFavorites:function(t,e,r){var c="/api/v1/users/".concat(e,"/favorites");return n(r).get(c,{params:l({},t)})},fetchFolders:function(t,e){var r="api/v1/users/".concat(t,"/folders");return n(e).get(r,{params:{page:0,limit:100}})},addFolder:function(t,e,r){var c="api/v1/users/".concat(e,"/folders");return n(r).post(c,{name:t})},deleteFolder:function(t,e,r){var c="/api/v1/users/".concat(e,"/folders/").concat(t);return n(r).delete(c)},renameFolder:function(e,n,r){var f=e.name,l=e.folderId,d="/api/v1/users/".concat(n,"/folders/").concat(l);return t({method:"patch",url:d,headers:{"x-access-token":r},baseURL:c.b,timeout:o.Hb,data:{name:f}})},patchFavorite:function(t,e,r,c){var o="/api/v1/users/".concat(r,"/favorites/").concat(t);return n(c).patch(o,{folderId:e})},getDefaultFavorites:function(t,e){var r="api/v1/users/".concat(t,"/favorites");return n(e).get(r,{params:{folder_ids:0}})},addArticleToFavorites:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,o="/api/v1/users/".concat(r,"/favorites");return n(c).post(o,{postId:t,folderId:e})},removeArticleFromFavorites:function(t,e,r){var c="/api/v1/users/".concat(e,"/favorites/").concat(t);return n(r).delete(c)},getUserData:function(e,n){var r="/api/v1/users/".concat(n);return t({method:"get",url:r,headers:{"x-access-token":e},baseURL:c.b,timeout:o.Hb})},patchUserProperty:function(e,n,f){var l="/api/v1/users/".concat(n);return t({method:"patch",url:l,headers:{"x-access-token":e},baseURL:c.b,timeout:o.Hb,data:Object(r.a)({},f.property,f.value)})},removeUserSocialAccount:function(e,n,r){var f="/api/v1/users/".concat(n,"/").concat(r,"/remove");return t({method:"patch",url:f,headers:{"x-access-token":e},baseURL:c.b,timeout:o.Hb})},removeUserAccount:function(e,n,r){var f="/api/v1/users/".concat(n,"/archive/push");return t({method:"patch",url:f,headers:{"x-access-token":e},baseURL:c.b,timeout:o.Hb,data:{reason_code:r.code,reason_comment:r.text||r.comment}})},fetchPublicUserData:function(t){var e="/api/v1/public/users/".concat(t);return n().get(e)},fetchPublicUserComments:function(t,e){var r="/api/v1/public/users/".concat(t,"/comments");return n().get(r,{params:e})},fetchPublicUserPosts:function(t,e){var r="/api/v1/public/users/".concat(t,"/posts");return n().get(r,{params:e})},fetchNotifications:function(n,r,f){var l="/api/v1/kolokolchick/user/".concat(r);return function(n){var r={};n&&(r["x-access-token"]=n);var f=t.create({headers:r,baseURL:c.i,timeout:o.Hb});return f.onError(e.captureException),f}(n).get(l,{params:f})}}};function v(t){switch(t){case"wp":return c.q;case"search":default:return c.c}}n(182),n(45),n(32);var h=n(66),m=n.n(h),O=n(35);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w="/api/20/v1",k="/home-posts",P="/author",S="/topics",A="/tags",R="/streams",D="/top",I="/posts-by-date",x="/single-post",_="/preview",E="/seo",C="/scripts",T="/footers",L="/menus",$="/widgets",z="/ads-form",H=function(path){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,n=function(t){return t.startsWith("/")?t.slice(1):t};return"".concat(e).concat(path,"/").concat(n(t))};function F(t){var e=t.params.pathMatch;switch(t.name){case"list-all":return H(k);case"author-all":return H(P,e);case"topics-all":return H(S,e.replace(/[\\/]+$/g,""));case"tag-all":return H(A,e);case"stream-all":return H(R,e);case"top-all":return H(D,e?e.replace(/[\\/]+$/g,""):"week");case"archive-year":return H(I,t.params.year);case"archive-month":return H(I,"".concat(t.params.year,"/").concat(t.params.month));case"archive-day":return H(I,"".concat(t.params.year,"/").concat(t.params.month,"/").concat(t.params.day))}return H(k)}var B=function(t,e){return{askQuestion:function(n,r,text){var f;return(f=t.create({baseURL:c.m,timeout:o.Hb}),f.onError(e.captureException),f).post("/api/asklh/question-post",{user_id:n,name:r,text:text})}}},U=n(4),W=function(t){return{sendDataSports:function(e){return t.create({baseURL:"https://recs.s5o.ru/",timeout:o.Hb}).post("/send",e)}}};e.a=function(t,e){var n=t.$axios,r=t.route,f=t.$sentry;e("wordpressApi",function(t,e,n){var r=function(){var e=t.create({baseURL:c.q,timeout:o.Hb});return e.onError((function(){})),e},f=n.length?{version:n}:{},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(y({},f),t)},d=function(t){switch(t.name){case"archive-day":case"archive-month":case"archive-year":var e=(new Date).getTimezoneOffset();return{timezoneOffset:Object(O.a)(e)};default:return null}};return{fetchArticles:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,c=F(t),o=l(y({page:e,limit:n},d(t)));return r().get(c,{params:o})},fetchLastNArticles:function(t){var e=H(k);return r().get(e,{params:{page:1,limit:t}})},fetchSingleArticle:function(t){var e=H(x);return r().get(e,{params:l({post_slug:t})})},fetchPreviewArticle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin-post-preview",n=arguments.length>2?arguments[2]:void 0,c=H(_,String(t));return r().get(c,{params:l({preview_type:e,preview_type_hash:n})})},fetchSeo:function(t,e,n){var c=H(E,t),o=l({page:e,limit:n});return r().get(c,{params:o})},fetchTagArticles:function(){var t=H(A,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"promoted");return r().get(t,{params:l()})},fetchHeadScriptsFromServer:function(path){var t=H(C);return r().get(t,{params:l({path:path})})},fetchLeftSidebarArticles:function(t,e){var n=H(k);return r().get(n,{params:l({page:t,limit:e})})},fetchAppBoxData:function(t,e){var n=t.app_id,c=t.store,o=t.show_screenshots,f=t.old_price,l=Object(h.stringify)({action:"lh_appbox_get_redis_record",post_id:e,app_id:n,store:c,show_screenshots:o,old_price:f});return r().post("/wp-admin/admin-ajax.php?type=json",l)},reloadAppBoxData:function(t){var e=t.app_id,n=t.store,c=t.show_screenshots,o=t.old_price,f=t.redis_key,l=Object(h.stringify)({action:"lh_appbox_remove_redis_record",redis_key:f,app_id:e,store:n,show_screenshots:c,old_price:o});return r().post("/wp-admin/admin-ajax.php?type=json",l)},sendAbTitleEvents:function(t){var data=Object(h.stringify)({events:t,action:"ab_testing"});return r().post("/wp-admin/admin-ajax.php",data)},fetchFooter:function(){var t=H(T);return r().get(t)},sendTypoData:function(data){return r().post("/wp-admin/admin-ajax.php",Object(h.stringify)(data))},fetchMenus:function(){var t=H(L);return r().get(t)},fetchWidgets:function(){var t=H($);return r().get(t)},fetchRecommendedArticles:function(t,e){var n="/api/20/v1/recommended-posts/".concat(t);return r().get(n,{params:l({limit:e})})},subscribeToNewsletter:function(t,e,n){var data=Object(h.stringify)({action:t,type:e,email:n});return r().post("/wp-admin/admin-ajax.php",data)},fetchRecipesCount:function(t){var e="/api/recipes/v1/query".concat(t,"?count");return r().get(e)},fetchFilterMenus:function(){return r().get("/api/recipes/v1/filter/menu")},fetchFilterSettings:function(t){var e="/api/recipes/v1/filter/route".concat(t);return r().get(e)},searchIngredients:function(t){var e="/api/recipes/v1/filter/ingredients/".concat(t);return r().get(e)},fetchRecipes:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,c="/api/recipes/v1/query".concat(e);return r().get(c,{params:l({page:t,limit:n})})},fetchRecipe:function(t){var e="/api/recipes/v1/recipe/".concat(t);return r().get(e)},fetchRecipePreview:function(t,e,n){var c="/api/recipes/v1/query/recipe-preview/".concat(t);return r().get(c,{params:l(y({preview_type:e},n?{preview_type_hash:n}:{}))})},fetchRecipeWidgets:function(t){return r().get("/api/recipes/v1/widgets",{params:l({pathname:t})})},fetchRecommendedRecipes:function(t,e){var n="/api/recipes/v1/recommendedRecipes/".concat(t);return r().get(n,{params:l({limit:e})})},fetchRecipeScripts:function(){return r().get("/api/recipes/v1/scripts/")},adsForm:function(t){var e=H(z);return r().post(e,Object(h.stringify)(t))}}}(n,0,Object(U.l)(r.query))),e("authApi",d(n,f)),e("pushApi",function(t,e){var n=function(){var n=t.create({baseURL:c.j,timeout:o.Hb});return n.onError(e.captureException),n};return{addSubscription:function(t,e){var r=t.token,c=t.type,o=t.auth,f=t.p256dh,l=e.name,d=e.version,v=e.os;return n().post("/api/add-sub",{token:r,type:c,auth:o,p256dh:f,user_agent:"".concat(l," ").concat(d," ").concat(v)})},subscribe:function(t){return n().post("/api/subscribe",{token:t})},unsubscribe:function(t){return n().post("/api/unsubscribe",{token:t})},getDeviceInfo:function(t){return n().get("/api/get-device",{params:{token:t}})},sendTestPush:function(t){return n().post("/api/send-to-token",{token:t,title:document.title||"test title",body:document.title||"test body",wp_post_id:1,link:"https://lifehacker.ru/kak-ukrepit-zdorove/?utm_source=site&utm_campaign=push_desktop&utm_medium=push",picture:"https://i.imgur.com/PQmkAEU.png"})}}}(n,f)),e("searchApi",function(t,e){var n=function(n){var r=t.create({baseURL:v(n),timeout:o.Hb});return r.onError(e.captureException),r};return{getSearchItems:function(t,e,r){var c="/api/20/v1/search/",o={page:r,limit:arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,search:t};return e&&(o.post_type=e),n("wp").get(c,{params:o})},getSearchItemsByIds:function(t){var e={includes:t.join(),page:1,limit:t.length};return n("search").get("/fullsearch/solr/postId",{params:e})}}}(n,f)),e("commentsApi",function(t,e){var n=function(){var n=t.create({headers:{"Content-Type":"application/json","x-app":"lifehacker-web"},baseURL:c.o,timeout:o.Hb});return n.onError(e.captureException),n};return{fetchComments:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"trending",c="/api/v2/comments/post/".concat(t,"?sort=").concat(r,"&format_ver=1&limit=").concat(e);return n().get(c)},fetchBestComments:function(){return n().get("/api/comments/top?limit=1")},fetchLastComments:function(){return n().get("/api/comments/last?limit=3")},fetchCommentsCount:function(t,e){var r=e?{token:e}:{};return n().get("/api/comments/count",{headers:r,params:{post_ids:t.join()}})}}}(n,f)),e("specialApi",B(n,f)),e("viewsApi",function(t,e){var n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Hb,c=t.create({baseURL:n,timeout:r,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*"}});return c.onError(e.captureException),c};return{getArticleViewsCount:function(t){return n("https://views.lifehacker.ru").post("/get/",m.a.stringify({action:"get-views",postIds:t.join()}))},incrArticleViewsCount:function(t){return n("https://views.lifehacker.ru").post("/incr/",m.a.stringify({action:"increase-views",postId:t}))},syncArticleViewsCount:function(t){return n("https://lifehacker.ru",6e4).post("/wp-admin/admin-ajax.php",m.a.stringify({action:"sync_views",postId:t}))}}}(n,f)),e("reactionsApi",function(t,e){var n=function(){var n={"x-access-token":Object(U.f)()},r=t.create({headers:n,baseURL:c.l,timeout:o.Hb});return r.onError(e.captureException),r};return{fetchReactions:function(t){return n().get("/api/v1/posts",{params:{post_ids:t.join()}})},updateReaction:function(t,e){return n().post("/api/v1/posts",{post_id:t,user_state:e})},updateLike:function(t){return n().post("/api/v1/posts",{post_id:t,user_state:"like"})},updateDislike:function(t){return n().post("/api/v1/posts",{post_id:t,user_state:"dislike"})}}}(n,f)),e("quizApi",function(t,e){var n=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Hb,c=t.create({baseURL:n,timeout:r,headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*"}});return c.onError(e.captureException),c};return{getQuickPoll:function(t){var e="api/quickpolls/".concat(t);return n("https://quiz.lifehacker.ru").get(e)},setQuickPollAnswerId:function(t){var e="api/stats/answer/click/".concat(t);return n("https://quiz.lifehacker.ru").post(e)},getQuickPollStatistics:function(t){var e="api/stats/quickpolls/full/".concat(t);return n("https://quiz.lifehacker.ru").get(e)},setQuickPollViewed:function(t){var e="api/stats/quickpolls/view/".concat(t);return n("https://quiz.lifehacker.ru").post(e)}}}(n,f)),e("sportsApi",W(n))}},242:function(t,e,n){"use strict";var r=n(2);n(41),n(245),n(178),n(17),n(18),n(14),n(19),n(20),n(51);function c(t,e){var n,r={access:!1,redirect:{name:"profile-posts"}},c=t.store.state.userIntegerId,o=(null===(n=t.store.state.user)||void 0===n?void 0:n.integer_id)||c;if(!o)return r;var f=e.params.userId;return Number(f)!==o||(r.access=!0),r}var o=n(4);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=function(t){var e=t.app.router,n=t.redirect,r=t.query,f=t.params;e&&e.beforeEach((function(e,d,v){if(!Object(o.u)(e))return v();var h={profile:{match:/^\/profile\//i,check:c}},m=Object.values(h).find((function(t){return t.match.test(e.path)}));if(!m)return n({path:"/",query:r});var O=m.check(t,e);return O.access?v():n(l(l({},O.redirect),{},{params:f,query:r}))}))}},344:function(t,e,n){"use strict";n(18),n(14),n(19),n(20);var r=n(2),c=n(27),o=n(37);n(17);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={0:"mobile",768:"tablet",1024:"big-tablet",1280:"desktop",1920:"big-desktop"},v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;Object(c.a)(this,t),this.breakpoints=l(l({},d),e),this.breakpointCurrent=this.calcBreakpointCurrent(),this.resizeCB=this.resizeCallback.bind(this),this.init()}return Object(o.a)(t,[{key:"init",value:function(){window.addEventListener("resize",this.resizeCB)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.resizeCB)}},{key:"calcBreakpointCurrent",value:function(){var t=this,e=Object.keys(this.breakpoints).sort((function(a,b){return parseInt(a)-parseInt(b)}));return e.reduce((function(e,n){return window.innerWidth>=parseInt(n)&&(e=t.breakpoints[parseInt(n)]),e}),this.breakpoints[parseInt(e[0])])}},{key:"resizeCallback",value:function(){this.breakpointCurrent=this.calcBreakpointCurrent()}}]),t}();e.a=v},35:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"c",(function(){return m})),n.d(e,"e",(function(){return O})),n.d(e,"a",(function(){return j})),n.d(e,"d",(function(){return y})),n.d(e,"b",(function(){return w}));n(32);var r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],c=new Date,o=c.getFullYear(),f=("0"+(c.getMonth()+1)).substr(-2),l=("0"+c.getDate()).substr(-2),d=new Date("".concat(o,"-").concat(f,"-").concat(l,"T00:00:00")).getTime();function v(t,e){var n=function(t,e){var n=864e5,r=new Date,c=r.getFullYear(),o=("0"+(r.getMonth()+1)).substr(-2),f=("0"+r.getDate()).substr(-2),l=new Date("".concat(c,"-").concat(o,"-").concat(f,"T00:00:00")),d=l.getTime(),v=new Date(l);v.setDate(v.getDate()+1);var h=v.getTime(),m=d-1e3*t;if(m<0){if(Math.abs(m)<n)return e+" Сегодня";if(Math.abs(h-1e3*t)<n)return e+" Завтра"}if(m>0&&m<=n)return e+" Вчера";return""}(t,e);if(n)return n;var c=new Date(1e3*t),o=new Date;return"".concat(c.getDate()," ").concat(r[c.getMonth()]," ").concat(o.getFullYear()===c.getFullYear()?"":c.getFullYear())}var h=function(t){var e=new Date(1e3*t);return e.getHours()+":"+("0"+e.getMinutes()).substr(-2)};function m(t){return v(t,h(t))}var O=function(t){var e=h(t),n=d-1e3*t;if(n<0)return e;if(n<=864e5)return"вчера";var c=new Date(1e3*t),f=c.getFullYear(),l=c.getDate(),v=r[c.getMonth()],m=f!==o?f:"";return"".concat(l," ").concat(v," ").concat(m)};function j(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t<0?"-":"+",r="0".concat(Math.floor(Math.abs(t)/60)).substr(-2),c="0".concat(t%60).substr(-2);return"".concat(e?n:"").concat(r,":").concat(c)}(t,!0).replace(t<0?"-":"+",t<0?"+":"-")}function y(t){function e(t){return t<10?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"+00:00"}function w(t){var e=new Date(1e3*t),n=new Date,c=e.getHours(),o=e.getMinutes();if(c=c<10?"0"+c:c,o=o<10?"0"+o:o,e.toLocaleDateString()===n.toLocaleDateString())return"".concat(c,":").concat(o);if(e.getFullYear()===n.getFullYear()){var f=e.getMonth(),l=n.getMonth(),d=e.getDate()+1,v=n.getDate();return f===l&&d===v?"Вчера":"".concat(e.getDate()," ").concat(r[e.getMonth()])}return m(t)}},386:function(t,e,n){"use strict";var r=n(27),c=n(37),o=new(function(){function t(e,n){Object(r.a)(this,t),this.attribute=e,this.attributeValue=n}return Object(c.a)(t,[{key:"checkKey",value:function(t){return"Tab"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key}},{key:"focus",value:function(){var t=document.querySelector(":focus");t&&t.setAttribute(this.attribute,this.attributeValue||"")}},{key:"triggerFocusVisible",value:function(t){this.checkKey(t)&&(this.unFocus(),setTimeout(this.focus.bind(this)))}},{key:"unFocus",value:function(){var t=document.querySelector("["+this.attribute+"]");t&&t.removeAttribute(this.attribute)}},{key:"focusVisibleInit",value:function(){document.addEventListener("keydown",this.triggerFocusVisible.bind(this)),document.addEventListener("click",this.unFocus.bind(this))}},{key:"focusVisibleDestroy",value:function(){document.removeEventListener("keydown",this.triggerFocusVisible),document.removeEventListener("click",this.unFocus)}}]),t}())("data-focus-visible");e.a=o},4:function(t,e,n){"use strict";n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return h})),n.d(e,"p",(function(){return m})),n.d(e,"s",(function(){return O})),n.d(e,"w",(function(){return j})),n.d(e,"m",(function(){return y})),n.d(e,"t",(function(){return w})),n.d(e,"f",(function(){return k})),n.d(e,"h",(function(){return P})),n.d(e,"c",(function(){return S})),n.d(e,"u",(function(){return A})),n.d(e,"v",(function(){return R})),n.d(e,"g",(function(){return D})),n.d(e,"A",(function(){return I})),n.d(e,"B",(function(){return x})),n.d(e,"k",(function(){return _})),n.d(e,"x",(function(){return E})),n.d(e,"o",(function(){return C})),n.d(e,"r",(function(){return T})),n.d(e,"j",(function(){return L})),n.d(e,"E",(function(){return $})),n.d(e,"D",(function(){return z})),n.d(e,"C",(function(){return H})),n.d(e,"y",(function(){return F})),n.d(e,"n",(function(){return B})),n.d(e,"H",(function(){return U})),n.d(e,"e",(function(){return W})),n.d(e,"q",(function(){return M})),n.d(e,"l",(function(){return N})),n.d(e,"a",(function(){return V})),n.d(e,"i",(function(){return Y})),n.d(e,"z",(function(){return Q})),n.d(e,"F",(function(){return G})),n.d(e,"G",(function(){return J}));n(14),n(19),n(20),n(2);var r=n(12),c=n(30),o=(n(31),n(33),n(25),n(138),n(18),n(67),n(50),n(22),n(46),n(476),n(23),n(32),n(199),n(17),n(51),n(24)),f=n.n(o),l=n(164),d=(n(444),n(13)),v=function(t){return new IntersectionObserver(t,{root:null,threshold:1})};var h=function(){},m=Array.isArray,O=function(t){return"number"==typeof t&&isFinite(t)},j=function(t){return"string"==typeof t},y=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},w=function(t){return null!==t&&"object"===Object(c.a)(t)};function k(){return f.a.get(d.a)||""}function P(){return k()?Object(l.default)(k()).integerId:0}function S(t){if(t)try{return Object(l.default)(t).integerId}catch(t){return 0}return 0}function A(t){return t.matched.some((function(t){return t.meta.requiresAuth}))}function R(){return"undefined"!=typeof window&&window.devicePixelRatio>=2}var D=function(t){return"".concat(d.q,"/wp-admin/post.php?post=").concat(t,"&action=edit")},I=function(t){return Math.floor(Math.random()*t)},x=function(t){return new Promise((function(e){return setTimeout(e,t)}))},_=function(t,e){return Object(r.a)(new Map(t.map((function(t){return[t[e],t]}))).values())},E=function(){return"undefined"!=typeof window&&"ontouchstart"in window},C=function(link){return!link.includes(d.h)&&/^https?:\/\//i.test(link)},T=function(link){var t=["/wp-content/","/special/","/feed","/promokod",".pdf"].every((function(t){return!link.includes(t)}));return 0===link.indexOf("https://lifehacker.ru")&&t},L=function(link){try{return link.replace("https://lifehacker.ru","")}catch(t){return"error"}};function $(t){return t.endsWith("/")?t:t+"/"}function z(){var t=document.getElementById("top-header-container");t&&t.style.removeProperty("visibility")}function H(){var t=document.getElementById("top-header-container");t&&(t.style.visibility="hidden")}function F(){var t=document.getElementById("top-header-container");t&&(t.classList.add("top-header-container--low-zindex"),t.classList.remove("top-header-container--high-zindex"))}function B(){var t=document.getElementById("top-header-container");t&&(t.classList.add("top-header-container--high-zindex"),t.classList.remove("top-header-container--low-zindex"))}function U(t){0}function W(t){0}function M(t){var rect=t.getBoundingClientRect();return rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)}var N=function(t){var e=Object.keys(t)[0]||"",n=null===t[e],r=O(Number(e));return n&&r?e:""},V="undefined"!=typeof window;function Y(t){if(!t)return"время не указано";var e=function(t){return{days:+Math.floor(t/60/24),hours:+Math.floor(t/60%24),minutes:+t%60}}(t),n=e.days,r=e.hours,c=e.minutes,o="";return n&&(o="".concat(n," д.")),r&&(o+=o?" ":"",o+="".concat(r," ч.")),c&&(o+=o?" ":"",o+="".concat(c," мин.")),o}function Q(t){return window.open(t,"popUpWindow","height=500,width=500,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes")}function G(t){if(!t.trim())return!1;return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(t).toLowerCase())||0===t.trim().length}function J(t,mask){return!!t.trim()&&t.length===mask.length}},449:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return j})),n.d(e,"state",(function(){return y})),n.d(e,"getters",(function(){return w})),n.d(e,"getVisibilityDataForArticle",(function(){return k})),n.d(e,"mutations",(function(){return P}));n(17),n(18),n(14),n(19),n(20);var r,c=n(12),o=n(2),f=(n(32),n(79),n(23),n(1)),l=n(97),d=n(399),v=n(131),h=n(0);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var j=!1,y=function(){return{}},w={currentPageData:function(t,e,n){return t[n.route.fullPath.replace(n.route.hash,"")]||null},currentArticles:function(t,e){var n,r;return null!==(n=null===(r=e.currentPageData)||void 0===r?void 0:r.articles)&&void 0!==n?n:[]},currentArticle:function(t,e){var n,r;return null!==(n=null===(r=e.currentPageData)||void 0===r?void 0:r.article)&&void 0!==n?n:null},currentTitle:function(t,e){var n,r;return null!==(n=null===(r=e.currentPageData)||void 0===r?void 0:r.title)&&void 0!==n?n:""},currentIcon:function(t,e){var n,r;return null!==(n=null===(r=e.currentPageData)||void 0===r?void 0:r.icon)&&void 0!==n?n:""},currentTotalPages:function(t,e){var n,r;return null!==(n=null===(r=e.currentPageData)||void 0===r?void 0:r.totalPages)&&void 0!==n?n:0},isJumperPost:function(t,e){var n,r,c,o;return null!==(n=null===(r=e.currentArticle)||void 0===r||null===(c=r.meta)||void 0===c||null===(o=c.jumperScroller)||void 0===o?void 0:o.isActive)&&void 0!==n&&n},isAdvertisingPost:function(t,e){var n,r;return null!==(n=null===(r=e.currentArticle)||void 0===r?void 0:r.isAdvertising)&&void 0!==n&&n},isPromo:function(t,e){var n,r;return null!==(n=null===(r=e.currentArticle)||void 0===r?void 0:r.isPromo)&&void 0!==n&&n},isTemplateCard:function(t,e){var n;return"card"===(null===(n=e.currentArticle)||void 0===n?void 0:n.template)},isTemplateBroadside:function(t,e){var n;return"broadside"===(null===(n=e.currentArticle)||void 0===n?void 0:n.template)},isArticleTypePost:function(t,e){var n;return"post"===(null===(n=e.currentArticle)||void 0===n?void 0:n.type)},isArticleTypePage:function(t,e){var n;return"page"===(null===(n=e.currentArticle)||void 0===n?void 0:n.type)},currentVisibilityData:function(t,e){var n,r;return null!==(n=null==e||null===(r=e.currentPageData)||void 0===r?void 0:r.visibilityData)&&void 0!==n?n:[]}},k=function(article){var t=[];return"page"===article.type?t.push({type:"post_type",value:"page"}):article.isAdvertising&&t.push({type:"post_type",value:"partner"}),article.categories.forEach((function(e){t.push({type:"category",id:+e.id})})),article.tags.forEach((function(e){t.push({type:"post_tag",id:e.id})})),t},P=(r={},Object(o.a)(r,h.e,(function(t,e){var n,path=e.path,article=e.data.article,r=Object(l.a)(article.structuredContent),c=O(O({},article),r);c.structuredContent=[],"card"===(null===(n=c)||void 0===n?void 0:n.template)&&(c=Object(d.a)(c));var o=k(article),v=(new Date).getTime();f.default.set(t,path,{timestamp:v,visibilityData:Object.freeze(o),article:Object.freeze(c)})})),Object(o.a)(r,h.d,(function(t,e){var path=e.path,data=e.data,n=data.articles,r=data.totalPages,title=data.title,c=data.type,o=data.id,l=data.icon,d=(new Date).getTime(),h=[];c&&o&&h.push({id:o,type:c}),f.default.set(t,path,{timestamp:d,title:title,totalPages:r,visibilityData:Object.freeze(h),articles:Object(v.b)(n,"id").map((function(t){return Object.freeze(t)})),icon:l})})),Object(o.a)(r,h.Ob,(function(t,e){var n,r,path=e.path,o=e.newArticles,f=null!==(n=null===(r=t[path])||void 0===r?void 0:r.articles)&&void 0!==n?n:[],l=Object(v.b)([].concat(Object(c.a)(f),Object(c.a)(o)),"id");t[path].articles=l.map((function(t){return Object.freeze(t)}))})),r)},450:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return f})),n.d(e,"DEFAULT_SEO",(function(){return l})),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return v})),n.d(e,"mutations",(function(){return h}));var r=n(2),c=(n(32),n(79),n(1)),o=n(0),f=!1,l={title:"Лайфхакер",description:"Лайфхакер - советы и лайфхаки, продуктивность, технологии, здоровье",robots:"",canonical:"",schema_graph:"",og:{image:""}},d=function(){return{byPath:{},default:l}},v={currentSeo:function(t,e,n){var r,c=n.route.fullPath.replace(n.route.hash,"");return null!==(r=t.byPath[String(c)])&&void 0!==r?r:t.default}},h=Object(r.a)({},o.l,(function(t,e){var path=e.path,n=e.seo;c.default.set(t.byPath,path,Object.freeze(n))}))},5:function(t,e,n){"use strict";function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;"undefined"!=typeof window&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"passEventToGa",eventCategory:t,eventAction:e,eventLabel:n,eventValue:r}))}n.d(e,"a",(function(){return r}))},683:function(t,e,n){"use strict";n.r(e),n.d(e,"strict",(function(){return P})),n.d(e,"state",(function(){return S})),n.d(e,"mutations",(function(){return A})),n.d(e,"actions",(function(){return R}));var r,c,o=n(90),f=n(11),l=n(2),d=n(12),v=(n(31),n(14),n(358),n(16),n(22),n(24)),h=n.n(v),m=n(65),O=n(398),j=n(0),y=n(9),w=n(13),k=n(4),P=!1,S=function(){return{visibleModalWindows:[],jobs:[],user:null,userIntegerId:null,isAuthenticatedInWordpress:!1,isSubscribedToWebPushNotifications:!1,isHeadScriptsLoaded:!1,windowPageYOffset:0,routeBeforeSearch:null}},A=(r={},Object(l.a)(r,j.Bb,(function(t){t.visibleModalWindows=t.visibleModalWindows.filter((function(t){return"search"===t})),t.visibleModalWindows.push("nav"),m.a.disable()})),Object(l.a)(r,j.bb,(function(t){t.visibleModalWindows=t.visibleModalWindows.filter((function(t){return"safari-push-dialog"!==t})),m.a.enable()})),Object(l.a)(r,j.Db,(function(t){t.visibleModalWindows=["safari-push-dialog"],m.a.disable()})),Object(l.a)(r,j.Z,(function(t){t.visibleModalWindows=t.visibleModalWindows.filter((function(t){return"nav"!==t})),m.a.enable()})),Object(l.a)(r,j.Eb,(function(t){t.visibleModalWindows=["search"]})),Object(l.a)(r,j.cb,(function(t){t.visibleModalWindows=t.visibleModalWindows.filter((function(t){return"search"!==t}))})),Object(l.a)(r,j.j,(function(t,e){var n=e.job;t.jobs=[].concat(Object(d.a)(t.jobs),[n])})),Object(l.a)(r,j.o,(function(t){t.jobs=[]})),Object(l.a)(r,j.ic,(function(t,e){var n=e.user;t.user=Object.seal(n)})),Object(l.a)(r,j.jc,(function(t,e){t.user[e.property]=e.value})),Object(l.a)(r,j.r,(function(t){t.user=null,t.userIntegerId=null})),Object(l.a)(r,j.Dc,(function(t,e){var n=e.newState;t.isAuthenticatedInWordpress=n})),Object(l.a)(r,j.Fb,(function(t){t.isSubscribedToWebPushNotifications=!0})),Object(l.a)(r,j.Ib,(function(t){t.isSubscribedToWebPushNotifications=!1})),Object(l.a)(r,j.Wb,(function(t,e){var n=e.isHeadScriptsLoaded;t.isHeadScriptsLoaded=n})),Object(l.a)(r,j.Cc,(function(t,e){var n=e.windowPageYOffset;t.windowPageYOffset=n})),Object(l.a)(r,j.xb,(function(t,e){var n=e.from;t.routeBeforeSearch=n})),Object(l.a)(r,j.h,(function(t,e){var n=e.integer_id;t.userIntegerId=n})),r),R=(c={nuxtServerInit:function(t,e){var n=t.dispatch,r=Object(y.a)(e.route.name);return Object(O.a)([n(r?j.D:j.G),n(j.z)])}},Object(l.a)(c,j.E,(function(t,e){var n=this;return Object(f.a)(regeneratorRuntime.mark((function r(){var c,o,f,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.commit,c=t.dispatch,o=e.accessToken,f=e.integerId,r.next=4,n.$authApi.getUserData(o,f);case 4:return l=r.sent,r.next=7,c(j.ic,{user:l.data.data});case 7:return r.abrupt("return",l);case 8:case"end":return r.stop()}}),r)})))()})),Object(l.a)(c,j.ic,(function(t,e){return Object(f.a)(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,c=t.dispatch,r(j.ic,e),r(j.h,e.user),n.next=5,c(j.jb);case 5:case"end":return n.stop()}}),n)})))()})),Object(l.a)(c,j.r,(function(t){var e=t.commit,n=t.dispatch;e(j.r),n(j.jb)})),Object(l.a)(c,j.eb,(function(t,e){var n=this;Object(o.a)(t);var r=Object(k.h)();if(r){var c=h.a.get(w.a);return this.$authApi.patchUserProperty(c,r,e).then((function(t){if(200===t.status)return n.commit(j.jc,e),Promise.resolve(t)}))}})),Object(l.a)(c,j.w,(function(t,e){Object(o.a)(t);var n=Object(k.h)();if(n){var r=h.a.get(w.a);return this.$authApi.removeUserSocialAccount(r,n,e)}})),Object(l.a)(c,j.v,(function(t,e){Object(o.a)(t);var n=Object(k.h)();if(n){var r=h.a.get(w.a);return this.$authApi.removeUserAccount(r,n,e)}})),c)},684:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return l})),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return v})),n.d(e,"actions",(function(){return h})),n.d(e,"mutations",(function(){return m}));var r,c,o=n(2),f=(n(79),n(0)),l=!1,d=function(){return{titles:{},events:[],addedUnloadHandler:!1}},v=Object(o.a)({},f.H,(function(t){return function(e){return t.titles[String(e)]||null}})),h=(r={},Object(o.a)(r,f.kb,(function(t){var e=t.state,n=t.commit;if(e.events.length)return this.$wordpressApi.sendAbTitleEvents(e.events).then((function(){n(f.gb)}))})),Object(o.a)(r,f.b,(function(t,e){var n=t.state,r=t.commit,c=t.dispatch;return n.addedUnloadHandler||(window.addEventListener("beforeunload",(function(){c(f.kb)})),r(f.yb)),r(f.b,e)})),r),m=(c={},Object(o.a)(c,f.a,(function(t,e){var n=e.id,title=e.title;t.titles[String(n)]=title})),Object(o.a)(c,f.fb,(function(t){t.titles={}})),Object(o.a)(c,f.b,(function(t,e){t.events.push(Object.freeze(e))})),Object(o.a)(c,f.gb,(function(t){t.events=[]})),Object(o.a)(c,f.yb,(function(t){t.addedUnloadHandler=!0})),c)},685:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return f})),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return v})),n.d(e,"mutations",(function(){return h}));var r=n(2),c=(n(32),n(79),n(1)),o=n(0),f=!1,l={lh_adfox_homepage:!0,lh_adfox_rtn:!1,lh_adfox_noad:"",lh_adfox_noadsense:"",lh_adfox_pk:"",lh_adfox_postid:"",lh_adfox_streams:"",lh_adfox_tags:"",lh_adfox_terms:""},d=function(){return{byPath:{}}},v={currentAdfox:function(t,e,n){var r,c=n.route.fullPath.replace(n.route.hash,"");return null!==(r=t.byPath[String(c)])&&void 0!==r?r:l}},h=Object(r.a)({},o.c,(function(t,e){var path=e.path,n=e.adfoxParams;c.default.set(t.byPath,path,Object.freeze(n))}))},686:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return w})),n.d(e,"state",(function(){return k})),n.d(e,"getters",(function(){return P})),n.d(e,"actions",(function(){return A})),n.d(e,"mutations",(function(){return R}));var r,c,o=n(2),f=n(12),l=(n(51),n(41),n(137),n(14),n(358),n(17),n(18),n(19),n(20),n(1)),d=n(24),v=n.n(d),h=n(0),m=n(13),O=n(4);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w=!1,k=function(){return{userRelated:{favorites:[]},currentArticleTitle:"",commentsCount:{},viewsCount:{}}},P={getCommentsCount:function(t){return function(e){return t.commentsCount[String(e)]||0}},currentArticleTitle:function(t){return function(){return t.currentArticleTitle}},getViewsCount:function(t){return function(e){return Number(t.viewsCount[String(e)])||0}},getArticleFavoriteId:function(t){return function(e){var n=t.userRelated.favorites.find((function(t){return t.post_id===e}));return n?n.id:0}},getArticleFavorite:function(t){return function(e){return t.userRelated.favorites.find((function(t){return t.post_id===e}))||null}}};function S(t,e,n){return n.findIndex((function(e){return e.id===t.id}))===e}var A=(r={},Object(o.a)(r,h.I,(function(t,e){var n=t.commit,r=t.state,c=e.params,o=e.isUpdating,l=void 0===o||o,d=Object(O.h)();if(d){var j=v.a.get(m.a);return this.$authApi.fetchFavorites(c,d,j).then((function(t){if(200===t.status){var e=t.data.data,c=l?e:[].concat(Object(f.a)(e),Object(f.a)(r.userRelated.favorites)).filter(S);n(h.Sb,{favorites:c})}return t}))}})),Object(o.a)(r,h.nb,(function(t,e){(0,t.commit)(h.Qb,e)})),Object(o.a)(r,h.y,(function(t,e){var n=t.commit,r=v.a.get(m.a);this.$commentsApi.fetchCommentsCount(e,r).then((function(t){200===t.status&&n(h.Nb,t.data.data)}))})),Object(o.a)(r,h.F,(function(t,e){var n=t.commit;this.$viewsApi.getArticleViewsCount(e).then((function(t){200===t.status&&n(h.kc,t.data.viewsCounts)}))})),r),R=(c={},Object(o.a)(c,h.Sb,(function(t,e){var n=e.favorites;l.default.set(t.userRelated,"favorites",[].concat(Object(f.a)(n),Object(f.a)(t.userRelated.favorites)).filter(S))})),Object(o.a)(c,h.Qb,(function(t,title){t.currentArticleTitle=title})),Object(o.a)(c,h.f,(function(t,e){var n=e.favorite;t.userRelated.favorites=Object.seal([].concat(Object(f.a)(t.userRelated.favorites),[n]))})),Object(o.a)(c,h.hb,(function(t,e){var n=e.postId,r=t.userRelated.favorites.filter((function(t){return t.post_id!==n}));t.userRelated.favorites=Object.seal(r)})),Object(o.a)(c,h.Nb,(function(t,e){e.forEach((function(e){l.default.set(t.commentsCount,e.post_ID,e.count)}))})),Object(o.a)(c,h.s,(function(t){t.userRelated={favorites:[]}})),Object(o.a)(c,h.kc,(function(t,e){l.default.set(t,"viewsCount",y(y({},t.viewsCount),e))})),c)},687:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return w})),n.d(e,"state",(function(){return k})),n.d(e,"actions",(function(){return P})),n.d(e,"mutations",(function(){return S}));var r,c,o=n(2),f=n(90),l=n(12),d=n(38),v=(n(50),n(22),n(46),n(23),n(16),n(1)),h=n(24),m=n.n(h),O=n(0),j=n(13),y=n(4),w=!1,k=function(){return{items:[],total:0}},P=(r={},Object(o.a)(r,O.Q,(function(t){var e=t.commit,n=Object(y.h)();if(n){var r=m.a.get(j.a);return Promise.all([this.$authApi.fetchFolders(n,r),this.$authApi.getDefaultFavorites(n,r)]).then((function(t){var n=Object(d.a)(t,2),r=n[0],c=n[1];if(r&&200===r.status&&c&&200===c.status){var o=r.data.data.map((function(t){return{id:t.id,name:t.name,total:t.favorites.length}})).sort((function(a,b){return null!==a.id&&null!==b.id?b.id-a.id:0})),f=r.data.data.reduce((function(t,e){return t+=e.favorites.length}),0),v={id:null,name:"Общее",total:c.data.meta.total+f};e(O.ob,{folders:{items:[v].concat(Object(l.a)(o)),total:r.data.meta.total}})}})).catch((function(){}))}})),Object(o.a)(r,O.u,(function(t,e){Object(f.a)(t);var n=e.folder,r=Object(y.h)();if(r){var c=m.a.get(j.a);return this.$authApi.deleteFolder(n.id,r,c)}})),Object(o.a)(r,O.g,(function(t,e){Object(f.a)(t);var n=e.name,r=Object(y.h)();if(r){var c=m.a.get(j.a);return this.$authApi.addFolder(n,r,c)}})),Object(o.a)(r,O.ib,(function(t,e){Object(f.a)(t);var n=e.name,r=e.folderId,c=Object(y.h)();if(c){var o=m.a.get(j.a);return this.$authApi.renameFolder({name:n,folderId:r},c,o)}})),r),S=(c={},Object(o.a)(c,O.ob,(function(t,e){var n=e.folders;v.default.set(t,"items",n.items),v.default.set(t,"total",n.total)})),Object(o.a)(c,O.p,(function(t){t.items=[],t.total=0})),c)},688:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return d})),n.d(e,"state",(function(){return v})),n.d(e,"actions",(function(){return R})),n.d(e,"mutations",(function(){return D})),n.d(e,"getters",(function(){return I}));var r,c,o=n(2),f=(n(41),n(79),n(0)),l=n(168),d=!1,v=function(){return{main:null,second:null,info:null,rubric:null,projects:null,subscribe:null,apps:null,rules:null,burgerInfo:null,burgerCategories:null,burgersubs:null}},h="twenty-main",m="twenty-second",O="twenty-main-projects",j="twenty-info-footer",y="twenty-subscribe-footer",w="twenty-apps-footer",k="twenty-rules-footer",P="twenty-burger-info",S="twenty-burger-categories",A="twenty-burger-subscriptions",R=Object(o.a)({},f.z,(function(t){var e=t.commit;return Object(l.a)(f.z,this.$wordpressApi.fetchMenus,this.app.$redisClient).then((function(t){return function(data){var main=data.find((function(t){return t.type===h}));main&&e(f.Yb,main);var t=data.find((function(t){return t.type===m}));t&&e(f.ec,t);var n=data.find((function(t){return t.type===O}));n&&e(f.Zb,n);var r=data.find((function(t){return t.type===j}));r&&e(f.Ub,r);var c=data.find((function(t){return t.type===y}));c&&e(f.gc,c);var o=data.find((function(t){return t.type===w}));o&&e(f.Jb,o);var l=data.find((function(t){return t.type===k}));l&&e(f.dc,l);var d=data.find((function(t){return t.type===P}));d&&e(f.Lb,d);var v=data.find((function(t){return t.type===S}));v&&e(f.Kb,v);var R=data.find((function(t){return t.type===A}));return R&&e(f.Mb,R),data}(t)}))})),D=(r={},Object(o.a)(r,f.Yb,(function(t,e){t.main=Object.freeze(e)})),Object(o.a)(r,f.ec,(function(t,e){t.second=Object.freeze(e)})),Object(o.a)(r,f.Zb,(function(t,e){t.projects=Object.freeze(e)})),Object(o.a)(r,f.Ub,(function(t,e){t.info=Object.freeze(e)})),Object(o.a)(r,f.gc,(function(t,e){t.subscribe=Object.freeze(e)})),Object(o.a)(r,f.Jb,(function(t,e){t.apps=Object.freeze(e)})),Object(o.a)(r,f.dc,(function(t,e){t.rules=Object.freeze(e)})),Object(o.a)(r,f.Lb,(function(t,e){t.burgerInfo=Object.freeze(e)})),Object(o.a)(r,f.Kb,(function(t,e){t.burgerCategories=Object.freeze(e)})),Object(o.a)(r,f.Mb,(function(t,e){t.burgersubs=Object.freeze(e)})),r),I=(c={},Object(o.a)(c,f.J,(function(t){var e=t.burgerInfo,n=t.burgerCategories,r=[];return null!=e&&e.items.length&&r.push({title:(null==e?void 0:e.title)||"Информация",children:e.items}),null!=n&&n.items.length&&r.push({title:(null==n?void 0:n.title)||"Категории",children:n.items}),r})),Object(o.a)(c,f.K,(function(t){return t.burgersubs})),c)},689:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return h})),n.d(e,"state",(function(){return m})),n.d(e,"actions",(function(){return O})),n.d(e,"mutations",(function(){return j}));n(18),n(14),n(19),n(20);var r,c,o=n(2),f=(n(17),n(1)),l=n(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=!1,m=function(){return{polls:{byId:{}},pollsByLocation:{byId:{}}}},O=(r={},Object(o.a)(r,l.A,(function(t,e){var n=t.commit,r=t.dispatch;return this.$quizApi.getQuickPoll(e.id).then((function(t){var c,o,f=t.data.data.data;n(l.rb,v(v({},f),{},{state:e.viewed?"viewed":"initial",selectedAnswer:null!==(c=e.answer)&&void 0!==c?c:null,viewed:null!==(o=e.viewed)&&void 0!==o&&o,location:e.location})),e.answer&&r(l.B,e.id)}))})),Object(o.a)(r,l.B,(function(t,e){var n=t.commit;return this.$quizApi.getQuickPollStatistics(e).then((function(t){var r=t.data.data.clicks;n(l.ub,{quickPollId:e,statistics:r}),n(l.vb,{quickPollId:e,statePoll:"answered"})}))})),Object(o.a)(r,l.ac,(function(t,e){var n=t.commit,r=e.quickPollId,c=e.answerId;return this.$quizApi.setQuickPollAnswerId(c).then((function(){n(l.tb,{quickPollId:r,answerId:c})}))})),r),j=(c={},Object(o.a)(c,l.sb,(function(t,e){var n=e.quickPollId,r=e.widgetId;f.default.set(t.pollsByLocation.byId,"".concat(r),n)})),Object(o.a)(c,l.rb,(function(t,e){f.default.set(t.polls.byId,e.id,e)})),Object(o.a)(c,l.mb,(function(t,e){var n=e.poll;Object.keys(t.polls.byId).forEach((function(e){var r=t.polls.byId[e];r.location===n.location&&f.default.set(t.polls.byId[n.id],"isCurrent",r.id===n.id)}))})),Object(o.a)(c,l.ub,(function(t,e){var n=e.quickPollId,r=e.statistics;f.default.set(t.polls.byId[n],"statistics",r)})),Object(o.a)(c,l.vb,(function(t,e){var n=e.quickPollId,r=e.statePoll;f.default.set(t.polls.byId[n],"state",r)})),Object(o.a)(c,l.tb,(function(t,e){var n=e.quickPollId,r=e.answerId;f.default.set(t.polls.byId[n],"selectedAnswer",r)})),Object(o.a)(c,l.q,(function(t){f.default.set(t.pollsByLocation,"byId",{})})),c)},690:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return v})),n.d(e,"state",(function(){return h})),n.d(e,"getters",(function(){return m})),n.d(e,"mutations",(function(){return O}));var r,c,o=n(2),f=(n(22),n(55),n(56),n(14),n(23),n(72),n(79),n(1)),l=n(0),d=n(4),v=!1,h=function(){return{similar:{byId:{}},related:{byId:{}},byId:{},currentRecipeId:null}},m=(r={},Object(o.a)(r,l.M,(function(t){return t.currentRecipeId&&Object(d.m)(t.related.byId,t.currentRecipeId.toString())?t.related.byId[t.currentRecipeId.toString()].idList.map((function(e){var n;return null===(n=t.byId)||void 0===n?void 0:n[e.toString()]})).filter((function(t){return!!t})):[]})),Object(o.a)(r,l.O,(function(t){return t.currentRecipeId&&Object(d.m)(t.similar.byId,t.currentRecipeId.toString())?t.similar.byId[t.currentRecipeId.toString()].idList.map((function(e){var n;return null===(n=t.byId)||void 0===n?void 0:n[e.toString()]})).filter((function(t){return!!t})):[]})),Object(o.a)(r,l.N,(function(t){return t.currentRecipeId&&Object(d.m)(t.similar.byId,t.currentRecipeId.toString())?t.similar.byId[t.currentRecipeId.toString()].link:""})),Object(o.a)(r,l.L,(function(t){return t.currentRecipeId&&Object(d.m)(t.related.byId,t.currentRecipeId.toString())?t.related.byId[t.currentRecipeId.toString()].link:""})),r),O=(c={},Object(o.a)(c,l.m,(function(t,e){var n;e.list.forEach((function(e){f.default.set(t.byId,e.postId,Object.freeze(e))})),f.default.set(t.similar.byId,e.id,{idList:e.list.map((function(t){return t.postId})),link:null!==(n=e.link)&&void 0!==n?n:""})})),Object(o.a)(c,l.k,(function(t,e){var n;e.list.forEach((function(e){f.default.set(t.byId,e.postId,Object.freeze(e))})),f.default.set(t.related.byId,e.id,{idList:e.list.map((function(t){return t.postId})),link:null!==(n=e.link)&&void 0!==n?n:""})})),Object(o.a)(c,l.Pb,(function(t,e){t.currentRecipeId=e})),c)},691:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return f})),n.d(e,"state",(function(){return l})),n.d(e,"actions",(function(){return d})),n.d(e,"mutations",(function(){return v}));var r,c=n(2),o=n(0),f=!1,l=function(){return{text:"",comment:"",context:"",isShowForm:!1}},d=Object(c.a)({},o.lb,(function(t){var e=t.state,n=t.commit,r=e.comment||"Нет комментария",link='<a href="'.concat(window.location.href,'">').concat(document.title||"Ссылка","</a>"),text=e.context+"\r\n\r\n<i>Комментарий: "+r+"</i>\r\n\r\n"+link,data={action:"sendtypo",text:encodeURIComponent(text)};return this.$wordpressApi.sendTypoData(data).then((function(){n(o.db)}))})),v=(r={},Object(c.a)(r,o.n,(function(t,e){var text=e.text,n=e.context;t.text=text,t.context=n,t.isShowForm=!0})),Object(c.a)(r,o.hc,(function(t,e){var n=e.comment;t.comment=n})),Object(c.a)(r,o.db,(function(t){t.text="",t.comment="",t.isShowForm=!1,t.context=""})),r)},692:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return f})),n.d(e,"state",(function(){return l})),n.d(e,"mutations",(function(){return d}));var r,c=n(2),o=n(0),f=!1,l=function(){return{isHeaderShow:!0,isPrimaryMenuShow:!0,isModalDeleteAccountShow:!1}},d=(r={},Object(c.a)(r,o.X,(function(t){t.isHeaderShow=!1})),Object(c.a)(r,o.zb,(function(t){t.isHeaderShow=!0})),Object(c.a)(r,o.ab,(function(t){t.isPrimaryMenuShow=!1})),Object(c.a)(r,o.Cb,(function(t){t.isPrimaryMenuShow=!0})),Object(c.a)(r,o.Y,(function(t){t.isModalDeleteAccountShow=!1})),Object(c.a)(r,o.Ab,(function(t){t.isModalDeleteAccountShow=!0})),r)},693:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return l})),n.d(e,"state",(function(){return d})),n.d(e,"getters",(function(){return v})),n.d(e,"mutations",(function(){return h}));var r=n(2),c=(n(79),n(1)),o=n(0),f={ingredients:[],dishTypes:[],cuisines:[],keywords:[],cookingMethods:[]},l=!1,d=function(){return{byPath:{}}},v={currentRecipesVisibilityData:function(t,e,n){var r;return null!==(r=t.byPath[n.route.fullPath])&&void 0!==r?r:f}},h=Object(r.a)({},o.wb,(function(t,e){c.default.set(t.byPath,e.fullPath,Object.freeze(e.data))}))},694:function(t,e,n){"use strict";n.r(e),n.d(e,"namespaced",(function(){return j})),n.d(e,"state",(function(){return y})),n.d(e,"getters",(function(){return w})),n.d(e,"actions",(function(){return M})),n.d(e,"mutations",(function(){return N}));n(17),n(18),n(19),n(20);var r,c,o=n(2),f=(n(23),n(14),n(25),n(79),n(62)),l=n(77),d=n(0),v=n(168);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function O(t,e){return t.map((function(t){return m(m({},t),{},{location:e})}))}var j=!1,y=function(){return{sidebar:[],footer:[],aboveHeader:[],belowHeader:[],betweenPosts:[],afterExcerpt:[],aboveComments:[],belowComments:[],afterThirdParagraph:[],ampAfterFirstParagraph:[],insidePost:[],leftSidebar:[],recipeSidebar:[],recipesSidebar:[],betweenRecipes:[],aboveRecipeComments:[],belowRecipeComments:[],aboveRecipeHeader:[],belowRecipeHeader:[],insideRecipe:[]}},w={currentLeftSidebarWidgets:function(t,e,n,r){return t.leftSidebar.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentSidebarWidgets:function(t,e,n,r){return t.sidebar.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentAboveHeaderWidgets:function(t,e,n,r){return t.aboveHeader.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentBelowHeaderWidgets:function(t,e,n,r){return t.belowHeader.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentBetweenPostsWidgets:function(t,e,n,r){return t.betweenPosts.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentAfterExcerptWidgets:function(t,e,n,r){return t.afterExcerpt.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentAboveCommentsWidgets:function(t,e,n,r){return t.aboveComments.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentBelowCommentsWidgets:function(t,e,n,r){return t.belowComments.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentFooterWidgets:function(t,e,n,r){return t.footer.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentAfterThirdParagraphWidgets:function(t,e,n,r){return t.afterThirdParagraph.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentAmpAfterFirstParagraphWidgets:function(t,e,n,r){var c=["parsed-html"];return t.ampAfterFirstParagraph.filter((function(t){return c.includes(t.type)}))},currentInsidePostWidgets:function(t,e,n,r){return t.insidePost.filter((function(t){return Object(f.a)(r.currentVisibilityData,t.visibility)}))},currentRecipeSidebar:function(t,e,n,r){return t.recipeSidebar.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentRecipesSidebar:function(t,e,n,r){return t.recipesSidebar.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentBetweenRecipes:function(t,e,n,r){return t.betweenRecipes.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentAboveRecipeComments:function(t,e,n,r){return t.aboveRecipeComments.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentBelowRecipeComments:function(t,e,n,r){return t.belowRecipeComments.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentAboveRecipeHeader:function(t,e,n,r){return t.aboveRecipeHeader.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentBelowRecipeHeader:function(t,e,n,r){return t.belowRecipeHeader.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))},currentInsideRecipe:function(t,e,n,r){return t.insideRecipe.filter((function(t){var e;return Object(l.a)(r.currentRecipesVisibilityData,null!==(e=null==t?void 0:t.visibility)&&void 0!==e?e:null)}))}},k="twenty-sidebar",P="twenty-single-left",S="twenty-footer",A="twenty-above-header",R="twenty-below-header",D="twenty-between-posts",I="twenty-above-comments",x="twenty-below-comments",_="twenty-after-excerpt",E="twenty-inside-post",C="twenty-after-third-paragraph",T="twenty-amp-after-first-paragraph",L="recipes-above-header",$="recipes-below-header",z="recipes-list-sidebar",H="recipe-sidebar",F="recipes-above-comments",B="recipes-below-comments",U="recipes-below-ingredients",W="recipes-between-posts",M=(r={},Object(o.a)(r,d.G,(function(t){var e=t.commit;return Object(v.a)(d.G,this.$wordpressApi.fetchWidgets,this.app.$redisClient).then((function(data){return function(data){return data[k]&&e(d.fc,O(data[k],k)),data[S]&&e(d.Tb,O(data[S],S)),data[A]&&e(d.mc,O(data[A],A)),data[R]&&e(d.tc,O(data[R],R)),data[D]&&e(d.wc,O(data[D],D)),data[I]&&e(d.lc,O(data[I],I)),data[x]&&e(d.sc,O(data[x],x)),data[_]&&e(d.pc,O(data[_],_)),data[E]&&e(d.Vb,O(data[E],E)),data[C]&&e(d.qc,O(data[C],C)),data[T]&&e(d.rc,O(data[T],T)),data[P]&&e(d.zc,O(data[P],P)),data}(data)}))})),Object(o.a)(r,d.D,(function(t){var e=t.commit,n=t.rootState.route.fullPath;return this.$wordpressApi.fetchRecipeWidgets(n).then((function(t){var r,c,o,f,l,v,h,m,O,j,y=t.status,data=t.data;200===y&&(data[L]&&e(d.oc,data[L]),data[$]&&e(d.vc,data[$]),data[z]&&e(d.Ac,data[z]),data[H]&&e(d.Bc,data[H]),data[F]&&e(d.nc,data[F]),data[B]&&e(d.uc,data[B]),data[U]&&e(d.yc,data[U]),data[W]&&e(d.xc,data[W]),e(d.wb,{fullPath:n,data:{ingredients:null!==(r=null==data||null===(c=data.visibilityData)||void 0===c?void 0:c.ingredients)&&void 0!==r?r:[],dishTypes:null!==(o=null==data||null===(f=data.visibilityData)||void 0===f?void 0:f.dishTypes)&&void 0!==o?o:[],cuisines:null!==(l=null==data||null===(v=data.visibilityData)||void 0===v?void 0:v.cuisines)&&void 0!==l?l:[],keywords:null!==(h=null==data||null===(m=data.visibilityData)||void 0===m?void 0:m.keywords)&&void 0!==h?h:[],cookingMethods:null!==(O=null==data||null===(j=data.visibilityData)||void 0===j?void 0:j.cookingMethods)&&void 0!==O?O:[]}}))}))})),r),N=(c={},Object(o.a)(c,d.zc,(function(t,e){t.leftSidebar=Object.freeze(e)})),Object(o.a)(c,d.Vb,(function(t,e){t.insidePost=Object.freeze(e)})),Object(o.a)(c,d.fc,(function(t,e){t.sidebar=Object.freeze(e)})),Object(o.a)(c,d.Tb,(function(t,e){t.footer=Object.freeze(e)})),Object(o.a)(c,d.mc,(function(t,e){t.aboveHeader=Object.freeze(e)})),Object(o.a)(c,d.wc,(function(t,e){t.betweenPosts=Object.freeze(e)})),Object(o.a)(c,d.tc,(function(t,e){t.belowHeader=Object.freeze(e)})),Object(o.a)(c,d.pc,(function(t,e){t.afterExcerpt=Object.freeze(e)})),Object(o.a)(c,d.lc,(function(t,e){t.aboveComments=Object.freeze(e)})),Object(o.a)(c,d.sc,(function(t,e){t.belowComments=Object.freeze(e)})),Object(o.a)(c,d.qc,(function(t,e){t.afterThirdParagraph=Object.freeze(e)})),Object(o.a)(c,d.rc,(function(t,e){t.ampAfterFirstParagraph=Object.freeze(e)})),Object(o.a)(c,d.Bc,(function(t,e){t.recipeSidebar=Object.freeze(e)})),Object(o.a)(c,d.Ac,(function(t,e){t.recipesSidebar=Object.freeze(e)})),Object(o.a)(c,d.xc,(function(t,e){t.betweenRecipes=Object.freeze(e)})),Object(o.a)(c,d.nc,(function(t,e){t.aboveRecipeComments=Object.freeze(e)})),Object(o.a)(c,d.uc,(function(t,e){t.belowRecipeComments=Object.freeze(e)})),Object(o.a)(c,d.oc,(function(t,e){t.aboveRecipeHeader=Object.freeze(e)})),Object(o.a)(c,d.vc,(function(t,e){t.belowRecipeHeader=Object.freeze(e)})),Object(o.a)(c,d.yc,(function(t,e){t.insideRecipe=Object.freeze(e)})),c)},695:function(t,e,n){"use strict";n.r(e);var r=n(211),c=n(212),o=n(213),f=n(214);e.default={namespaced:!0,actions:r.default,mutations:c.default,getters:f.default,state:o.default}},9:function(t,e,n){"use strict";(function(t){n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"n",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"h",(function(){return v})),n.d(e,"i",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"k",(function(){return O})),n.d(e,"m",(function(){return j})),n.d(e,"l",(function(){return y})),n.d(e,"j",(function(){return w})),n.d(e,"a",(function(){return k}));n(12),n(25);var r=function(t){return"index"===t},c=function(t){return"string"==typeof t&&["single","single-topics"].includes(t)},o=function(t){return"preview"===t},f=function(t){return"top-all"===t},l=function(t){return"string"==typeof t&&["topics-all","author-all","tag-all","list-all","stream-all","top-all","archive-year","archive-month","archive-day"].includes(t)},d=function(t){return"string"==typeof t&&["archive-year","archive-month","archive-day"].includes(t)},v=function(t){return"string"==typeof t&&["profile-posts","profile-comments"].includes(t)},h=function(t){return"profile-posts"===t},m=function(t){return"profile-comments"===t},O=function(t){return"recipes-main-page"===t},j=function(t){return"TheRecipe"===t},y=function(t){return"recipes"===t||"recipes-with-page"===t},w=function(t){return"recipe-preview"===t},k=function(t){return j(t)||y(t)||w(t)||O(t)||function(t){return"TheRecipeAmp"===t}(t)}}).call(this,"/")},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r,c,o,f,l=n(99),d=n.n(l),v=n(1),h={authUrl:null!==(r="https://auth.lifehacker.ru")?r:"",pusherUrl:null!==(c="https://pusher.lifehacker.ru")?c:"",fullSearchUrl:null!==(o="https://fullsearch.lifehacker.ru")?o:"",accessTokenCookieName:null!==(f="accessToken")?f:""};e.b=function(t){var e=t.store;v.default.use(d.a,{store:e,config:h})}},98:function(t,e,n){"use strict";n.d(e,"b",(function(){return O}));var r=n(27),c=(n(270),n(32),n(532),n(22),n(46),n(286)),o=n(24),f=n.n(o),l=n(0),d=n(5),v=n(116);function h(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var m=function t(e,n,o,l,m,O,j,y){var w=this;Object(r.a)(this,t),this.permissionData=null,this.requestSafariPermission=function(){Object(d.a)("Уведомления о статьях","Подписаться","1");var t=w.SAFARI_PUSH_WEB_SERVICE_URL,e=w.SAFARI_PUSH_ID,n=w.sendNewSubToServer,r=w.subscribeCallBack;"safari"in window&&"pushNotification"in window.safari&&function c(o){"default"===o.permission?window.safari.pushNotification.requestPermission(t,e,{},c):"denied"===o.permission||"granted"===o.permission&&n({token:o.deviceToken,type:"safari",p256dh:null,auth:null}).then(r)}(window.safari.pushNotification.permission(e))},this.subscribeWeb=function(){setTimeout((function(){w.getPushSubObject().then((function(t){t&&w.sendNewSubToServer({token:t.endpoint,type:"web",p256dh:t.keys.p256dh,auth:t.keys.auth}).then(w.subscribeCallBack)}))}),500)},this.sendNewSubToServer=function(t){return w.$pushApi.addSubscription(t,w.browser)},this.tryToSubscribe=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w.isSafari?(t&&f.a.remove("hide-dialog-safari"),w.showSafariPushDialog()):w.subscribeWeb()},this.updateSubscriptionStatus=function(){var t;if(Object(v.a)())switch(null===(t=Notification)||void 0===t?void 0:t.permission){case"default":case"granted":w.getToken().then((function(t){return w.$pushApi.getDeviceInfo(t)})).then((function(t){200===t.status?t.data.data.subscribed?w.subscribeCallBack():w.unsubscribeCallBack():w.tryToSubscribe()})).catch(w.tryToSubscribe)}},this.unsubscribe=function(){var t;if(Object(v.a)())switch(null===(t=Notification)||void 0===t?void 0:t.permission){case"default":case"granted":w.getToken().then((function(t){return w.unsubRequest(t)})).catch((function(){}));break;default:alert("Не удалось подписаться на push-уведомления. Включите разрешение в браузере")}},this.subscribe=function(){var t;if(Object(v.a)())switch(null===(t=Notification)||void 0===t?void 0:t.permission){case"default":case"granted":w.getToken().then((function(t){return w.subRequest(t)})).catch((function(){w.tryToSubscribe(!0)}));break;default:alert("Не удалось подписаться на push-уведомления. Включите разрешение в браузере")}},this.subRequest=function(t){w.$pushApi.subscribe(t).then((function(t){t.data.success&&w.subscribeCallBack()})).catch((function(){}))},this.unsubRequest=function(t){w.$pushApi.unsubscribe(t).then((function(t){t.data.success&&w.unsubscribeCallBack()})).catch((function(){}))},this.getPushSubObject=function(){var t;return null!==(t=navigator)&&void 0!==t&&t.serviceWorker?(navigator.serviceWorker.register("/sw.js"),navigator.serviceWorker.ready.then((function(t){var e={userVisibleOnly:!0,applicationServerKey:h(w.PUSH_VAPID_PUBLIC_KEY)};return t.pushManager.subscribe(e)})).then((function(t){var e=JSON.stringify(t);return JSON.parse(e)}))):Promise.resolve(null)},this.getToken=function(){return new Promise((function(t,e){if(w.isSafari){var n=window.safari.pushNotification.permission(w.SAFARI_PUSH_ID).deviceToken;n?t(n):e(n)}else w.getPushSubObject().then((function(e){t(e.endpoint)}))}))},this.sendTestPush=function(){w.getToken().then((function(t){return w.$pushApi.sendTestPush(t)}))},this.isSafari="safari"in window,this.browser=Object(c.a)()||{name:navigator.userAgent,version:"",os:""},this.SAFARI_PUSH_ID=e,this.SAFARI_PUSH_WEB_SERVICE_URL=n,this.PUSH_VAPID_PUBLIC_KEY=o,this.subscribeCallBack=l,this.unsubscribeCallBack=m,this.showSafariPushDialog=O,this.hideSafariPushDialog=j,this.$pushApi=y};function O(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return new m("web.ru.lifehacker.push","https://push.lifehacker.ru/api/safari","BPzrEil_wFGBA72aCM4DAdOC-6NjWfdiUhIho1Cra9ctE4tx-z5zUUx6k8QuBYZZwfBEy6KiIKE1A_GkNgdH0NQ",(function(){t.commit(l.Fb),n()}),(function(){t.commit(l.Ib),r()}),(function(){f.a.get("hide-dialog-safari")||t.commit(l.Db)}),(function(){return t.commit(l.bb)}),e)}e.a=function(t){var e=t.store,n=t.app;window.onNuxtReady((function(){return function(t,e){var n=O(t,e.$pushApi);window.sendTestPush=n.sendTestPush,window.getPushToken=n.getToken,window.addEventListener("load",(function(){setTimeout(n.updateSubscriptionStatus,1e3)}),!1),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then((function(t){t.onchange=function(){"granted"===t.state&&n.updateSubscriptionStatus()}}))}(e,n)}))}}},[[781,31,24,28,29,27,30,25,26,32,35,34,33,39,38,36,37,40,23,19,16,15,22,20,21,18]]]);