/*! VK external video player / Release date: 11.08.2023 / Version: 3.1.3 */(()=>{"use strict";var e={678:(e,t,r)=>{r.d(t,{Z:()=>D});var i=r(81),o=r.n(i),n=r(645),a=r.n(n),s=r(667),l=r.n(s),c=new URL(r(781),r.b),u=new URL(r(468),r.b),d=new URL(r(511),r.b),p=new URL(r(329),r.b),f=new URL(r(883),r.b),b=new URL(r(724),r.b),h=new URL(r(608),r.b),v=new URL(r(503),r.b),y=new URL(r(590),r.b),m=new URL(r(675),r.b),g=new URL(r(715),r.b),w=a()(o());w.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap);"]),w.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;500;700;900&display=swap);"]);var P=l()(c),j=l()(u),O=l()(d),x=l()(p),C=l()(f),S=l()(b),I=l()(h),A=l()(v),M=l()(y),T=l()(m),E=l()(g);w.push([e.id,`@-webkit-keyframes bHeTp1DcIOBq47hjKIyy{0%,100%{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}40%{-webkit-transform:translateX(-5px);-moz-transform:translateX(-5px);-ms-transform:translateX(-5px);transform:translateX(-5px)}48%,64%{-webkit-transform:translateX(12px);-moz-transform:translateX(12px);-ms-transform:translateX(12px);transform:translateX(12px)}56%{-webkit-transform:translateX(5px);-moz-transform:translateX(5px);-ms-transform:translateX(5px);transform:translateX(5px)}}@-moz-keyframes bHeTp1DcIOBq47hjKIyy{0%,100%{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}40%{-webkit-transform:translateX(-5px);-moz-transform:translateX(-5px);-ms-transform:translateX(-5px);transform:translateX(-5px)}48%,64%{-webkit-transform:translateX(12px);-moz-transform:translateX(12px);-ms-transform:translateX(12px);transform:translateX(12px)}56%{-webkit-transform:translateX(5px);-moz-transform:translateX(5px);-ms-transform:translateX(5px);transform:translateX(5px)}}@-ms-keyframes bHeTp1DcIOBq47hjKIyy{0%,100%{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}40%{-webkit-transform:translateX(-5px);-moz-transform:translateX(-5px);-ms-transform:translateX(-5px);transform:translateX(-5px)}48%,64%{-webkit-transform:translateX(12px);-moz-transform:translateX(12px);-ms-transform:translateX(12px);transform:translateX(12px)}56%{-webkit-transform:translateX(5px);-moz-transform:translateX(5px);-ms-transform:translateX(5px);transform:translateX(5px)}}@keyframes bHeTp1DcIOBq47hjKIyy{0%,100%{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}40%{-webkit-transform:translateX(-5px);-moz-transform:translateX(-5px);-ms-transform:translateX(-5px);transform:translateX(-5px)}48%,64%{-webkit-transform:translateX(12px);-moz-transform:translateX(12px);-ms-transform:translateX(12px);transform:translateX(12px)}56%{-webkit-transform:translateX(5px);-moz-transform:translateX(5px);-ms-transform:translateX(5px);transform:translateX(5px)}}@-webkit-keyframes QTpGn98fb6TQZb6uJ9o9{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@-moz-keyframes QTpGn98fb6TQZb6uJ9o9{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@-ms-keyframes QTpGn98fb6TQZb6uJ9o9{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}@keyframes QTpGn98fb6TQZb6uJ9o9{0%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}}.pUxSmIH7lOWdNKT9_bRw{background-color:var(--adm-progress, #1c77ff);position:absolute;height:var(--adm-progress-height, 4px);bottom:calc(var(--side-bottom, 0) + var(--padding-bottom, 0));width:0;transition:width .3s linear 0s}.bpeOf0O5YCBAUrbODdK_{width:100%;height:100%;border:none}.gwcalKvC76KDW_Di_w2G{position:relative;box-sizing:border-box;overflow:hidden;transition:opacity .6s ease-in-out 0s,padding .6s ease-in-out 0s,max-height .6s ease-in-out 0s;padding:var(--padding-top, 0) var(--padding-right, 0) var(--padding-bottom, 0) var(--padding-left, 0);display:flex;flex-direction:column;justify-content:space-around;background-color:var(--overlay-bg);--offset-x: 16px;--offset-y: 12px;--adm-tr-func: 1s cubic-bezier(0.175, 0.885, 0.320, 1.275);--overlay-bg: rgba(0,0,0,0);--top: calc(var(--offset-y) + var(--side-top));--right: none;--bottom: none;--left: var(--offset-x);--padding-top: 0px;--padding-bottom: 0px;--padding-left: 0px;--padding-right: 0px;--adm-cta-button-bg: #1a79ff;--adm-cta-button-bg-hover: #367ee2;--adm-cta-button-color: #fff;--adm-control-bg: rgba(36, 36, 36, 0.8);--adm-control-bg-hover: rgba(36, 36, 36);--adm-control-color: #eee;--adm-progress: #1a79ff;--adm-cta-font-weight: 400;--adm-control-font-weight: 400;--side-left: 0px;--side-right: 0px;--side-top: 0px;--side-bottom: 0px;--left-align-offset: 0px;--right-align-offset: 0px;--total-right-offset: calc(var(--side-right) + var(--offset-x, 12px) + var(--right-align-offset) + var(--padding-right, 0));--total-left-offset: calc(var(--side-left) + var(--offset-x, 12px) + var(--left-align-offset) + var(--padding-left, 0))}.gwcalKvC76KDW_Di_w2G *{box-sizing:content-box;text-decoration:none}.gwcalKvC76KDW_Di_w2G[shape=brick]{--adm-control-radius: 0;--adm-cta-button-radius: 0}.gwcalKvC76KDW_Di_w2G[shape=round]{--adm-control-radius: 5px;--adm-cta-button-radius: 3px}.gwcalKvC76KDW_Di_w2G[shape=round][size=medium]{--adm-control-radius: 4px;--adm-cta-button-radius: 2px}.gwcalKvC76KDW_Di_w2G[shape=round][size=small]{--adm-control-radius: 3px;--adm-cta-button-radius: 2px}.gwcalKvC76KDW_Di_w2G[shape=smooth],.gwcalKvC76KDW_Di_w2G:not([shape]){--adm-control-radius: 9px;--adm-cta-button-radius: 7px}.gwcalKvC76KDW_Di_w2G[shape=smooth][size=medium],.gwcalKvC76KDW_Di_w2G:not([shape])[size=medium]{--adm-control-radius: 7px;--adm-cta-button-radius: 5px}.gwcalKvC76KDW_Di_w2G[shape=smooth][size=small],.gwcalKvC76KDW_Di_w2G:not([shape])[size=small]{--adm-control-radius: 6px;--adm-cta-button-radius: 4px}.gwcalKvC76KDW_Di_w2G[shape=circle][size=large]{--adm-control-radius: 18px;--adm-cta-button-radius: 14px}.gwcalKvC76KDW_Di_w2G[shape=circle][size=medium]{--adm-control-radius: 14px;--adm-cta-button-radius: 10px}.gwcalKvC76KDW_Di_w2G[shape=circle][size=small]{--adm-control-radius: 15px;--adm-cta-button-radius: 11px}.gwcalKvC76KDW_Di_w2G[size=large],.gwcalKvC76KDW_Di_w2G:not([size]){--adm-font-size: 15px;--adm-cta-area-padding: 5px 11px;--adm-cta-button-padding: 20px;--adm-control-size: 31px;--adm-button-height: 29px;--adm-disclaimer-padding: 8px 10px;--adm-progress-height: 4px;--gap: 8px}.gwcalKvC76KDW_Di_w2G[size=medium]{--adm-font-size: 13px;--adm-cta-area-padding: 4px 6px;--adm-cta-button-padding: 15px;--adm-control-size: 23px;--adm-button-height: 21px;--adm-disclaimer-padding: 4px 7px;--adm-progress-height: 3px;--gap: 6px}.gwcalKvC76KDW_Di_w2G[size=small]{--adm-font-size: 11px;--adm-cta-area-padding: 3px 5px;--adm-cta-button-padding: 10px;--adm-control-size: 19px;--adm-button-height: 15px;--adm-disclaimer-padding: 1px 5px;--adm-progress-height: 2px;--gap: 4px}.gwcalKvC76KDW_Di_w2G[size=small] .yMHIg4Vs0ddsap62jFKA{display:none}.gwcalKvC76KDW_Di_w2G[size=small] .e45XL35Lz_1hZShaLrsO{padding-right:var(--adm-cta-button-padding) !important}.gwcalKvC76KDW_Di_w2G[view=elegant]{--adm-cta-font-weight: 400;--adm-control-font-weight: 300;--adm-font: "Roboto"}.RtJMlcIeqd_25oIEurSO{color:var(--adm-control-color, white);background-color:var(--adm-control-bg);background-position:center;background-size:contain;background-repeat:no-repeat;height:var(--adm-control-size, 37px);font-family:var(--adm-font, "Open Sans"),sans-serif;font-size:var(--adm-font-size, 15px);line-height:var(--adm-button-height, 29px);font-weight:var(--adm-control-font-weight, 400);white-space:nowrap;text-overflow:ellipsis;position:absolute;cursor:pointer;z-index:100;border-radius:var(--adm-control-radius, 8px)}.RtJMlcIeqd_25oIEurSO:hover{background-color:var(--adm-control-bg-hover)}.yMHIg4Vs0ddsap62jFKA{background-color:var(--adm-cta-btn-color, white);display:inline-block;position:absolute;mask:url(${P});-webkit-mask:url(${P});width:15px;height:15px;top:calc(50% - 8px);right:15px;-webkit-animation:bHeTp1DcIOBq47hjKIyy 2s infinite;-moz-animation:bHeTp1DcIOBq47hjKIyy 2s infinite;-ms-animation:bHeTp1DcIOBq47hjKIyy 2s infinite;animation:bHeTp1DcIOBq47hjKIyy 2s infinite}.PqMSWbW2MB6Lp_MSJVas{bottom:calc(var(--offset-y, 12px) + var(--side-bottom, 0) + var(--padding-bottom, 0));left:calc(var(--offset-y, 12px) + var(--left-align-offset, 0) + var(--padding-left, 0));height:var(--adm-button-height, 29px);padding:var(--adm-cta-area-padding, 5px 11px);display:flex;flex-direction:row;flex:none;gap:var(--gap, 8px);align-items:center;font-weight:var(--adm-cta-font-weight, 400);max-size:100%;transition:bottom .6s ease-in-out 0s}.PqMSWbW2MB6Lp_MSJVas span{flex-shrink:1}.e45XL35Lz_1hZShaLrsO{color:var(--adm-cta-button-color, white);background:var(--adm-cta-button-bg);border-radius:var(--adm-cta-button-radius, 4px);padding:0 var(--adm-cta-button-padding, 20px);cursor:pointer;height:var(--adm-button-height, 29px);line-height:var(--adm-button-height, 29px);position:relative;white-space:nowrap;text-overflow:ellipsis;flex-shrink:1}.e45XL35Lz_1hZShaLrsO:hover{background:var(--adm-cta-button-bg-hover)}.uTAn5zy20xLLk6QcA4Ds{height:var(--adm-button-height, 29px);bottom:calc(var(--offset-y, 12px) + var(--side-bottom, 0) + var(--padding-bottom, 0));right:var(--total-right-offset);padding:var(--adm-cta-area-padding, 5px 15px)}.ieBMNw42qmAYHe5KtnkJ{background-image:url(${j});background-repeat:no-repeat;width:14px;height:9px;background-position:center;display:inline-block}.m7UbQibCyATGzCtUCbUI{top:calc(var(--offset-y, 12px) + var(--side-top) + var(--padding-top, 0));right:var(--total-right-offset);width:var(--adm-control-size, 37px);background-image:url(${O})}.DRtwcsW363_siVK5cvXG{background-image:url(${x})}.x18GKp2WdclFkWemqLkG{top:calc(var(--offset-y, 12px) + var(--side-top) + var(--padding-top, 0));right:calc(var(--total-right-offset) + var(--adm-control-size, 37px));height:var(--adm-control-size, 37px);width:var(--adm-control-size, 37px);background-image:url(${C})}.JyYLBPeVBN3CY_lKr5LM{right:calc(var(--offset-y, 12px) + var(--padding-right, 0))}.mO4iqxDp95XhKH8RrxNv{display:flex;flex-direction:column;margin:0 15px 0 0}.mO4iqxDp95XhKH8RrxNv .CzdDwcxS_uIOqVCbIm4K{font-size:9px;line-height:9px;color:#adadad}.NlG9OI0L2la891Nrt2ul{width:var(--adm-button-height, 29px);height:var(--adm-button-height, 29px);transition:none}.MVFiHwB61KgxndqzymlS{border-radius:var(--adm-control-radius, 8px);background:var(--adm-control-bg);color:var(--adm-control-color, white);font-family:var(--adm-font, "Open Sans"),sans-serif;font-size:var(--adm-font-size, 15px);font-weight:var(--adm-control-font-weight, 400);line-height:var(--adm-font-size, 15px);padding:var(--adm-disclaimer-padding, 11px 12px 11px 16px);cursor:pointer;display:flex;flex-direction:row;align-items:center;gap:var(--gap, 8px);position:absolute;font-style:normal;pointer-events:auto;left:calc(var(--left, var(--offset-x)) + var(--left-align-offset, 0px) + var(--left-side, 0px) + var(--padding-left, 0));top:calc(var(--top) + var(--side-top) + var(--padding-top, 0));z-index:100}.MVFiHwB61KgxndqzymlS:hover{background:var(--adm-control-bg-hover)}.BvtFuPxUYY4KPwydhy2j{display:flex;flex-direction:row;align-items:center;gap:var(--gap, 8px)}.CN_Hg6VU0C5tS6Mt2FF5{display:none}.zJ5LNMDATRekRJU3CMNj,.Ta9vLYRTi04ru9KL8HbN{display:flex;font-weight:var(--adm-control-font-weight, 400)}.aFuW7Ses0JKnvsIypYpt{background-image:url(${S});width:var(--adm-font-size, 15px);height:var(--adm-font-size, 15px);margin-left:var(--gap, 8px);background-size:contain}.mhtBRAZ7Bc3N9bwgqMF4,.NyThTQh8fIkXN60c7t9U{background-repeat:no-repeat;width:15px;height:15px;background-position:center}.mhtBRAZ7Bc3N9bwgqMF4{background-image:url(${I})}.NyThTQh8fIkXN60c7t9U{background-image:url(${A})}.hZzWil6r54axB4oPFn43{flex-direction:column;align-items:flex-start;display:none;width:230px}.z5YiVKi25TBd5ptxCweA{display:flex}.LjYySxOx9zEN2jyB33DQ{width:100%;display:flex;flex-direction:row;justify-content:space-between}.ppK2TYRcTMHgb6yPNjtL{display:flex}.bLuHwZdVjax6mQIgyRxV{background-image:url(${M});filter:opacity(50%);background-repeat:no-repeat;width:10px;background-position:center}.bLuHwZdVjax6mQIgyRxV:hover{filter:opacity(1)}.yIRoK61VxOegXtP06irk{width:100%;display:flex;color:#fff;filter:opacity(70%);border-radius:8px;margin-top:8px}.yIRoK61VxOegXtP06irk:hover{filter:opacity(1)}.sSPSgkUSu81NAozQcfoS{background-image:url(${T});background-repeat:no-repeat;width:17px;height:17px;background-position:center}.WbcdeP79HsGBZAQC3NS9{margin-left:8px}.kaaxNNNpPBLjCvxD2ipM{width:100%;display:flex;align-items:center;color:#fff;filter:opacity(70%);border-radius:8px;margin-top:8px}.kaaxNNNpPBLjCvxD2ipM:hover{filter:opacity(1)}.kaaxNNNpPBLjCvxD2ipM span{display:block}.ou_ZmSvctKtBfOYcyp4Q{background-image:url(${E});background-repeat:no-repeat;width:17px;height:17px;background-position:center;color:#fff}.Xow1NSgqKkCPkS5yhnOh{display:block}.O7D3qpx4cz2oLpb8cgoV{margin-left:8px}.UZUd0RkLTHJqTEdBpt4F{margin-left:8px;opacity:.8}.bF6sVF3ypWMWvLl0jwQ8{text-transform:uppercase;-webkit-box-shadow:2px 2px 4px 0px rgba(34,60,80,.6);-moz-box-shadow:2px 2px 4px 0px rgba(34,60,80,.6);box-shadow:2px 2px 4px 0px rgba(34,60,80,.6);transition:bottom .1s ease-in 0s,background-color .25s ease-out 0s}.bF6sVF3ypWMWvLl0jwQ8:hover{bottom:1px}.QTpGn98fb6TQZb6uJ9o9{-webkit-animation:QTpGn98fb6TQZb6uJ9o9 1s infinite;-moz-animation:QTpGn98fb6TQZb6uJ9o9 1s infinite;-ms-animation:QTpGn98fb6TQZb6uJ9o9 1s infinite;animation:QTpGn98fb6TQZb6uJ9o9 1s infinite;animation-timing-function:ease-in-out}.hteFBWSgDlFV05W8cwZW{background-color:var(--adm-control-bg);background:linear-gradient(100deg, rgba(255, 255, 255, 0) 43%, rgba(255, 255, 255, 0.4) 50%, rgba(255, 255, 255, 0) 57%) var(--adm-control-bg);background-size:200% 100%;background-position-x:180%;animation:2s WDBNrMQ8llPyOCgRTEhy ease-in-out infinite}.e9nGMwGTg6kvIZ1lz2tA{height:100%;width:100%;transition:opacity .6s ease-in-out 0s,max-height .6s ease-in-out 0s,height .6s ease-in-out 0s,width .6s ease-in-out 0s;overflow:hidden;box-sizing:border-box}.Fr3ylfbh1siyyyd6iVMC{overflow:hidden;background-color:var(--adm-side-bg, Cornsilk)}._o3H63VeAfbcx41OG3_i{background-color:var(--adm-overlay-bg, #4bb);flex-grow:1}.gnOjsPnK9_SYJLIMxRW9{block-size:fit-content;color:var(--adm-side-color, #505050);font:24px/24px "Roboto",sans-serif;font-weight:var(--adm-side-fontWeight, 300);transform-origin:left top;text-transform:uppercase;width:auto;display:inline-block;white-space:nowrap;margin:0 auto;letter-spacing:normal}.xA1IUjBbEmN24e0qT1Ue{height:auto;font-weight:var(--adm-side-fontWeight, 300);visibility:hidden;position:absolute;left:-1000px;top:-1000px}@keyframes WDBNrMQ8llPyOCgRTEhy{to{background-position-x:-20%}}`,""]),w.locals={progress_bar:"pUxSmIH7lOWdNKT9_bRw",player_frame:"bpeOf0O5YCBAUrbODdK_",player_container:"gwcalKvC76KDW_Di_w2G",controls_rightArrow:"yMHIg4Vs0ddsap62jFKA",controls_cta_button:"e45XL35Lz_1hZShaLrsO",controls:"RtJMlcIeqd_25oIEurSO",bounce:"bHeTp1DcIOBq47hjKIyy",controls_cta:"PqMSWbW2MB6Lp_MSJVas",controls_skip:"uTAn5zy20xLLk6QcA4Ds",controls_skip_icon:"ieBMNw42qmAYHe5KtnkJ",controls_volume:"m7UbQibCyATGzCtUCbUI",controls_volume_on:"DRtwcsW363_siVK5cvXG",controls_replay:"x18GKp2WdclFkWemqLkG",controls_replay_no_volume:"JyYLBPeVBN3CY_lKr5LM",container:"mO4iqxDp95XhKH8RrxNv",cta_link:"CzdDwcxS_uIOqVCbIm4K",logo:"NlG9OI0L2la891Nrt2ul",actionBlock:"MVFiHwB61KgxndqzymlS",disclaimerWrap:"BvtFuPxUYY4KPwydhy2j",disclaimerWrap_hidden:"CN_Hg6VU0C5tS6Mt2FF5",disclaimerBank_disclaimer:"zJ5LNMDATRekRJU3CMNj",disclaimerBank_timer:"Ta9vLYRTi04ru9KL8HbN",disclaimerBank_timeicon:"aFuW7Ses0JKnvsIypYpt",disclaimerBank_adchoice:"mhtBRAZ7Bc3N9bwgqMF4",disclaimerBank_adchoice2:"NyThTQh8fIkXN60c7t9U",actions:"hZzWil6r54axB4oPFn43",actions_visible:"z5YiVKi25TBd5ptxCweA",actions_header:"LjYySxOx9zEN2jyB33DQ",actions_header_headerText:"ppK2TYRcTMHgb6yPNjtL",actions_header_button:"bLuHwZdVjax6mQIgyRxV",actions_about:"yIRoK61VxOegXtP06irk",actions_about_aboutPicture:"sSPSgkUSu81NAozQcfoS",actions_about_aboutText:"WbcdeP79HsGBZAQC3NS9",actions_copy:"kaaxNNNpPBLjCvxD2ipM",actions_copy_copyPicture:"ou_ZmSvctKtBfOYcyp4Q",actions_copy_cont:"Xow1NSgqKkCPkS5yhnOh",actions_copy_cont_copyText:"O7D3qpx4cz2oLpb8cgoV",actions_copy_cont_id:"UZUd0RkLTHJqTEdBpt4F","presets-first":"bF6sVF3ypWMWvLl0jwQ8",scaling:"QTpGn98fb6TQZb6uJ9o9",backlight:"hteFBWSgDlFV05W8cwZW",loading:"WDBNrMQ8llPyOCgRTEhy",subContainer:"e9nGMwGTg6kvIZ1lz2tA",sideBlock:"Fr3ylfbh1siyyyd6iVMC",overlaySide:"_o3H63VeAfbcx41OG3_i",sideText:"gnOjsPnK9_SYJLIMxRW9",measureText:"xA1IUjBbEmN24e0qT1Ue"};const D=w},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",i=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),i&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),i&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,i,o,n){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&a[u[0]]||(void 0!==n&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=n),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,i=0;i<t.length;i++)if(t[i].identifier===e){r=i;break}return r}function i(e,i){for(var n={},a=[],s=0;s<e.length;s++){var l=e[s],c=i.base?l[0]+i.base:l[0],u=n[c]||0,d="".concat(c," ").concat(u);n[c]=u+1;var p=r(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var b=o(f,i);i.byIndex=s,t.splice(s,0,{identifier:d,updater:b,references:1})}a.push(d)}return a}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var n=i(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<n.length;a++){var s=r(n[a]);t[s].references--}for(var l=i(e,o),c=0;c<n.length;c++){var u=r(n[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}n=l}}},569:e=>{var t={};e.exports=function(e,r){var i=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var i="";r.supports&&(i+="@supports (".concat(r.supports,") {")),r.media&&(i+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(i+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),i+=r.css,o&&(i+="}"),r.media&&(i+="}"),r.supports&&(i+="}");var n=r.sourceMap;n&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},781:e=>{e.exports='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"%3E%3Cpath d="M9.23 3.98a.74.74 0 0 1 1.04 0l3 3c.3.29.3.75 0 1.04l-3 3c-.3.23-.71.2-.98-.06a.75.75 0 0 1-.06-.98l1.71-1.73H2.25a.75.75 0 0 1 0-1.5h8.7L9.21 5.02a.75.75 0 0 1 0-1.04Zm0 0" fill-rule="evenodd"/%3E%3C/svg%3E'},590:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMCAxMCI+PHBhdGggZD0ibTEuMjUgMS4yNSA3LjUgNy41bS03LjUgMCA3LjUtNy41IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iI2ZmZiIvPjwvc3ZnPgo="},608:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNCAxNCI+PHBhdGggZD0iTTcgMTIuODNBNS44MyA1LjgzIDAgMSAwIDcgMS4xN2E1LjgzIDUuODMgMCAwIDAgMCAxMS42NlptMC03djQuNjdtMC03djEuMTciIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iMS40IiBzdHJva2U9IiNmZmYiLz48L3N2Zz4K"},503:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0id2hpdGUiPjxwYXRoIGQ9Ik04LjY3IDMuOThjMC0uNjQtLjUzLTEuMTctMS4xNy0xLjE3LS42NCAwLTEuMTcuNTMtMS4xNyAxLjE3IDAgLjY1LjUzIDEuMTggMS4xNyAxLjE4LjY0IDAgMS4xNy0uNTMgMS4xNy0xLjE4Wm0wIDcuMDRjMC0uNjUtLjUzLTEuMTgtMS4xNy0xLjE4YTEuMTggMS4xOCAwIDAgMCAwIDIuMzRjLjY0IDAgMS4xNy0uNTIgMS4xNy0xLjE2Wm0wLTMuNTJjMC0uNjQtLjUzLTEuMTctMS4xNy0xLjE3LS42NCAwLTEuMTcuNTMtMS4xNyAxLjE3IDAgLjY0LjUzIDEuMTcgMS4xNyAxLjE3LjY0IDAgMS4xNy0uNTMgMS4xNy0xLjE3Wm0wIDAiLz48L3N2Zz4K"},715:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxOCI+PHBhdGggZD0iTTEwLjY3Ljc1aC04Yy0uNzQgMC0xLjM0LjY4LTEuMzQgMS41djEwLjVoMS4zNFYyLjI1aDhabTIgM0g1LjMzQzQuNiAzLjc1IDQgNC40MyA0IDUuMjV2MTAuNWMwIC44Mi42IDEuNSAxLjMzIDEuNWg3LjM0Yy43MyAwIDEuMzMtLjY4IDEuMzMtMS41VjUuMjVjMC0uODItLjYtMS41LTEuMzMtMS41Wm0wIDEySDUuMzNWNS4yNWg3LjM0Wm0wIDAiIGZpbGw9IndoaXRlIi8+PC9zdmc+Cg=="},675:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNyAxNyI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZT0iI2ZmZiI+PHBhdGggZD0iTTIuMTIgOC41YTYuMzggNi4zOCAwIDEgMCAxMi43NiAwIDYuMzggNi4zOCAwIDAgMC0xMi43NiAwTTEwLjYyIDYuMzdsLTQuMjUgNC4yNSIgc3Ryb2tlLXdpZHRoPSIxLjQiLz48cGF0aCBkPSJNMTAuNjIgMTAuNjJWNi4zN0g2LjM3IiBzdHJva2Utd2lkdGg9IjEuNCIvPjwvZz48L3N2Zz4K"},724:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyBzdHJva2U9IndoaXRlIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIwIiB2aWV3Qm94PSIwIDAgMTYgMTYiIGhlaWdodD0iMWVtIiB3aWR0aD0iMWVtIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik04IDMuNWEuNS41IDAgMCAwLTEgMFY5YS41LjUgMCAwIDAgLjI1Mi40MzRsMy41IDJhLjUuNSAwIDAgMCAuNDk2LS44NjhMOCA4LjcxVjMuNXoiPjwvcGF0aD48cGF0aCBkPSJNOCAxNkE4IDggMCAxIDAgOCAwYTggOCAwIDAgMCAwIDE2em03LThBNyA3IDAgMSAxIDEgOGE3IDcgMCAwIDEgMTQgMHoiPjwvcGF0aD48L3N2Zz4K"},468:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMTRweCIgZmlsbD0iI2ZmZiIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iMTRweCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PHBhdGggZD0iTTE4NC43LDQxMy4xbDIuMS0xLjhsMTU2LjUtMTM2YzUuMy00LjYsOC42LTExLjUsOC42LTE5LjJjMC03LjctMy40LTE0LjYtOC42LTE5LjJMMTg3LjEsMTAxbC0yLjYtMi4zICBDMTgyLDk3LDE3OSw5NiwxNzUuOCw5NmMtOC43LDAtMTUuOCw3LjQtMTUuOCwxNi42aDB2Mjg2LjhoMGMwLDkuMiw3LjEsMTYuNiwxNS44LDE2LjZDMTc5LjEsNDE2LDE4Mi4yLDQxNC45LDE4NC43LDQxMy4xeiIvPjwvc3ZnPgo="},883:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8dGl0bGUvPgogPGRlc2MvPgoKIDxnPgogIDx0aXRsZT5iYWNrZ3JvdW5kPC90aXRsZT4KICA8cmVjdCBmaWxsPSJub25lIiBpZD0iY2FudmFzX2JhY2tncm91bmQiIGhlaWdodD0iMjIiIHdpZHRoPSIyMSIgeT0iLTEiIHg9Ii0xIi8+CiA8L2c+CiA8Zz4KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+CiAgPHBhdGggZmlsbD0iI2ZmZmZmZiIgc3Ryb2tlPSJudWxsIiBpZD0iU2hhcGUiIGQ9Im05LjYzNDA4Niw2LjMzMTYyMWwwLC0xLjkyMTY1NWwtMi40MDIwNjgsMi40MDIwNjhsMi40MDIwNjgsMi40MDIwNjhsMCwtMS45MjE2NTVjMS41ODUzNjUsMCAyLjg4MjQ4MiwxLjI5NzExNyAyLjg4MjQ4MiwyLjg4MjQ4MmMwLDEuNTg1MzY1IC0xLjI5NzExNywyLjg4MjQ4MiAtMi44ODI0ODIsMi44ODI0ODJjLTEuNTg1MzY1LDAgLTIuODgyNDgyLC0xLjI5NzExNyAtMi44ODI0ODIsLTIuODgyNDgybC0wLjk2MDgyNywwYzAsMi4xMTM4MiAxLjcyOTQ4OSwzLjg0MzMwOSAzLjg0MzMwOSwzLjg0MzMwOWMyLjExMzgyLDAgMy44NDMzMDksLTEuNzI5NDg5IDMuODQzMzA5LC0zLjg0MzMwOWMwLC0yLjExMzgyIC0xLjcyOTQ4OSwtMy44NDMzMDkgLTMuODQzMzA5LC0zLjg0MzMwOWwwLDB6Ii8+CiA8L2c+Cjwvc3ZnPg=="},511:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDM2IDM2IiBzdHlsZT0iZmlsbDojZmZmIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTB9PC9zdHlsZT48dGl0bGU+QXNzZXQgMzwvdGl0bGU+PGcgaWQ9IkxheWVyXzIiPjxnIGlkPSJMYXllcl8xLTIiPjxyZWN0IHg9IjcuNiIgeT0iMTQiIHdpZHRoPSI1IiBoZWlnaHQ9IjgiIC8+PHBvbHlnb24gcG9pbnRzPSIxMS42LDE0LjYgMTUuNiwxMCAxNi42LDEwIDE2LjYsMjYgMTUuNiwyNiAxMS42LDIxLjQiIC8+PGxpbmUgY2xhc3M9InN0MCIgeDE9IjE5LjYiIHkxPSIxNCIgeDI9IjI3LjYiIHkyPSIyMiIgLz48bGluZSBjbGFzcz0ic3QwIiB4MT0iMTkuNiIgeTE9IjIyIiB4Mj0iMjcuNiIgeTI9IjE0IiAvPjwvZz48L2c+PC9zdmc+"},329:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDM2IDM2IiBzdHlsZT0iZmlsbDojZmZmIiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGU+LnN0MHtmaWxsOm5vbmU7c3Ryb2tlOiNmZmY7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLW1pdGVybGltaXQ6MTB9PC9zdHlsZT48dGl0bGU+QXNzZXQgNTwvdGl0bGU+PGcgaWQ9IkxheWVyXzIiPjxnIGlkPSJMYXllcl8xLTIiPjxyZWN0IHg9IjkiIHk9IjE0IiB3aWR0aD0iNSIgaGVpZ2h0PSI4IiAvPjxwb2x5Z29uIHBvaW50cz0iMTMsMTQuNiAxNywxMCAxOCwxMCAxOCwyNiAxNywyNiAxMywyMS40IiAvPjxsaW5lIGNsYXNzPSJzdDAiIHgxPSIyNiIgeTE9IjEwIiB4Mj0iMjYiIHkyPSIyNiIgLz48bGluZSBjbGFzcz0ic3QwIiB4MT0iMjIiIHkxPSIyMSIgeDI9IjIyIiB5Mj0iMTUiIC8+PC9nPjwvZz48L3N2Zz4="}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={id:i,exports:{}};return e[i](n,n.exports,r),n.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.b=document.baseURI||self.location.href,r.nc=void 0,(()=>{var e,t,i,o,n,a,s,l,c,u,d,p;function f(e){var t,r=!1;if("number"==typeof e)t=[Math.round(e),1];else{if("string"!=typeof e)return null;var i=parseFloat(e);if(r=e.endsWith("%"),isNaN(i))return null;t=[Math.round(i),r?2:1]}return{size:"".concat(t[0]).concat(r?"%":"px"),sizeValue:t[0]/(r?100:1),sizeUnit:t[1]}}function b(e,t){if(e instanceof HTMLElement&&"object"==typeof t)for(var r in t)e.style[r]=t[r]}function h(e,t){if(e instanceof HTMLElement&&"object"==typeof t)for(var r in t)e.style.setProperty(r,t[r])}function v(e,t){var r=document.createElement(e),i=t.classes,o=t.innerText,n=t.appendTo,a=t.styles;return Array.isArray(i)?i.forEach((function(e){return r.classList.add(e)})):i&&r.classList.add(i),a&&b(r,a),o&&(r.innerText=o),n instanceof HTMLElement&&n.append(r),r}function y(e){var t,r=e?Array.isArray(e)?e:"object"==typeof e?Object.keys(e):[e]:[];do{t=Date.now().toString(36)+Math.random().toString(36).slice(2)}while(r.includes(t));return t}function m(e){var t;return e instanceof HTMLElement&&!(e.innerHTML||e.hasChildNodes()||(null===(t=e.children)||void 0===t?void 0:t.length))}function g(e){return e instanceof HTMLElement&&"fixed"===e.style.getPropertyValue("position").toLowerCase()}function w(e){return"string"==typeof e&&e.endsWith("%")?e:"".concat(parseInt(e),"px")}!function(e){e.medical="medical",e.alcohol="alcohol",e.beer="beer",e.tobacco="tobacco",e.drugs="drugs",e.dietary="dietary",e.declaration="declaration"}(e||(e={})),function(e){e.html="html",e.plain="plain",e.empty="empty"}(t||(t={})),function(e){e.preroll="preroll",e.midroll="midroll",e.postroll="postroll",e.pauseroll="pauseroll",e.overlay="overlay",e.autostart="autostart",e.logging="logging"}(i||(i={})),function(e){e.video="video",e.html="html",e.additionalData="additionalData"}(o||(o={})),function(e){e.disclaimer="disclaimer",e.adchoice="adchoice",e.adchoice2="adchoice2",e.timer="timer",e.timeicon="timeicon"}(n||(n={})),function(e){e.log="log",e.info="info",e.error="error",e.warn="warn",e.table="table"}(a||(a={})),function(e){e.AdImpression="AdImpression",e.AdVideoFirstQuartile="AdVideoFirstQuartile",e.AdVideoMidpoint="AdVideoMidpoint",e.AdVideoThirdQuartile="AdVideoThirdQuartile",e.AdLoaded="AdLoaded",e.AdLoadedMetaData="AdLoadedMetaData",e.AdLoadedData="AdLoadedData",e.AdLoadStart="AdLoadStart",e.AdTimeUpdate="AdTimeUpdate",e.AdCanPlay="AdCanPlay",e.AdVolumeChange="AdVolumeChange",e.AdError="AdError",e.AdSkipped="AdSkipped",e.AdStarted="AdStarted",e.AdVideoStart="AdVideoStart",e.AdPlaying="AdPlaying",e.AdPaused="AdPaused",e.AdStopped="AdStopped",e.AdVideoComplete="AdVideoComplete",e.AdClickThru="AdClickThru",e.AdSkippableStateChange="AdSkippableStateChange",e.AdDurationChange="AdDurationChange",e.AdInteraction="AdInteraction",e.AdEnded="AdEnded",e.ready="ready",e.chunkLoaded="chunkLoaded",e.inited="inited",e.removed="removed"}(s||(s={})),function(e){e.viewin="viewin",e.impression="impression",e.resume="resume",e.play="play",e.pause="pause",e.click="click",e.volumeChanged="volumeChanged",e.skipped="skipped",e.second1="second1",e.second2="second2",e.second3="second3",e.second5="second5",e.second10="second10",e.second20="second20",e.second30="second30",e.quartile1="quartile1",e.quartile2="quartile2",e.quartile3="quartile3",e.percent95="percent95",e.complete="complete",e.start="start",e.playbackStarted="playbackStarted",e.load="load"}(l||(l={})),c||(c={}),function(e){e[e.ready=0]="ready",e[e.playing=1]="playing",e[e.pause=2]="pause",e[e.ended=3]="ended",e[e.waitPlay=4]="waitPlay",e[e.waitReplay=5]="waitReplay"}(u||(u={})),function(e){e.top="top",e.center="center",e.bottom="bottom"}(d||(d={})),function(e){e.random="random",e.stripProtocol="stripProtocol",e.domain="domain",e.adset="adset"}(p||(p={}));var P=!(!window.localStorage||!~["1","true"].indexOf(window.localStorage.getItem("isDeveloper"))),j=window.console;function O(e){void 0===e&&(e=a.log);for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];P&&(t.unshift("%c AdMan:","color:#0177ff;font-weight:bold"),j[e].apply(e,t))}var x,C,S=function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},I=function(){function e(){return Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prevState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.listeners={},Object.defineProperty(this,"prevState",{value:{},enumerable:!1,writable:!0}),this}return Object.defineProperty(e.prototype,"makePrevState",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e={};Object.assign(e,this),this.prevState=e}}),Object.defineProperty(e.prototype,"bulkPropsInit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;Array.isArray(e)&&e.forEach((function(e){return r[e]=t}))}}),Object.defineProperty(e.prototype,"copyPropsInit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;"object"==typeof e&&Array.isArray(t)&&t.forEach((function(t){var i;return r[t]=null!==(i=e[t])&&void 0!==i?i:r[t]}))}}),Object.defineProperty(e.prototype,"setProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if("object"!=typeof e)return O(a.error,"Error of setProps with non-object data");this.makePrevState();var r=[];for(var i in e)this[i]!==e[i]&&(t&&O(a.log,"update prop: ".concat(i," to ").concat(e[i]," from ").concat(this[i])),r.push(i),this[i]=e[i]);this.runListeners(r,t)}}),Object.defineProperty(e.prototype,"pushValues",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.makePrevState();var r=this[e];if(Array.isArray(r))r.push.apply(r,t);else{if(e in this)return;this[e]=S([],t,!0)}this.runListeners([e])}}),Object.defineProperty(e.prototype,"subscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,i="string"==typeof e?[e]:e;"function"==typeof t&&Array.isArray(i)&&i.forEach((function(e){"string"==typeof e&&(Array.isArray(r.listeners[e])?r.listeners[e].includes(t)||r.listeners[e].push(t):r.listeners[e]=[t])}))}}),Object.defineProperty(e.prototype,"unSubscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,i="string"==typeof e?[e]:e;"function"==typeof t&&Array.isArray(i)&&i.forEach((function(e){if("string"==typeof e&&e in r.listeners){var i=r.listeners[e].findIndex((function(e){return e===t}));~i||r.listeners[e].splice(i,1)}}))}}),Object.defineProperty(e.prototype,"delProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,r="string"==typeof e?[e]:e;if(Array.isArray(r)){this.makePrevState();var i=[];r.forEach((function(e){e in t&&(delete t[e],i.push(e))})),this.runListeners(i)}}}),Object.defineProperty(e.prototype,"runListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t=!1),e.forEach((function(e){t&&O(a.log,"runListeners for prop: ".concat(e,".")),Array.isArray(r.listeners[e])&&r.listeners[e].length&&r.listeners[e].forEach((function(e){e(r,r.prevState)}))}))}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){delete this.listeners,delete this.prevState}}),e}(),A=(x=function(e,t){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},x(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),M=new(function(e){function t(){var t=e.call(this)||this;return Object.defineProperty(t,"players",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"runnerLoaded",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"sessionId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.players={},t.sessionId=y(),t.runnerLoaded=!1,t.setClient(),t}return A(t,e),Object.defineProperty(t.prototype,"setClient",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.client=Object.assign({isFramed:Boolean(window.frameElement),origin:location.origin},function(){try{var e=navigator.userAgent.toLowerCase(),t=void 0,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?void(t=/\brv[ :]+(\d+)/g.exec(e)||[]):"Chrome"===r[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?{ua:t[1].replace("OPR","Opera"),ver:t[2]||""}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&r.splice(1,1,t[1]),{ua:r[0],ver:r[1]})}catch(e){return{ua:"unknown",ver:""}}}()),["origin","port","hash","search","pathname"].forEach((function(t){location[t]&&"/"!==location[t]&&(e.client[t]=location[t])}));try{document.referrer&&(this.client.referrer=document.referrer)}catch(e){this.client.referrer="[denied]"}}}),Object.defineProperty(t.prototype,"registerPlayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.playerId)return e.playerId;var t=y(this.players);return this.players[t]=e,t}}),Object.defineProperty(t.prototype,"unRegisterEngine",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this.players[e]&&(delete this.players[e],!0)}}),Object.defineProperty(t.prototype,"setRunnerLoaded",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setProps({runnerLoaded:!0})}}),t}(I)),T="https://ad.mail.ru/adman3/stats/tech";!function(e){e[e.INITED=-2]="INITED",e[e.UNDEFINED=-1]="UNDEFINED",e[e.READY=0]="READY",e[e.PLAYING=1]="PLAYING",e[e.PAUSE=2]="PAUSE",e[e.ENDED=3]="ENDED",e[e.WAIT_REPLAY=4]="WAIT_REPLAY",e[e.REPLAY=5]="REPLAY"}(C||(C={}));var E={positionX:"left",positionY:"top",offsetX:"12px",offsetY:"12px",disclaimerText:"Реклама",headerText:"Рекламное объявление",aboutText:"О рекламодателе",copyText:"Скопировать ID объявления"},D={right:{"margin-left":"auto"},left:{"margin-right":"auto"},center:{margin:"0 auto"}},k=function(){return k=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},k.apply(this,arguments)};function L(e,t,r){void 0===r&&(r={});var i=k({event_id:t,session_id:M.sessionId},r);O(a.log,"Event #".concat(t," happened.")),z(e,{type:"event",body:i})}function _(e,t){var r,i,o=null===(i=null===(r=null==e?void 0:e.store)||void 0===r?void 0:r.creativesToPlay)||void 0===i?void 0:i[t];return"object"==typeof o?{type:o.type,bannerID:o.bannerID}:{}}function N(e,t,r){var i;void 0===r&&(r={});var o=t instanceof Error?700:t,n=k(k({event_id:o,ver:"3.1.3",session_id:M.sessionId,client:M.client},t instanceof Error?k({Error:t.message},"code"in t?{code:t.code}:{}):{}),r),s=null===(i=null==e?void 0:e.store)||void 0===i?void 0:i.userConfig;return(null==s?void 0:s.container)&&(n.container=s.container),(null==s?void 0:s.slot)&&(n.slot=s.slot),z(e,{body:n}).then((function(e){return O(a.log,"Event #".concat(o," happened.")),Promise.resolve(e)}))}function z(e,t){var r,i,o=t.type,n=void 0===o?"event":o,s=t.method,l=void 0===s?"POST":s,c=t.body,u=["error","creative"].includes(n)?n:"tech",d=(null===(i=null===(r=null==e?void 0:e.store)||void 0===r?void 0:r.logging)||void 0===i?void 0:i[u])||T;return fetch(d,{method:l,mode:"no-cors",headers:{"Content-Type":"application/json"},body:encodeURIComponent(JSON.stringify(c))}).catch((function(e){O(a.error,"Error of sending event #".concat(c.event_id,". Body:"),c),O(a.error,e)}))}var R=/\?/;function V(e,t){return void 0===t&&(t={}),(e.startsWith("//")?"https:"+e:e)+(R.test(e)?"&":"?")+new URLSearchParams(t).toString()}var B=r(379),W=r.n(B),H=r(795),U=r.n(H),G=r(569),Y=r.n(G),Z=r(565),X=r.n(Z),F=r(216),K=r.n(F),Q=r(589),J=r.n(Q),q=r(678),$={};$.styleTagTransform=J(),$.setAttributes=X(),$.insert=Y().bind(null,"head"),$.domAPI=U(),$.insertStyleElement=K();W()(q.Z,$);const ee=q.Z&&q.Z.locals?q.Z.locals:void 0;var te,re={container:{ctaStartShift:function(e){var t,r,i,o=null===(i=null===(r=null===(t=e.modules.CreativeControls)||void 0===t?void 0:t.modules)||void 0===r?void 0:r.cta)||void 0===i?void 0:i.element;o instanceof HTMLElement&&o.style.setProperty("left","-100%")},ctaLogoRise:function(e){var t,r,i,o=null===(i=null===(r=null===(t=e.modules.CreativeControls)||void 0===t?void 0:t.modules)||void 0===r?void 0:r.cta)||void 0===i?void 0:i.logo;o instanceof HTMLElement&&(o.style.setProperty("width","1px"),o.style.setProperty("height","1px"),o.style.setProperty("transition","width 0.6s ease-in-out 1.5s, height 0.6s ease-in-out 1.5s"))},ctaLogoScaling:function(e){var t,r,i,o=null===(i=null===(r=null===(t=e.modules.CreativeControls)||void 0===t?void 0:t.modules)||void 0===r?void 0:r.cta)||void 0===i?void 0:i.logo;o instanceof HTMLElement&&o.setAttribute("anim-scaling","true")},ctaBacklight:function(e){var t,r,i,o=null===(i=null===(r=null===(t=e.modules.CreativeControls)||void 0===t?void 0:t.modules)||void 0===r?void 0:r.cta)||void 0===i?void 0:i.element;o instanceof HTMLElement&&o.classList.add(ee.backlight)},ctaFinishBoost:function(e){}},ctaButton:{ctaButtonArrow:function(e){var t=document.createElement("span");t.classList.add(ee.controls_rightArrow),e.append(t),e.style.setProperty("padding-right","38px")},ctaButtonUpperCase:function(e){e.style.setProperty("text-transform","uppercase")}},controls:{}},ie=re,oe={purple:["hsla(295,80%,55%,1)","hsla(295,55%,55%,1)","#fff"],ruby:["hsla(355,80%,55%,1)","hsla(355,100%,45%,1)","#fff"],blue:["hsla(215,100%,55%,1)","hsla(215,75%,55%,1)","#fff"],yellowLight:["#FFF8DC","#E8E4BC","#bbb"],blueLight:["#F2F8FF","#1a79ff","#135BBF"],yellowGrey:["#FFF8DC","#1a79ff","#505050"],deepPink:["#FF1493","#C71585","#fff"],darkViolet:["#9400D3","#8A2BE2","#fff"],aquamarine:["hsla(170,80%,55%,1)","hsla(170,55%,55%,1)","#fff"],gold:["#FFD700","#FFA500","#333"],grey36:["rgba(36,36,36,0.8)","rgba(0,0,0,1)","#eee"],grey100:["rgba(36,36,36,0.4)","rgba(36,36,36,0.7)","#eee"],grey110:["rgba(36,36,36,0.3)","rgba(36,36,36,0.5)","#ddd"]},ne={shape:["brick","round","smooth","circle"],logo:["logoFancy","logoHeavy","logoBase"],view:["elegant","solid"],color:oe},ae={themes:{conservative:{view:"solid",shape:"smooth",button:{color:"blue"},controls:{color:"grey36"},disclaimer:[n.disclaimer,n.adchoice,n.timer]},base:{view:"elegant",shape:"round",button:{color:"blue",animations:["ctaButtonUpperCase"],classes:["presets-first"]},controls:{color:"grey100"},progress:{color:"blue"},animations:["ctaStartShift","ctaFinishBoost","ctaLogoRise","ctaLogoScaling","ctaBacklight"],disclaimer:[n.adchoice2,n.disclaimer,n.timeicon,n.timer],priorityDisclaimer:!0,sides:{color:"yellowGrey",fontWeight:"100"}},maestro:{view:"elegant",shape:"round",button:{color:"ruby",animations:["ctaButtonArrow","ctaButtonUpperCase"],classes:["presets-first"]},controls:{color:"grey100"},progress:{color:["DarkTurquoise","",""]},animations:["ctaStartShift","ctaFinishBoost","ctaLogoRise","ctaLogoScaling","ctaBacklight"],disclaimer:[n.adchoice2,n.disclaimer,n.timeicon,n.timer],priorityDisclaimer:!0},sphere:{view:"elegant",shape:"circle",button:{color:"deepPink",animations:["ctaButtonArrow","ctaButtonUpperCase"],classes:["presets-first"]},controls:{color:"grey100"},progress:{color:"darkViolet"},animations:["ctaStartShift","ctaFinishBoost"],disclaimer:[n.adchoice2,n.disclaimer,n.timeicon,n.timer]}},colors:oe,aliases:ne,animations:ie,vars:{colors:{ctaButton:["--adm-cta-button-bg","--adm-cta-button-bg-hover","--adm-cta-button-color"],controls:["--adm-control-bg","--adm-control-bg-hover","--adm-control-color"],progress:["--adm-progress"],sides:["--adm-side-bg","","--adm-side-color"]}},defaults:{disclaimer:[n.disclaimer,n.adchoice,n.timer],theme:"base"}},se={engine:{callbacks:["onReady","onError","onStarted","onPaused","onPlayed","onCompleted","onClosed","onSkipped","onClicked","adMidrollPoint","onTimeRemained","onDurationChanged","onVPAIDStarted"],transferParams:{adFormat:"adformat",timeAdClose:"timeadclose",loadTime:"load_time",startTime:"start_time",maxBanner:"max_banner",bannerCount:"banner_count",midpointTime:"midpoint_time"}},ui:ae,streamMode:{startRangeP:5,groupDurationP:20,groupStartStrategy:"middle",maxPauseGroupCnt:2},disclaimer:{advPageUrlPart:"https://ads.vk.com/adv_info?",relations:{actions_header:["headerText","button"],actions_about:["aboutPicture","aboutText"],actions_copy_cont:["copyText","id"],actions_copy:["copyPicture","actions_copy_cont"],actions:["actions_header","actions_about","actions_copy"],disclaimerWrap:[],disclaimerBank:Object.values(n),actionBlock:["actions","disclaimerWrap"]}},specialDisclaimer:{defaultPos:"bottom",defaultFontWeight:"500",defaultSize:"16%",config:(te={},te[e.medical]={size:"8%",text:"Есть противопоказания, проконсультируйтесь с врачом"},te[e.drugs]={size:"8%",text:"Есть противопоказания, проконсультируйтесь с врачом"},te[e.alcohol]={size:"8%",text:"Чрезмерное употребление алкоголя вредит вашему здоровью"},te[e.beer]={size:"8%",text:"Чрезмерное употребление пива вредит вашему здоровью"},te[e.tobacco]={size:"8%",text:"Курение вредит вашему здоровью"},te[e.dietary]={size:"16%",text:"БАД, не является лекарственным средством"},te[e.declaration]={size:"8%",text:"Проектная декларация на рекламируемом сайте ПД"},te)},allowedSides:["left","right","bottom","top"]},le=function(){function e(){Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!se.engine.callbacks.includes(e))return!0;var r=this.callbacks[e];Array.isArray(r)?r.push(t):this.callbacks[e]=[t]}}),Object.defineProperty(e.prototype,"use",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.callbacks[e];if(!se.engine.callbacks.includes(e)||!Array.isArray(r))return!0;O(a.info,"USE CALLBACK:",e),r.forEach((function(e){"function"==typeof e&&e(t)}))}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){delete this.callbacks}}),e}(),ce=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]])}return r},ue=function(){function e(e){Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"object"!=typeof e||!e.error&&!e.status?this.error=700:e.isError?this.error=e.status||e.error:e.error?this.error=e.error:this.status=e.status,this.error||delete this.error,this.status||delete this.status}return Object.defineProperty(e.prototype,"runCallback",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return"object"==typeof e&&e.callbacks instanceof le&&e.callbacks.use("onError",this),this}}),Object.defineProperty(e.prototype,"setParams",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if("object"==typeof e){e.error,e.status;var t=ce(e,["error","status"]);Object.assign(this,t)}return this}}),Object.defineProperty(e.prototype,"throw",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e&&(e=!1),e)throw this;return this}}),Object.defineProperty(e,"success",{get:function(){return new e({status:2e3})},enumerable:!1,configurable:!0}),Object.defineProperty(e,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r,i){return new e({error:t}).setParams(i).runCallback(r)}}),e}(),de=function(e,t,r){var i,o;if(!(e instanceof Ft))return!0;var n=t instanceof Error?700:t;e.lastStatus=ue.error(n),N(e,n,r),ue.error(n).setParams(r).runCallback(e).throw(null===(o=null===(i=e.store)||void 0===i?void 0:i.userConfig)||void 0===o?void 0:o.useThrow)},pe=function(e,t,r){if(!(e instanceof Ft))return!0;O(a.error,"Critical error:",t),de(e,t,r),e.destroy()},fe=function(){function e(e){var t=this;if(Object.defineProperty(this,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.isInited){this.player=e,this.store=e.store;var r=e.store.userConfig;if(r.debug||["inline","preload","debug"].includes(r.initMode))this.processVisitResult(r.visit,r);else{var i=this.fetchVisitRequestParams(r),o="string"==typeof r.dataAdQuery?r.dataAdQuery:r["data-ad-query"],n=V("https://ad.mail.ru/vp/"+r.slot,i)+(o&&"string"==typeof o?"&"+o:"");this.makeVisitRequest(n).then((function(e){t.processVisitResult(e,r)})).catch((function(t){pe(e,323)}))}}}return Object.defineProperty(e.prototype,"fetchVisitRequestParams",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={version:"3.1.3",app_name:"adman3"};if("string"==typeof e.container){var r=document.querySelector(e.container);r&&r instanceof HTMLVideoElement&&(t.duration=Math.round(r.duration))}var i=Object.entries(se.engine.transferParams).reduce((function(t,r){return r[0]in e&&(t[r[1]]=e[r[0]]),t}),{});return Object.assign(t,e.params,i)}}),Object.defineProperty(e.prototype,"makeVisitRequest",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return fetch(e,{headers:{"Content-Type":"text/plain"},credentials:"include"}).then((function(e){return e.ok?e.text():Promise.reject(e)})).then((function(e){if(!e)return pe(t.player,1100),Promise.reject();var r;try{r=JSON.parse(e)}catch(e){return pe(t.player,352),Promise.reject()}return r})).catch((function(){return pe(t.player,323),Promise.reject()}))}}),Object.defineProperty(e.prototype,"processVisitResult",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r;e&&(null===(r=this.store)||void 0===r||r.applyVisitResult(e,t))}}),e}(),be=function(){function e(t){Object.defineProperty(this,"core",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"driver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disposables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t instanceof Ft?(this.player=t,this.driver=null):t instanceof e?(this.player=null,this.driver=t):(this.driver=null,this.player=null),this.core=t,this.store=t.store,this.disposables=[]}return Object.defineProperty(e.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(e.prototype,"subscribe",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;if(!(this.store instanceof I&&Array.isArray(e)))return!0;var i="function"==typeof t?function(e,i){var o=t.call(r,e,i);o&&r.onUpdate(o)}:function(e,t){return r.onUpdate(t)};this.store.subscribe(e,i),this.disposables.push([e,i])}}),Object.defineProperty(e.prototype,"disposeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.store instanceof I&&Array.isArray(this.disposables)&&this.disposables.forEach((function(t){var r;return(r=e.store).unSubscribe.apply(r,t)}))}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.disposeAll();for(var e=0,t=Object.keys(this);e<t.length;e++){delete this[t[e]]}this.isDestroyed=!0}}),e}();function he(e){var t;return!!Array.isArray(null==e?void 0:e.members)&&(null===(t=null==e?void 0:e.members)||void 0===t||t.forEach((function(e){if(-1===["adchoice","disclaimer","timer"].indexOf(e))return!1})),"string"==typeof e.positionX&&(-1!==["left","right"].indexOf(e.positionX)&&("string"==typeof e.positionY&&(-1!==["top","bottom"].indexOf(e.positionY)&&("string"==typeof e.offsetX&&("string"==typeof e.offsetY&&(!("string"!=typeof e.disclaimerText||!e.disclaimerText.length)&&(!("string"!=typeof e.headerText||!e.headerText.length)&&(!("string"!=typeof e.aboutText||!e.aboutText.length)&&!("string"!=typeof e.copyText||!e.copyText.length))))))))))}var ve=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),ye=function(){return ye=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ye.apply(this,arguments)},me=function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},ge=function(e){function t(t,r,i,n){var a=e.call(this)||this;Object.defineProperty(a,"allowClose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"allowCloseDelay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"bannerID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"ordID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"cipherBannerID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"initStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"runnerLoaded",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"campaignID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"completePixelsExists",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"completePixelsSent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativeAspectRatio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativeCurrentTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativePlayState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativeSource",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativeVideoID",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativeVolume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"creativeIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"currentQuartile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"ctaText",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"ctaUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"linkClicks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"linkURL",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"currentEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"initialContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"readyToDestroy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"destroyContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"needRender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"pixels",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"playerInFocus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"playerInViewport",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"visibilityPercentage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"html",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"hasVolume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"adActionsConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"noGrow",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"align",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"sides",{enumerable:!0,configurable:!0,writable:!0,value:void 0});var s,l={initStore:t,allowClose:r.allowClose||!1,allowCloseDelay:r.allowCloseDelay||0,type:r.type,html:r.type===o.html?r.html||r.src:void 0,creativeVideoID:r.bannerID,duration:r.duration,linkURL:r.urlToNavigateOnClick||"",ctaText:r.ctaText||"Перейти на сайт",creativeIndex:n||0,pixels:Object.assign({},(s=r.statistics,void 0===s&&(s=[]),s.reduce((function(e,t){return"playheadReachedValue"===t.type?(e[t.type]||(e[t.type]={}),e[t.type][t.pvalue||t.value]?e[t.type][t.pvalue||t.value+"s"].push(t.url):e[t.type][t.pvalue||t.value+"s"]=[t.url],e):"playheadViewabilityValue"===t.type?(e[t.type]||(e[t.type]={}),t.pvalue||t.value?(e[t.type].ovvValue||(e[t.type].ovvValue={}),e[t.type].ovvValue[t.pvalue||t.value]||(e[t.type].ovvValue[t.pvalue||t.value]={}),e[t.type].ovvValue[t.pvalue||t.value][t.viewablePercent]||(e[t.type].ovvValue[t.pvalue||t.value][t.viewablePercent]={}),e[t.type].ovvValue[t.pvalue||t.value][t.viewablePercent][String(t.ovv)]?e[t.type].ovvValue[t.pvalue||t.value][t.viewablePercent][String(t.ovv)].push(t.url):e[t.type].ovvValue[t.pvalue||t.value][t.viewablePercent][String(t.ovv)]=[t.url]):t.duration&&(e[t.type].mrcValue||(e[t.type].mrcValue={}),e[t.type].mrcValue[t.duration]||(e[t.type].mrcValue[t.duration]={}),e[t.type].mrcValue[t.duration][t.viewablePercent]?e[t.type].mrcValue[t.duration][t.viewablePercent].push(t.url):e[t.type].mrcValue[t.duration][t.viewablePercent]=[t.url]),e):(e[t.type]?e[t.type].push(t.url):e[t.type]=[t.url],e)}),{}))),creativePlayState:C.UNDEFINED,initialContainer:i,playerInFocus:!0,creativeVolume:0};if(a.setProps(l),a.copyPropsInit(r,["hasVolume","ctaUrl","iconUrl","bannerID","ordID"]),a.copyPropsInit(r,["cipherBannerID","theme","specialDisclaimer","creativeVolume"]),a.bulkPropsInit(["campaignID","completePixelsExists","completePixelsSent"],null),a.bulkPropsInit(["creativeCurrentTime","currentQuartile","visibilityPercentage"],0),a.bulkPropsInit(["currentEvents","linkClicks"],[]),a.bulkPropsInit(["playerInViewport","runnerLoaded","needRender","readyToDestroy"],!1),a.adActionsConfig=Object.assign({},a.setAdActionsConfig(t,r)),a.align="string"==typeof r.align&&["center","right"].includes(r.align.toLowerCase())?r.align:"left",r.height&&r.width)a.width=r.width,a.height=r.height;else if("string"==typeof r.size){var c=r.size.split("x");2===c.length&&+c[0]&&+c[1]&&(a.width=+c[0],a.height=+c[1])}return a.creativeAspectRatio=a.width/a.height||16/9,a.noGrow="noGrow"in r?r.noGrow:a.creativeAspectRatio<1.4,a.creativeSource=r.type===o.video?a.getSuitedMediafileSrc(r):void 0,a}return ve(t,e),Object.defineProperty(t.prototype,"getSuitedMediafileSrc",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!Array.isArray(e.mediafiles)||!e.mediafiles.length||!this.initialContainer||"object"!=typeof this.initialContainer)return e.src;for(var t=e.mediafiles.sort((function(e,t){return e.width-t.width})),r=0,i=t;r<i.length;r++){var o=i[r];if(o.width>=this.initialContainer.offsetWidth)return o.src}return t.at(-1).src}}),Object.defineProperty(t.prototype,"setProp",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var i;void 0===r&&(r=!1),this.setProps(((i={})[t]=e,i),r)}}),Object.defineProperty(t.prototype,"setAdActionsConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r;return t.adActionsConfig&&he(t.adActionsConfig)?t.adActionsConfig:(null===(r=e.settings)||void 0===r?void 0:r.adActionsConfig)&&he(e.settings.adActionsConfig)?e.settings.adActionsConfig:E}}),Object.defineProperty(t.prototype,"addLinkClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setProps({linkClicks:me(me([],this.linkClicks,!0),[e],!1)})}}),Object.defineProperty(t.prototype,"isFullWidth",{get:function(){return!(this.noGrow&&this.width<=this.initialContainer.offsetWidth)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return ye({width:this.isFullWidth?"100%":"".concat(this.width,"px"),"max-height":this.initialContainer.style.height,height:"100%"},D[this.align])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html5Video",{get:function(){return{autoplay:this.visibilityPercentage>=50,controls:!0,muted:!0,src:this.creativeSource,linkURL:this.linkURL,hash:1e3*Math.random(),style:this.style,volume:this.creativeVolume}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ssrBanner",{get:function(){return{html:this.html,style:this.style}},enumerable:!1,configurable:!0}),t}(I),we=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Pe=function(e,t,r){if(r||2===arguments.length)for(var i,o=0,n=t.length;o<n;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},je=function(e){function t(t){var r=this;return t.isInited?(r=e.call(this,t)||this,Object.defineProperty(r,"nextAd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"currentCreativeStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"insertPlaces",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"insertPlacesReplay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.nextAd=0,r.playNext=r.playNext.bind(r),r.subscribe(["creativesToPlay"]),1===r.store.insertPlaces.length?r.store.initialContainer=r.setInitialContainer(r.store.insertPlaces[0]):(r.insertPlacesReplay=r.store.insertPlaces.map((function(e){return r.setInitialContainer(e)})),r.insertPlaces=Pe([],r.insertPlacesReplay,!0)),r):r}return we(t,e),Object.defineProperty(t.prototype,"playCreative",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.currentCreativeStore=new ge(this.store,e,t),this.currentCreativeStore.setProps({autoStart:!0,needRender:!0}),this.store.setCurrentCreativesState([this.currentCreativeStore]),this.currentCreativeStore}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.isDestroyed)return ue.error(5007);if(this.store.creativesToPlay[this.nextAd].type!==o.additionalData)if(this.store.creativesToPlay.length>1)this.currentCreativeStore=new ge(this.store,this.store.creativesToPlay[this.nextAd],this.store.initialContainer||this.insertPlaces.shift(),this.nextAd),this.store.replayed||this.currentCreativeStore.setProp(!0,"needRender"),this.store.setCurrentCreativesState([this.currentCreativeStore]),this.nextAd++,this.currentCreativeStore.subscribe(["creativePlayState","initialContainer","readyToDestroy"],this.playNext);else{var t=this.store.creativesToPlay.map((function(t){return new ge(e.store,t,e.store.initialContainer||e.insertPlaces.shift())}));t.forEach((function(t,r){e.store.replayed||t.setProp(!0,"needRender"),t.setProps({destroyContainer:!0,creativeIndex:r}),t.subscribe(["creativePlayState","initialContainer","readyToDestroy"],e.playNext)})),this.store.setCurrentCreativesState(t)}else{var r=this.player.visit;r.makeVisitRequest(this.store.creativesToPlay[this.nextAd].url).then((function(t){r.processVisitResult(t,e.store.userConfig)}))}}}),Object.defineProperty(t.prototype,"restart",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.disposeAll(),this.currentCreativeStore=null,this.nextAd=0,Array.isArray(this.insertPlacesReplay)&&this.insertPlacesReplay.length&&(this.insertPlaces=Pe([],this.insertPlacesReplay,!0)),this.onUpdate()}}),Object.defineProperty(t.prototype,"playNext",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this&&!this.player.videoObserver.voStore.isInited&&e.creativePlayState===C.ENDED&&e.readyToDestroy&&this.nextAd&&this.store.creativesToPlay[this.nextAd]){var t=this.store.creativesToPlay[this.nextAd];this.playCreative(t,e.initialContainer||this.store.initialContainer),this.currentCreativeStore.setProps({creativePlayState:C.PLAYING,creativeIndex:this.nextAd,destroyContainer:++this.nextAd===this.store.creativesToPlay.length}),this.currentCreativeStore.subscribe(["creativePlayState","initialContainer","readyToDestroy"],this.playNext)}}}),Object.defineProperty(t.prototype,"configParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e instanceof HTMLElement&&("static"===getComputedStyle(e).getPropertyValue("position")&&e.style.setProperty("position","relative"))}}),Object.defineProperty(t.prototype,"configOverlayMode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.configParent(e),b(t,{position:"absolute",width:"100%",top:"0px",left:"0px"}),this.store.extVideoElement instanceof HTMLVideoElement){var r=getComputedStyle(this.store.extVideoElement),i=parseInt(r.getPropertyValue("z-index"));t.style.setProperty("z-index","".concat(isNaN(i)?10:i+10))}else if(e.hasChildNodes()){var o=0;e.childNodes.forEach((function(e){if(e instanceof HTMLElement){var r=parseInt(getComputedStyle(e).getPropertyValue("z-index"));!isNaN(o)&&r>o&&(o=r)}t.style.setProperty("z-index","".concat(o+10))}))}var n=this.store.userConfig.overlayMode,a=n&&"object"==typeof n&&"string"==typeof n.bgColor?n.bgColor:function(e){if(!(e instanceof HTMLElement))return null;for(var t,r=e;!t&&r instanceof HTMLElement;)t=r.style.getPropertyValue("background-color"),r=r.parentNode;return t}(e)||"#000";h(t,{"--overlay-bg":a})}}),Object.defineProperty(t.prototype,"setInitialContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=v("div",{classes:ee.player_container});return t.id="adman-ad-container-".concat(Math.round(1e4*Math.random())),e.isDedicated&&e.isFixed&&t.setAttribute("isDedicatedFixed","true"),"insert"===e.type?(this.store.overlayMode&&this.configOverlayMode(e.target.parentNode,t),this.store.setProps({parentContainer:e.target.parentNode}),e.target.parentNode.insertBefore(t,e.target)):"append"===e.type?(this.store.overlayMode&&this.configOverlayMode(e.target,t),this.store.setProps({parentContainer:e.target}),e.target.appendChild(t)):(this.store.setProps({parentContainer:e.target.parentNode}),e.target)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,r;"inStream"===(null===(t=this.store)||void 0===t?void 0:t.playMode)&&(null===(r=this.store)||void 0===r?void 0:r.initialContainer)instanceof HTMLElement&&(this.store.initialContainer.remove(),this.store.initialContainer=null),e.prototype.destroy.call(this)}}),t}(be),Oe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),xe=function(e){function t(t){return t.isInited?e.call(this,t)||this:_this}return Oe(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e.forEach((function(e){var r,i,o;"auto"===e.height||e.state===C.READY?e.container.style.setProperty("height","0px"):(null===(o=null===(i=null===(r=e.driver)||void 0===r?void 0:r.modules)||void 0===i?void 0:i.CreativeResize)||void 0===o?void 0:o.container)||t.store.overlayMode?e.driver.modules.CreativeResize.onUpdate():(e.container.style.height=e.height,e.container.style.maxHeight=e.height)}))}}),Object.defineProperty(t.prototype,"updateHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r,i;"auto"!==e.height?(null===(i=null===(r=null===(t=e.driver)||void 0===t?void 0:t.modules)||void 0===r?void 0:r.CreativeResize)||void 0===i?void 0:i.container)||this.store.overlayMode?e.driver.modules.CreativeResize.onUpdate():(e.container.style.height=e.height,e.container.style.maxHeight=e.height):e.container.style.setProperty("height","0px")}}),Object.defineProperty(t.prototype,"getSizes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=0===e.currentCreativesState.length,i=r?t:e;return i.currentCreativesState.map((function(e){return{container:e.initialContainer,driver:e.driver,height:r?"auto":e.noGrow&&e.width<=e.initialContainer.offsetWidth?"".concat(e.height,"px"):"".concat(Math.round(e.initialContainer.offsetWidth/e.creativeAspectRatio),"px"),playing:i.playing,state:e.creativePlayState}}))}}),t}(be),Ce={place:[{isParagraph:!0,isOnDesiredPlace:!0,nextIsParagraph:!0},{isParagraph:!0,isOnDesiredPlace:!0,nextIsText:!0},{isParagraph:!0,isNextAfterDesiredPlace:!0,nextIsParagraph:!0},{isParagraph:!0,isNextAfterDesiredPlace:!0,nextIsText:!0},{isBr:!0,isNextAfterDesiredPlace:!0},{isBr:!0,isOnDesiredPlace:!0}],noPlace:[{isParagraph:!0,prevIsParagraph:!0,inBeginning:!1},{prevIsParagraph:!0,isText:!0,inBeginning:!1},{prevIsParagraph:!0,inBeginning:!1},{inBeginning:!1},{prevIsBr:!0,inBeginning:!1},{isBr:!0,inBeginning:!1},{isText:!0,nextIsText:!0}]},Se=function(){function e(e){var t=this;if(Object.defineProperty(this,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"offset",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"place",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suitables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suitableCounter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nextPlace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"viewportHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOffsetTop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOffsetBottom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"offsetTop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"floatRects",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.isInited&&"inStream"!==e.store.playMode){this.player=e,this.store=e.store;var r=this.store.userConfig;if(Array.isArray(r.container))r.container.forEach((function(e){var r=document.querySelector(e);t.store.setInsertPlaces("append",r)}));else if("string"==typeof r.container)try{if(this.container=document.querySelector(r.container),"video"===this.getTagName(this.container)&&this.container.parentNode instanceof HTMLElement)return this.store.setProps({extVideoElement:this.container,overlayMode:r.overlayMode||!0}),this.store.setInsertPlaces("insert",this.container),void e.videoObserver.setVideo(this.container);if(r.overlayMode)return this.store.setProps({overlayMode:r.overlayMode}),void this.store.setInsertPlaces("insert",this.container);if(this.offset=r.offset||50,this.place=r.place||0,"p"===this.getTagName(this.container)&&(this.container=this.container.parentNode),this.initFloatRects(),this.initSuitables(),this.calcSuitables(this.container),!this.suitables.length&&!this.place)return void this.store.setInsertPlaces("append",this.container);this.insertElement(),0===this.store.insertPlaces.length&&pe(e,312)}catch(t){pe(e,316)}else pe(e,317)}}return Object.defineProperty(e.prototype,"insertElement",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.place?Ce.place:Ce.noPlace,t=this.suitables,r=2*this.viewportHeight,i=-r;this.place||t.sort((function(e,t){return e.diffOffset-t.diffOffset}));for(var o=0,n=this.suitables.length;o<n;o++){var a=t[o];if(!(a.offsetTop<i+r))for(var s=0,l=e.length;s<l;s++){for(var c=e[s],u=Object.getOwnPropertyNames(c),d=!0,p=u.length;p--;){var f=u[p];if(a[f]!==c[f]){d=!1;break}}if(d){var b=void 0;b=c.isOnDesiredPlace||c.isNextAfterDesiredPlace?a.nextSibling:a.element,i=a.offsetTop,this.store.setInsertPlaces("insert",b);break}}}if(!(this.store.insertPlaces.length>0)&&this.place){var h=0,v=0;for(s=this.container.children.length;s--;){var y=this.container.children[s];if(this.isElementParagraph(y)?h++:this.isBr(y)&&v++,h>=this.place||v>=this.place)return void this.store.setInsertPlaces("append",this.container)}}}}),Object.defineProperty(e.prototype,"initSuitables",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.suitables=[],this.suitableCounter={},this.nextPlace=this.place&&this.place+1,this.viewportHeight="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,this.maxOffsetTop=0,this.maxOffsetBottom=0,this.offsetTop=this.offsetCalc(this.container).top}}),Object.defineProperty(e.prototype,"calcSuitables",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r,i=e.clientHeight,o=0,n=e.children.length;o<n;o++){var a=e.children[o];if(!(a.clientHeight<=0)||this.isBr(a)){var s=a.offsetTop,l=s+a.clientHeight;if(s>this.maxOffsetTop&&(this.maxOffsetTop=s),l>this.maxOffsetBottom&&(this.maxOffsetBottom=l),!(s<this.maxOffsetTop||l<this.maxOffsetBottom||this.checkCollision(a)||this.isBadTag(a)||(t=a.previousElementSibling,r=this.nextVisibleSibling(a)||a.nextElementSibling,t&&this.getTextContent(t).endsWith(":")))){if(this.isBr(a)){for(var c=a.previousSibling;c&&""===this.getTextContent(c);)c=c.previousSibling;if(c&&this.getTextContent(c).endsWith(":"))continue}var u=this.offsetCalc(a).top,d=this.getName(a);this.suitableCounter[d]=++this.suitableCounter[d]||1,this.suitables.push({element:a,diffOffset:Math.abs(this.offset-(u-this.offsetTop)/i*100),isParagraph:this.isElementParagraph(a),isText:this.isElementText(a),prevIsParagraph:this.isElementParagraph(t),nextIsParagraph:this.isElementParagraph(r),nextIsText:this.isElementText(r),inBeginning:u<this.viewportHeight,offsetTop:u,isBr:this.isBr(a),prevIsBr:null!==t&&this.isBr(t),isOnDesiredPlace:this.suitableCounter[d]===this.place,isNextAfterDesiredPlace:this.suitableCounter[d]===this.nextPlace,nextSibling:r})}}}}}),Object.defineProperty(e.prototype,"initFloatRects",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.floatRects=[];for(var e=0,t=this.container.children.length;e<t;e++){var r=this.container.children[e];r.style.float&&this.floatRects.push(this.getElementRect(r))}}}),Object.defineProperty(e.prototype,"checkCollision",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=this.getElementRect(e),r=this.floatRects.length;r--;){var i=this.floatRects[r];if(i.x1<t.x2&&i.x2>t.x1&&i.y1<t.y2&&i.y2>t.y1)return!0}return!1}}),Object.defineProperty(e.prototype,"getElementRect",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.getBoundingClientRect();return{x1:e.offsetLeft,y1:e.offsetTop,x2:e.offsetTop+t.height,y2:e.offsetLeft+t.width}}}),Object.defineProperty(e.prototype,"getTagName",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.tagName.toLowerCase()}}),Object.defineProperty(e.prototype,"getName",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getTagName(e);return"p"===t&&!this.getTextContent(e)&&e.children.length>0&&(t="pEmpty"),e.hasAttribute("data-seedr-player-no-ads")&&(t="noAds"),t}}),Object.defineProperty(e.prototype,"getTextContent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(e.innerText||e.textContent).trim():""}}),Object.defineProperty(e.prototype,"isBadTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return-1!==["a","b","script"].indexOf(this.getTagName(e))}}),Object.defineProperty(e.prototype,"isBr",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return/br/.test(this.getTagName(e))}}),Object.defineProperty(e.prototype,"isElementHeader",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return/h[1-6]/.test(this.getTagName(e))}}),Object.defineProperty(e.prototype,"isElementParagraph",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return null!==e&&-1===["pEmpty","noAds"].indexOf(this.getName(e))&&!this.isElementHeader(e)&&this.getTextContent(e).length>=50}}),Object.defineProperty(e.prototype,"isElementText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return null!==e&&-1===["pEmpty","noAds"].indexOf(this.getName(e))&&this.getTextContent(e).length>=5}}),Object.defineProperty(e.prototype,"nextVisibleSibling",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=e.nextElementSibling;t;){if(t.clientHeight>0)return t;t=t.nextElementSibling}}}),Object.defineProperty(e.prototype,"offsetCalc",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=document.body),e.getBoundingClientRect){var r=e.getBoundingClientRect(),i=document.body,o=document.documentElement,n=window.pageYOffset||o.scrollTop||i.scrollTop,a=window.pageXOffset||o.scrollLeft||i.scrollLeft,s=o.clientTop||i.clientTop||0,l=o.clientLeft||i.clientLeft||0;return{left:Math.round(r.left+a-l),top:Math.round(r.top+n-s)}}for(var c=0,u=0,d=e;d&&d!==t;)c+=d.offsetLeft,u+=d.offsetTop,d=d.offsetParent;return{left:c,top:u}}}),e}(),Ie=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},Ae=function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Me=function(){function e(){Object.defineProperty(this,"timeDelta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"techStats",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.timeDelta={},this.techStats={session_id:M.sessionId,event_id:7010,inits:{}}}return Object.defineProperty(e.prototype,"action",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var i,o;return void 0===r&&(r=0),Ie(this,void 0,void 0,(function(){var n,a,s;return Ae(this,(function(l){return n=Date.now(),a=t.playerId,(null===(i=this.timeDelta)||void 0===i?void 0:i[a])||(this.timeDelta[a]={}),(null===(o=this.timeDelta[a])||void 0===o?void 0:o[r])||(this.timeDelta[a][r]=this.timeDelta[a][r-1]||n),"inited"!==e&&(s=n-this.timeDelta[a][r],this.setTechStats(e,s,t,r)),this.timeDelta[a][r]=n,[2]}))}))}}),Object.defineProperty(e.prototype,"setTechStats",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r,i){var o,n,a,s,l,c=r.playerId;if((null===(o=this.techStats.inits)||void 0===o?void 0:o[c])||(this.techStats.inits[c]={slot:r.store.userConfig.slot,creatives:{}}),(null===(s=null===(a=null===(n=this.techStats.inits)||void 0===n?void 0:n[c])||void 0===a?void 0:a.creatives)||void 0===s?void 0:s[i])||(this.techStats.inits[c].creatives[i]={}),this.techStats.inits[c].creatives[i][e]=t,(null===(l=r.store.logging)||void 0===l?void 0:l.tech)||T&&r.store.userConfig.forceTechStat)try{this.sendTechStats(r)}catch(e){N(r,e)}}}),Object.defineProperty(e.prototype,"sendTechStats",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r;return Ie(this,void 0,void 0,(function(){return Ae(this,(function(i){switch(i.label){case 0:return[4,fetch(null!==(r=null===(t=e.store.logging)||void 0===t?void 0:t.tech)&&void 0!==r?r:T,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:encodeURIComponent(JSON.stringify(this.techStats))})];case 1:return i.sent(),[2]}}))}))}}),e}(),Te=new Me,Ee=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),De=function(e){function t(t){var r=e.call(this)||this;return Object.defineProperty(r,"player",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"playMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"initialContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"visitReceived",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"creativesToPlay",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"currentCreativesState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"userConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"point",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"pointP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"playing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"insertPlaces",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"section",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"logging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"replayed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"destroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"overlayMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"extVideoElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"visitResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.player=t,r.bulkPropsInit(["point","pointP","section","settings","logging"],null),r.bulkPropsInit(["playing","replayed","visitReceived"],!1),r.bulkPropsInit(["insertPlaces","creativesToPlay","currentCreativesState"],[]),r.playMode="inPage",r}return Ee(t,e),Object.defineProperty(t.prototype,"applyVisitResult",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r;if("object"!=typeof e)return pe(this.player,322);this.setProps({section:t.section||i.preroll,visitReceived:!0,userConfig:t,visitResult:e});var o=null===(r=e.sections)||void 0===r?void 0:r[this.section];if(!Array.isArray(o))return pe(this.player,321);if(this.setProps({logging:e.settings.logging,settings:e.settings[this.section],point:e.point,pointP:e.pointP,overlayMode:t.overlayMode||this.overlayMode}),"inPage"===this.playMode){var n=o.filter((function(e){return"object"==typeof e&&("bannerID"in e||"ordID"in e)}));if(!n.length)return pe(this.player,351);this.setProps({creativesToPlay:n}),["inline","preload"].includes(t.initMode)||this.player.isSdkMode||L(this.player,1200,{slot:this.userConfig.slot})}}}),Object.defineProperty(t.prototype,"setCurrentCreativesState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setProps({currentCreativesState:e})}}),Object.defineProperty(t.prototype,"setInsertPlaces",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t instanceof HTMLElement&&this.pushValues("insertPlaces",[{type:e,target:t,isDedicated:m(t),isFixed:g(t)}])}}),Object.defineProperty(t.prototype,"setPlayed",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setProps({playing:e})}}),t}(I),ke=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Le=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},_e=function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Ne=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"_needPause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"manualPause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r._needPause=null,r.manualPause=!1,r.subscribe(["visibilityPercentage","creativePlayState","playerInFocus"]),r}return ke(t,e),Object.defineProperty(t.prototype,"setManualPause",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.manualPause=e}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Le(this,void 0,void 0,(function(){var e,t,r,i;return _e(this,(function(o){return e=this.store,t=e.creativePlayState,r=e.visibilityPercentage,i=e.playerInFocus,t>=0&&(this._needPause=r<50||!i||this.manualPause,t===C.READY?this._needPause||this.store.setProp(C.PLAYING,"creativePlayState",!0):this._needPause?t===C.PLAYING&&this.store.setProp(C.PAUSE,"creativePlayState",!0):t!==C.PLAYING&&t!==C.ENDED&&t!==C.WAIT_REPLAY&&this.store.setProp(C.PLAYING,"creativePlayState",!0)),[2]}))}))}}),t}(be),ze=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Re=function(e){function t(t){var r=e.call(this,t)||this;return r.subscribe(["duration","creativeCurrentTime","type"]),r}return ze(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.creativeCurrentTime/this.store.duration,t=Math.floor(4*e);isNaN(t)||this.store.setProp(t,"currentQuartile")}}),t}(be),Ve=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Be=!1,We=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"macro",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.macro=null,r.subscribe(["currentEvents","macro","pixels","visitReceived"],r.serialize),r}return Ve(t,e),Object.defineProperty(t.prototype,"serialize",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=[],r=this.store.pixels||{};return Be=Be||this.store.creativeCurrentTime>3,this.store.currentEvents.forEach((function(i){var o,n,a,s,c,u,d,p,f,b,h,v,y,m,g,w,P,j,O,x,C,S,I,A,M,T;switch(i){case l.impression:r.impression&&t.push(r.impression),r.viewabilityMeasurable&&t.push(r.viewabilityMeasurable);break;case l.viewin:r.viewin&&t.push(r.viewin);break;case l.click:r.click&&t.push(r.click);break;case l.volumeChanged:0===e.store.creativeVolume?r.volumeOff&&t.push(r.volumeOff):r.volumeOn&&t.push(r.volumeOn);break;case l.resume:r.playbackResumed&&t.push(r.playbackResumed);break;case l.pause:r.pause&&t.push(r.pause),r.playbackPaused&&t.push(r.playbackPaused);break;case l.play:r.play&&t.push(r.play);break;case l.start:r.start&&t.push(r.start);break;case l.playbackStarted:r.playbackStarted&&t.push(r.playbackStarted);break;case l.complete:r.playbackCompleted&&t.push(r.playbackCompleted),(null===(s=null===(a=null===(n=null===(o=r.playheadViewabilityValue)||void 0===o?void 0:o.ovvValue)||void 0===n?void 0:n[100])||void 0===a?void 0:a[50])||void 0===s?void 0:s.true)&&t.push(r.playheadViewabilityValue.ovvValue[100][50].true),(null===(c=r.playheadReachedValue)||void 0===c?void 0:c[100])&&t.push(r.playheadReachedValue[100]);break;case l.load:r.load&&t.push(r.load);break;case l.second1:r.mrc_true&&t.push(r.mrc_true),r.second1&&t.push(r.second1);break;case l.second2:(null===(p=null===(d=null===(u=r.playheadViewabilityValue)||void 0===u?void 0:u.mrcValue)||void 0===d?void 0:d[2])||void 0===p?void 0:p[50])&&t.push(null===(h=null===(b=null===(f=r.playheadViewabilityValue)||void 0===f?void 0:f.mrcValue)||void 0===b?void 0:b[2])||void 0===h?void 0:h[50]);break;case l.second3:r["3sec"]&&t.push(r["3sec"]);break;case l.second5:r.second5&&t.push(r.second5);break;case l.second10:(null===(v=r.playheadReachedValue)||void 0===v?void 0:v["10s"])&&t.push(r.playheadReachedValue["10s"]),r.second10&&t.push(r.second10);break;case l.second20:r.second20&&t.push(r.second20);break;case l.skipped:r.closedByUser&&t.push(r.closedByUser);break;case l.quartile1:(null===(y=r.playheadReachedValue)||void 0===y?void 0:y[25])&&t.push(r.playheadReachedValue[25]),(null===(P=null===(w=null===(g=null===(m=r.playheadViewabilityValue)||void 0===m?void 0:m.ovvValue)||void 0===g?void 0:g[25])||void 0===w?void 0:w[50])||void 0===P?void 0:P.true)&&t.push(r.playheadViewabilityValue.ovvValue[25][50].true);break;case l.quartile2:(null===(j=r.playheadReachedValue)||void 0===j?void 0:j[50])&&t.push(r.playheadReachedValue[50]),(null===(S=null===(C=null===(x=null===(O=r.playheadViewabilityValue)||void 0===O?void 0:O.ovvValue)||void 0===x?void 0:x[50])||void 0===C?void 0:C[50])||void 0===S?void 0:S.true)&&t.push(r.playheadViewabilityValue.ovvValue[50][50].true);break;case l.quartile3:(null===(I=r.playheadReachedValue)||void 0===I?void 0:I[75])&&t.push(r.playheadReachedValue[75]),(null===(T=null===(M=null===(A=r.playheadViewabilityValue)||void 0===A?void 0:A.ovvValue)||void 0===M?void 0:M[75])||void 0===T?void 0:T[50].true)&&t.push(r.playheadViewabilityValue.ovvValue[75][50].true);break;case l.percent95:r["95perc"]&&t.push(r["95perc"])}})),{currentPixels:t,macro:this.store.macro}}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(e&&e.currentPixels&&e.currentPixels.length){var r=e.currentPixels,i=e.macro;!this.macro&&i&&(this.macro=Object.getOwnPropertyNames(i)),r.forEach((function(e){if(Array.isArray(e))for(var r=e.length,i=0;i<r;i++){if(Be&&e[i].optional)return void O(a.info,"skip optional Pixel: "+e[i]);t.send(e[i],document,e[i].isComplete&&r===i+1)}}))}}}),Object.defineProperty(t.prototype,"send",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var i=this;void 0===t&&(t=document);var o=e.toString();if(this.macro)for(var n=this.macro.length;n--;){var s="["+this.macro[n]+"]";o=o.replace(s,this.macro[n])}var l=t.createElement("img");l.onerror=l.onload=function(){t.body.removeChild(l),r&&(O(a.info,"Complete pixels processed"),i.store.setProp(!0,"completePixelsSent",!0))},O(a.info,o),l.classList.add("pixel"),l.src=o,t.body.appendChild(l)}}),t}(be),He=function(){for(var e=window,t=frameElement;t;){try{t=e.parent.frameElement}catch(e){break}e=e.parent}return e}(),Ue=He.document,Ge=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ye=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"interval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"doc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"inFocus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.interval=null,r.doc=Ue,r.inFocus=r.doc.hasFocus(),r.subscribe(["creativePlayState"]),r}return Ge(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.creativePlayState===C.PLAYING&&(this.interval||(this.interval=this.run()))}}),Object.defineProperty(t.prototype,"run",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return setInterval((function(){var t=e.doc.hasFocus();t!==e.inFocus&&(e.inFocus=t,e.store.setProp(t,"playerInFocus",!0))}),500)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){clearInterval(this.interval),e.prototype.destroy.call(this)}}),t}(be),Ze=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Xe=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"io",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"playerInViewport",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"threshold",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.threshold=new Array(101).fill(0).map((function(e,t){return t/100})),r.init(),r}return Ze(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!IntersectionObserver)return pe(this.store.player,362);this.io instanceof IntersectionObserver&&this.io.disconnect(),this.io=new IntersectionObserver((function(t){return t.forEach((function(t){return e.handler(t)}))}),{threshold:this.threshold}),this.io.observe(this.store.initialContainer)}}),Object.defineProperty(t.prototype,"handler",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.isIntersecting,r=e.intersectionRatio;this.playerInViewport!==t&&(this.playerInViewport=t,this.store.setProp(this.playerInViewport,"playerInViewport",!0)),this.store.setProp(100*r,"visibilityPercentage")}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.io.disconnect();for(var e=0,t=Object.keys(this);e<t.length;e++){delete this[t[e]]}}}),t}(be);const Fe=function(){function e(){Object.defineProperty(this,"playedSeconds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.playedSeconds=0}return Object.defineProperty(e.prototype,"collect",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.playedSeconds=Math.round(t.creativeCurrentTime),e&&(void 0===this[e]&&(this[e]=new Ke(e)),this[e].collect(t))}}),e}();var Ke=function(){function e(e){Object.defineProperty(this,"_event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timestamp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"occurred",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"focus",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"percentViewable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"count",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._event=e,this.timestamp=0,this.occurred=!1,this.visible=!1,this.focus=!1,this.percentViewable=0,this.count=0}return Object.defineProperty(e.prototype,"collect",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.count++,this.timestamp=Math.round(e.creativeCurrentTime),this.percentViewable=e.visibilityPercentage,this.visible=this.percentViewable>=50,this.focus=e.playerInFocus}}),e}(),Qe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Je=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},qe=function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},$e=function(e){function t(t){var r,i=this;return i=e.call(this,t)||this,Object.defineProperty(i,"analytics",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"sendingObj",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(null===(r=i.store.initStore.logging)||void 0===r?void 0:r.creative)?(i.analytics=new Fe,i.sendingObj={banner_id:i.store.creativeVideoID,slot:i.store.initStore.userConfig.slot,session_id:M.sessionId,appName:"adman3",version:"3.1.3",ref:Ue.referrer,url:Ue.location.href,title:Ue.title.substring(0,100)||"(not set)",viewabilityEnabled:!(!window.IntersectionObserver&&He!==top),duration:i.store.duration},i.subscribe(["currentEvents"])):i.destroy(),i}return Qe(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t={creativeCurrentTime:this.store.creativeCurrentTime,visibilityPercentage:this.store.visibilityPercentage,playerInFocus:this.store.playerInFocus},r=this.store.initStore.logging.creative||"https://ad.mail.ru/admanhtml/?app=vk-adman";this.store.currentEvents.forEach((function(i){e.analytics.collect(i,t),e.sendStats(V(r,Object.assign({type:"creativeStats",analytics:JSON.stringify(e.analytics)},e.sendingObj)))}))}}),Object.defineProperty(t.prototype,"sendStats",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return void 0===e&&(e=""),Je(this,void 0,void 0,(function(){var t;return qe(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fetch(e,{mode:"no-cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain"}})];case 1:return r.sent(),[3,3];case 2:return t=r.sent(),N(this.store.player,t),[3,3];case 3:return[2]}}))}))}}),t}(be),et=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),tt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"theme",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isInited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.container=r.store.initialContainer,r.subscribe(["creativePlayState"]),r.subscribe(["containerWidth"],r.onResize),r}return et(t,e),Object.defineProperty(t.prototype,"load",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return"string"==typeof e&&e in ae.themes?Boolean(Object.assign(this.theme,ae.themes[e])):"object"==typeof e&&Boolean(Object.assign(this.theme,e))}}),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,r,i,o,n,a=this;this.theme={},this.load(this.store.theme)||this.load(this.store.player.store.userConfig.theme)||this.load(ae.themes[ae.defaults.theme||"base"]),t.setColorVars(this.container,null===(e=this.theme.button)||void 0===e?void 0:e.color,ae.vars.colors.ctaButton),t.setColorVars(this.container,null===(r=this.theme.controls)||void 0===r?void 0:r.color,ae.vars.colors.controls),t.setColorVars(this.container,null===(i=this.theme.progress)||void 0===i?void 0:i.color,ae.vars.colors.progress),t.setColorVars(this.container,null===(o=this.theme.sides)||void 0===o?void 0:o.color,ae.vars.colors.sides),this.container.style.setProperty("--adm-side-fontWeight",(null===(n=this.theme.sides)||void 0===n?void 0:n.fontWeight)||se.specialDisclaimer.defaultFontWeight),["shape","view"].forEach((function(e){ae.aliases[e].includes(a.theme[e])&&a.container.setAttribute(e,a.theme[e])})),this.themingCtaButton(),this.themingContainer(),this.isInited=!0,this.store.setProp(!0,"themeIsInit")}}),Object.defineProperty(t.prototype,"themingContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.setSize();var t=this.theme.animations;Array.isArray(t)&&t.forEach((function(t){"function"==typeof ae.animations.container[t]&&ae.animations.container[t](e.driver)}))}}),Object.defineProperty(t.prototype,"themingCtaButton",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r,i,o=null===(t=null===(e=this.driver.modules.CreativeControls)||void 0===e?void 0:e.modules.cta)||void 0===t?void 0:t.button;if(o instanceof HTMLDivElement){var n=null===(r=this.theme.button)||void 0===r?void 0:r.animations;Array.isArray(n)&&n.forEach((function(e){"function"==typeof ae.animations.ctaButton[e]&&ae.animations.ctaButton[e](o)})),this.setClasses(null===(i=this.theme.button)||void 0===i?void 0:i.classes,o)}}}),Object.defineProperty(t.prototype,"setSize",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r=(null===(t=this.driver.modules.CreativeSides)||void 0===t?void 0:t.coreWidth)||this.container.offsetWidth,i=e||r>=500?"large":r>=350?"medium":"small";this.size!==i&&(this.container.setAttribute("size",i),this.size=i,this.setOffset())}}),Object.defineProperty(t.prototype,"setClasses",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Array.isArray(e)&&t instanceof HTMLElement&&e.forEach((function(e){"string"==typeof e&&ee[e]&&t.classList.add(ee[e])}))}}),Object.defineProperty(t,"getDisclaimerElements",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=e.theme||e.initStore.userConfig.theme,i="object"==typeof r?r:ae.themes[r]||ae.themes[ae.defaults.theme];return i.priorityDisclaimer&&i.disclaimer?i.disclaimer:Array.isArray(t)?t.map((function(e){return String(e).toLowerCase()})).filter((function(e){return se.disclaimer.relations.disclaimerBank.includes(e)})):ae.defaults.disclaimer}}),Object.defineProperty(t,"isUseAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r,i,o,n,a,s,l,c=null===(i=null===(r=e.modules)||void 0===r?void 0:r.CreativeTheme)||void 0===i?void 0:i.theme;return!!c&&((null===(n=null===(o=c.button)||void 0===o?void 0:o.animations)||void 0===n?void 0:n.includes(t))||(null===(s=null===(a=c.controls)||void 0===a?void 0:a.animations)||void 0===s?void 0:s.includes(t))||(null===(l=c.animations)||void 0===l?void 0:l.includes(t)))}}),Object.defineProperty(t,"setColorVars",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){var i;if("function"==typeof(null===(i=null==e?void 0:e.style)||void 0===i?void 0:i.setProperty)){var o="string"==typeof t?ae.colors[t]:t;Array.isArray(o)&&r.forEach((function(t,r){o[r]&&"string"==typeof o[r]&&e.style.setProperty(t,o[r])}))}}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.creativePlayState!==C.READY&&this.store.creativePlayState!==C.PLAYING||this.isInited||this.init()}}),Object.defineProperty(t.prototype,"setOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r=+(null===(e=this.store.adActionsConfig)||void 0===e?void 0:e.offsetX)||16,i=+(null===(t=this.store.adActionsConfig)||void 0===t?void 0:t.offsetY)||12,o="small"===this.size?.5:"medium"===this.size?.75:1;this.container.style.setProperty("--offset-x","".concat(Math.round(r*o),"px")),this.container.style.setProperty("--offset-y","".concat(Math.round(i*o),"px"))}}),Object.defineProperty(t.prototype,"onResize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.readyToDestroy||this.setSize()}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.prototype.destroy.call(this)}}),t}(be),rt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),it=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"viewInOccurred",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"impressionOccurred",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"playOccurred",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"second30Occurred",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"loadOccurred",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"STOP_AFTER_30SEC_TYPES",{enumerable:!0,configurable:!0,writable:!0,value:[o.html,o.video]}),Object.defineProperty(r,"prevSecond",{enumerable:!0,configurable:!0,writable:!0,value:0}),r.subscribe(["creativeCurrentTime","creativePlayState","duration","playerInViewport","linkClicks","creativeVolume","currentQuartile"]),r}return rt(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!(this.store.creativePlayState<0)){var t=[];!this.viewInOccurred&&this.store.playerInViewport&&(this.viewInOccurred=!0,t.push("viewIn"),this.dispatchCustomEvent("viewIn")),!this.impressionOccurred&&this.store.playerInViewport&&this.store.playerInFocus&&this.store.visibilityPercentage>=.5&&(this.impressionOccurred=!0,t.push("impression"),this.dispatchCustomEvent("impression")),this.store.creativePlayState===C.PLAYING&&e.creativePlayState!==C.PLAYING&&this.playOccurred&&(t.push("resume"),this.dispatchCustomEvent("resume"),this.store.player.callbacks.use("onPlayed")),this.loadOccurred||this.store.creativePlayState!==C.READY||(this.loadOccurred=!0),this.playOccurred||this.store.creativePlayState!==C.PLAYING||(this.store.setProps({playOccurred:!0}),this.playOccurred=!0,t.push("play"),this.dispatchCustomEvent("play"),Te.action("started",this.store.player,this.store.creativeIndex),this.store.player.callbacks.use("onPlayed"),t.push("playbackStarted"),this.store.player.callbacks.use("onStarted"),this.store.initStore.setPlayed(!0)),this.store.creativePlayState===C.PAUSE&&e.creativePlayState!==C.PAUSE&&(t.push("pause"),this.dispatchCustomEvent("pause"),this.store.player.callbacks.use("onPaused")),this.store.linkClicks!==e.linkClicks&&(t.push("click"),this.dispatchCustomEvent("click"),this.store.player.callbacks.use("onClicked")),this.store.creativeVolume!==e.creativeVolume&&t.push("volumeChanged"),this.second30Occurred&&~this.STOP_AFTER_30SEC_TYPES.indexOf(this.store.type)||(this.checkSecondsEvents(t,e.creativeCurrentTime),this.checkQuartileEvents(t,e),this.checkProgressEvents(t,e)),0!==t.length&&(this.store.setProp(t,"currentEvents"),t.forEach((function(e){return e&&O(a.log,e.toUpperCase())})))}}}),Object.defineProperty(t.prototype,"checkSecondsEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Math.floor(this.store.creativeCurrentTime);if(r!==this.prevSecond){switch(this.prevSecond=r,r){case 0:return;case 1:return this.showCtaArea(),e.push("second1");case 2:return e.push("second2");case 3:return e.push("second3");case 5:return e.push("second5");case 10:return e.push("second10");case 20:return e.push("second20");case 30:return this.second30Occurred=!0,e.push("second30")}r%30==0&&e.push(null)}}}),Object.defineProperty(t.prototype,"checkQuartileEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.store.currentQuartile,i=t.currentQuartile;!r||r<=i||r<1||r>3||e.push("quartile".concat(r))}}),Object.defineProperty(t.prototype,"checkProgressEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this,i=this.store.creativeCurrentTime/this.store.duration,o=t.creativeCurrentTime/t.duration;if(i>=.95&&o<.95&&e.push("percent95"),this.store.creativePlayState===C.ENDED&&t.creativePlayState!==C.ENDED||this.store.creativePlayState===C.WAIT_REPLAY&&t.creativePlayState!==C.WAIT_REPLAY){if(i>.96){e.push("complete"),this.dispatchCustomEvent("complete"),Te.action("complete",this.store.player,this.store.creativeIndex);var n=_(this.store.player,this.store.creativeIndex);L(this.store.player,1350,n)}else e.push("skipped"),this.dispatchCustomEvent("skipped"),Te.action("skipped",this.store.player,this.store.creativeIndex),this.store.player.callbacks.use("onSkipped");this.store.initStore.setPlayed(!1),setTimeout((function(){r.store&&r.store.creativePlayState!==C.WAIT_REPLAY&&r.store.setProp(!0,"readyToDestroy")}),0)}}}),Object.defineProperty(t.prototype,"dispatchCustomEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){document.dispatchEvent(new CustomEvent("adman-".concat(e),{bubbles:!0}))}}),Object.defineProperty(t.prototype,"showCtaArea",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.initialContainer,t=e.getElementsByClassName(ee.controls_cta)[0];if(t){t.style.left.startsWith("-")&&(t.style.setProperty("left","-".concat(t.getBoundingClientRect().width+10,"px")),t.style.setProperty("transition","left var(--adm-tr-func)"),t.style.setProperty("left","calc(var(--offset-y, 12px) + var(--padding-left, 0))"));var r=e.getElementsByClassName(ee.logo)[0];r&&(r.style.setProperty("width","var(--adm-button-height, 29px)"),r.style.setProperty("height","var(--adm-button-height, 29px)"),r.getAttribute("anim-scaling")&&r.classList.add(ee.scaling))}}}),t}(be),ot={100:1.01,300:1.01,500:1,700:1,900:1},nt={100:{32:[4.3,4.7,6.1,13.1,13.1,17.9,14.6,4,7.1,7.3,10,13.5,4.5,7.1,5.1,9.2,13.1,13.1,13.1,13.1,13.1,13.1,13.1,13.1,13.1,13.1,4.3,4.3,12.3,13.4,12.3,10.5,22.3,14.3,14.5,15.6,15.7,13.7,13.7,16.5,16.9,6.3,13.2,15.2,12.4,20.6,17,16,14.4,16,15.7,14.2,14.3,16,14.3,21.7,14.3,14.3,14.3],1040:[17.3,15,14.5,13.1,16.7,13.7,20.5,14.3,17,17,15.2,16.7,20.6,16.9,16,16.9,14.4,15.6,14.3,15,17.1,14.3,16.7,15.5,21.9,22,19,19.3,14.3,15.5,22.2,14.1]},300:{32:[5,5.4,6.9,14,13.3,17.7,14.8,4.1,7.7,7.8,10.2,13.5,4.6,6.9,5.7,9.5,13.3,13.3,13.3,13.3,13.3,13.3,13.3,13.3,13.3,13.3,5,4.7,12.3,13.3,12.4,10.9,21.9,15,14.7,15.6,15.7,13.7,13.5,16.4,17,6.4,13.2,15.1,12.6,20.8,17,16.2,14.8,16.2,15.2,14.2,14.3,15.8,14.8,21.5,14.7,14.4,14.4],1040:[15,15.1,14.7,13.2,17.4,13.7,21.1,14.3,17,17,15.3,16.9,20.8,17,16.2,17,14.8,15.6,14.3,15.1,17.8,14.7,17.1,16,22.2,22.6,18.6,20,14.7,15.8,21.8,14.7]},500:{32:[5.75,6.4,7.8,14.6,13.6,17.6,15.3,4.1,8.4,8.5,10.6,13.4,5.3,7.9,6.7,9.5,13.6,13.6,13.6,13.6,13.6,13.6,13.6,13.6,13.6,13.6,6.4,5.7,12.2,13.4,12.5,11.7,21.5,16,15.1,15.7,15.7,13.6,13.2,16.3,17.1,6.8,13.3,15.1,13,21,17,16.6,15.3,16.6,15,14.5,14.6,15.6,15.5,21.1,15.2,14.6,14.5],1040:[16,15.1,15.1,13.4,18.1,13.6,22.9,14.5,17,17,15.5,17,21,17.1,16.6,17.1,15.3,15.7,14.6,15.1,19.1,15.2,17.9,16.6,22.8,23.9,18.3,20.9,15.1,15.9,22,14.9]},700:{32:[6,6.5,7.7,14.3,13.8,17.7,15.8,3.9,8.4,8.5,10.9,13.1,5.9,9.3,7,9,13.8,13.8,13.8,13.8,13.8,13.8,13.8,13.8,13.8,13.8,6.8,6.3,12.2,13.7,12.4,11.9,21.5,16.1,15.3,15.7,15.6,13.5,13.1,16.4,17,7,13.4,15.2,13,21,16.9,16.6,15.5,16.6,15.3,14.8,14.9,15.8,15.7,21,15.3,14.8,14.5],1040:[16.1,15,15.3,13.4,17.9,13.5,23.9,14.8,16.8,16.8,15.5,16.9,21,17,16.6,17,15.5,15.7,14.9,15.2,19.6,15.3,18.2,16.7,23,24.5,18.5,20.9,15,15.6,22.6,14.3]},900:{32:[6,6.6,7.6,13.9,13.9,17.8,16.2,3.7,8.5,8.5,11.2,12.8,6.5,10.8,7.3,8.4,13.9,13.9,13.9,13.9,13.9,13.9,13.9,13.9,13.9,13.9,7.2,6.9,12.2,14.1,12.3,12.2,21.5,16.4,15.5,15.8,15.5,13.4,13.1,16.4,16.9,7.2,13.5,15.4,13,21,16.9,16.6,15.6,16.6,15.7,15,15.1,16,15.9,20.9,15.3,15.1,14.6],1040:[16.4,15,15.5,13.4,17.8,13.4,25,15.1,16.6,16.6,15.5,16.9,21,16.9,16.6,16.9,15.6,15.8,15.1,15.2,20.1,15.3,18.5,16.8,23.2,25.1,18.7,20.9,15,15.3,23.3,13.7]}};const at=function(){var e={};for(var t in nt){for(var r in e[t]={},nt[t])for(var i=parseInt(r),o=nt[t][r].length;o--;)e[t][i+o]=nt[t][r][o]*ot[t];var n=Object.values(e[t]);e[t][0]=n.reduce((function(e,t){return e+t}),0)/n.length}return e}();var st=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),lt=function(){return lt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lt.apply(this,arguments)},ct=["top","bottom"],ut={overlay:!0,autoFit:!0,element:null,type:t.empty,size:"auto",sizeValue:0,sizeUnit:2},dt=function(t){function r(e){var r=t.call(this,e)||this;return Object.defineProperty(r,"sides",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"hasSide",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"coreElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"overlayMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"margins",{enumerable:!0,configurable:!0,writable:!0,value:"0px"}),Object.defineProperty(r,"coreWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"coreHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.store.sides=r.sides,r.container=r.store.initialContainer,r.init(),r.render(),r.subscribe(["themeIsInit"]),r}return st(r,t),Object.defineProperty(r.prototype,"onClick",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.addLinkClick(C.READY);var e=_(this.store.player,this.store.creativeIndex);L(this.store.player,1330,e),window.open(this.store.linkURL,"_blank")}}),Object.defineProperty(r.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,r;if(this.store.initStore.overlayMode&&this.initOverlay(),"string"==typeof this.store.specialDisclaimer&&this.store.specialDisclaimer in e){var i=se.specialDisclaimer.config[this.store.specialDisclaimer],o=se.specialDisclaimer.defaultPos,n=v("div",{classes:ee.sideBlock});n.onclick=this.onClick.bind(this),n.onmousedown=function(e){return e.preventDefault(),e.stopPropagation(),!1},this.sides[o]=lt(lt(lt({},this.sides[o]||{}),{autoFit:!0,content:i.text,element:n,type:this.store.specialDisclaimer}),f(i.size)),this.initSideElement(o)}else if("object"==typeof this.store.specialDisclaimer&&"string"==typeof this.store.specialDisclaimer.type&&this.store.specialDisclaimer.type.toLowerCase()in e){o=function(e,t){if("string"!=typeof e||!Array.isArray(t))return null;var r=e.toLowerCase().trim();return t.includes(r)?r:null}(this.store.specialDisclaimer.pos,se.allowedSides)||se.specialDisclaimer.defaultPos;var a=f((null===(t=se.specialDisclaimer.config[this.store.specialDisclaimer.type])||void 0===t?void 0:t.size)||se.specialDisclaimer.defaultSize),s=this.store.specialDisclaimer.type.toLowerCase();i=se.specialDisclaimer.config[s];this.sides[o]=lt({autoFit:!0,content:(null===(r=this.store.specialDisclaimer)||void 0===r?void 0:r.text)||i.text,element:v("div",{classes:ee.sideBlock}),type:s},a),this.initSideElement(o)}this.hasSide=Object.keys(this.sides).length>0}}),Object.defineProperty(r.prototype,"initOverlay",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.overlayMode=!0,this.container.style.setProperty("transition","none"),this.sides.top=lt({},ut),this.sides.bottom=lt({},ut)}}),Object.defineProperty(r.prototype,"createTextElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.sides[e];if(t&&t.content&&"string"==typeof t.content){var r={classes:ee.sideText,appendTo:t.element,innerText:t.content};t.textElement=v("span",r),this.measureText(e)}}}),Object.defineProperty(r.prototype,"getHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t={height:0,heightP:0,heightT:0};return ct.forEach((function(r){var i,o=null===(i=e.sides)||void 0===i?void 0:i[r];o&&(2===(null==o?void 0:o.sizeUnit)?t.heightP=t.heightP+(o.sizeValue||0):t.height=t.height+(+o.sizeValue||0),t.heightT=t.heightT+o.calcValue||0)})),t}}),Object.defineProperty(r.prototype,"removeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this;if(this.hasSide){var r=function(e){var t;i.container.style.setProperty("--side-".concat(e),"0px");var r=i.sides[e].element;if(!(r instanceof HTMLElement))return"continue";if(i.store.player.isSdkMode||!i.store.destroyContainer)r.remove();else{var o=ct.includes(e)?"height":"width";b(r,((t={transition:"transition: opacity 0.6s ease-in-out 0s, ".concat(o," 0.6s ease-in-out 0s")})[o]="0px",t.opacity="0",t)),setTimeout((function(){return r.remove()}),600)}},i=this;for(var o in this.sides)r(o);this.store.player.isSdkMode||!this.store.destroyContainer?(this.container.style.setProperty("transition","none"),null===(e=this.coreElement)||void 0===e||e.remove()):(b(this.coreElement,{opacity:"0",height:"0"}),setTimeout((function(){var e;return null===(e=t.coreElement)||void 0===e?void 0:e.remove()}),600)),this.hasSide=!1,this.sides={}}}}),Object.defineProperty(r.prototype,"initSideElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.sides[e],r=null==t?void 0:t.element;if(r)return ct.includes(e)?(b(r,{height:"var(--side-".concat(e,")"),width:"100%",overflow:"hidden"}),this.createTextElement(e),this.measureText(e)):b(r,{height:"100%",width:"var(--side-".concat(e,")")}),r}}),Object.defineProperty(r.prototype,"resizeCoreElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t="100%"),this.driver.modules.CreativeSides.coreElement&&(b(this.driver.modules.CreativeSides.coreElement,{height:w(e),width:w(t)}),this.container.style.setProperty("--core-height",w(e)))}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.hasSide&&(b(this.container,{display:"flex",flexDirection:"column",gap:"0px",justifyContent:"flex-start",overflow:"hidden"}),(null===(e=this.sides.top)||void 0===e?void 0:e.element)&&this.container.appendChild(this.sides.top.element),this.coreElement=v("div",{appendTo:this.container,classes:ee.subContainer}),this.coreElement.id="adman-sub-container-".concat(Math.round(1e4*Math.random())),(null===(t=this.sides.bottom)||void 0===t?void 0:t.element)&&this.container.appendChild(this.sides.bottom.element))}}),Object.defineProperty(r.prototype,"measureTextBlock",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,r=this.sides[e];if(r&&r.content&&"string"==typeof r.content){var i=v("span",{classes:[ee.sideText,ee.measureText],styles:{fontWeight:this.container.style.getPropertyValue("--adm-side-fontWeight")||"300"},innerText:r.content,appendTo:document.body}),o=function(n){void 0===n&&(n=0),setTimeout((function(){if(+i.offsetWidth&&r.standardWidth!==i.offsetWidth)r.offsetWidth=i.offsetWidth,t.rescaleSide(e);else if(n<10)return o(n+1);i.remove()}),1e3)};o()}}}),Object.defineProperty(r.prototype,"resize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this;void 0===t&&(t="100%"),["top","bottom"].forEach((function(t){var i=r.sides[t];i&&(i.calcValue=2===i.sizeUnit?Math.ceil(e/(1-i.sizeValue)-e):i.sizeValue||0,r.driver.modules.CreativeSides.rescaleSide(t))})),this.resizeCoreElement(e,t),se.allowedSides.forEach((function(e){var t;r.container.style.setProperty("--side-".concat(e),"".concat((null===(t=r.sides[e])||void 0===t?void 0:t.calcValue)||0,"px"))}))}}),Object.defineProperty(r.prototype,"rescaleSide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r=null===(t=this.sides)||void 0===t?void 0:t[e];if(r&&r.element&&r.textElement&&r.content&&"string"==typeof r.content){var i=this.store.isFullWidth?this.coreWidth||this.container.offsetWidth:parseInt(this.store.style.width),o=r.calcValue/24,n=Math.min(2*o,i/(r.offsetWidth||r.standardWidth||i)).toFixed(4);r.element.style.setProperty("width","".concat(i,"px")),r.textElement.style.setProperty("scale","".concat(n," ").concat(o.toFixed(4))),r.textElement.offsetHeight&&ct.includes(e)&&this.container.style.setProperty("--side-".concat(e),"".concat(r.calcValue,"px"))}}}),Object.defineProperty(r.prototype,"measureText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.sides[e];if(t&&t.content&&"string"==typeof t.content){var r=t.fontWeight in at?t.fontWeight:300;t.standardWidth=Array.from(t.content.toUpperCase()).reduce((function(e,t){return e+at[r][t.charCodeAt(0)]||at[r][0]}),0)}}}),Object.defineProperty(r.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.hasSide)for(var e in this.sides)this.sides[e].offsetWidth||this.measureTextBlock(e)}}),Object.defineProperty(r.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.removeAll(),t.prototype.destroy.call(this)}}),r}(be),pt=function(){function e(e){Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"driver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.driver=e,this.store=e.store,this.element=document.createElement("div")}return Object.defineProperty(e.prototype,"addStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.element.classList.add(e)}}),Object.defineProperty(e.prototype,"addEventListner",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.element.addEventListener("click",(function(){e()}))}}),Object.defineProperty(e.prototype,"append",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.initialContainer.appendChild(this.element)}}),Object.defineProperty(e.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.element.remove()}}),e}(),ft=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),bt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.addStyles(ee.progress_bar),r.container=t.store.initialContainer,r}return ft(t,e),Object.defineProperty(t.prototype,"updateProgressWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r;this.element.style.width="".concat(this.store.creativeCurrentTime/this.store.duration*((null===(t=null===(e=this.driver.modules.CreativeSides)||void 0===e?void 0:e.coreElement)||void 0===t?void 0:t.offsetWidth)||(null===(r=this.container)||void 0===r?void 0:r.offsetWidth)),"px")}}),t}(pt),ht=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),vt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"counter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"ready",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.addStyles(ee.controls),r.addStyles(ee.controls_skip),r.ready=!1,r.store.allowClose&&r.store.allowCloseDelay?r.counted():r.readyToSkip(),r.addEventListner((function(){return r.clickSkip()})),r}return ht(t,e),Object.defineProperty(t.prototype,"clickSkip",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.ready&&this.store.driver.skip()}}),Object.defineProperty(t.prototype,"counted",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.counter=document.createElement("span"),this.counter.innerText="Пропустить",this.element.append(this.counter)}}),Object.defineProperty(t.prototype,"counterUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.ready){var e=Math.floor(this.store.allowCloseDelay-this.store.creativeCurrentTime);(!e||e<0)&&(this.counter.remove(),this.readyToSkip()),this.counter.innerText="Пропустить "+e.toString()}}}),Object.defineProperty(t.prototype,"readyToSkip",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.ready){var e=document.createElement("span");e.innerText="Пропустить";var t=document.createElement("span");t.classList.add(ee.controls_skip_icon),this.element.append(e,t),this.ready=!0}}}),t}(pt),yt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),mt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"baseVolume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.baseVolume=r.store.creativeVolume,r.addStyles(ee.controls),r.addStyles(ee.controls_volume),r.addEventListner((function(){return r.setVolume()})),r.toggleVolume(),r}return yt(t,e),Object.defineProperty(t.prototype,"setVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.setProp(this.store.creativeVolume?0:this.baseVolume||1,"creativeVolume")}}),Object.defineProperty(t.prototype,"toggleVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.creativeVolume>0?this.element.classList.add(ee.controls_volume_on):this.element.classList.remove(ee.controls_volume_on)}}),t}(pt),gt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),wt=se.disclaimer.relations,Pt=function(){function e(e){Object.defineProperty(this,"AdActionsInstance",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"driver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.driver=e,this.store=e.store,this.AdActionsInstance=new jt(e),this.AdActionsInstance.handleListeners("addEventListener")}return Object.defineProperty(e.prototype,"append",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.AdActionsInstance.init(),this.AdActionsInstance.appendTo(this.store.initialContainer)}}),Object.defineProperty(e.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.AdActionsInstance.destroy()}}),e}(),jt=function(e){function t(t){var r,i=e.call(this,t)||this;for(r in Object.defineProperty(i,"isOpened",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(i,"appendedTo",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(i,"elements",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(i,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.config=i.store.adActionsConfig,i.subscribe(["creativePlayState","creativeCurrentTime"]),wt)i.elements[r]=i.createElement("",r),wt[r].forEach((function(e){i.elements[e]=i.createElement("".concat(r,"_"),e),i.elements[r].appendChild(i.elements[e])}));return tt.getDisclaimerElements(i.store,i.config.members).forEach((function(e){return i.elements.disclaimerWrap.appendChild(i.elements[e])})),i}return gt(t,e),Object.defineProperty(t.prototype,"createElement",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){if(void 0===r&&(r="span"),t in this.elements)return this.elements[t];var i=document.createElement(r);return i.classList.add(ee["".concat(e).concat(t)]),i}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;(null===(e=this.store)||void 0===e?void 0:e.creativePlayState)===C.PLAYING&&this.onTimeRemained(this.store.creativeCurrentTime,this.store.duration)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handleListeners("removeEventListener"),this.elements.actionBlock.remove(),e.prototype.destroy.call(this)}}),Object.defineProperty(t.prototype,"handleListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.elements.actionBlock[e]("click",(function(e){return t.toggleAdChoice(e)})),this.elements.actions_about[e]("click",(function(e){return t.redirToAboutAdvPageListener(e)})),this.elements.actions_copy[e]("click",(function(e){return t.copyBannerOrdIdToClipboardListener(e)})),this.elements.button[e]("click",(function(e){return t.toggleAdChoice(e)}))}}),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fillData(),this.setSpecificStyles()}}),Object.defineProperty(t.prototype,"fillData",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e;"object"==typeof this.store.adActionsConfig&&(this.elements.disclaimer.innerText=this.store.adActionsConfig.disclaimerText||E.disclaimerText,this.elements.headerText.innerText=this.store.adActionsConfig.headerText||E.headerText,this.elements.aboutText.innerText=this.store.adActionsConfig.aboutText||E.aboutText,this.elements.copyText.innerText=this.store.ordID?"Скопировать ERID":this.store.adActionsConfig.copyText),this.elements.id.innerText=null!==(e=this.store.ordID)&&void 0!==e?e:this.store.bannerID}}),Object.defineProperty(t.prototype,"setSpecificStyles",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.initialContainer,t="right"===this.config.positionX;e.style.setProperty("--right",t?"var(--offset-x)":"none"),e.style.setProperty("--left",t?"none":"var(--offset-x)");var r="bottom"===this.config.positionY;e.style.setProperty("--bottom",r?"var(--offset-y)":"none"),e.style.setProperty("--top",r?"none":"var(--offset-y)")}}),Object.defineProperty(t.prototype,"updateRemainTime",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Math.floor(e/60),r=e-60*t,i=t.toString(),o=r.toString();1===o.length&&(o="0"+o),this.elements.timer.innerText=i+":"+o}}),Object.defineProperty(t.prototype,"onTimeRemained",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=Math.floor(t-e);this.updateRemainTime(!r||r<0?0:r)}}),Object.defineProperty(t.prototype,"redirToAboutAdvPageListener",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.stopPropagation();var t=this.store.cipherBannerID?this.store.cipherBannerID:btoa(this.store.bannerID);window.open(se.disclaimer.advPageUrlPart+"id="+t,"_blank")}}),Object.defineProperty(t.prototype,"copyBannerOrdIdToClipboardListener",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;e.stopPropagation();var r=null!==(t=this.store.ordID)&&void 0!==t?t:this.store.bannerID;this.copyToClipboard(r)}}),Object.defineProperty(t.prototype,"copyToClipboard",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}}),Object.defineProperty(t.prototype,"toggleAdChoice",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.stopPropagation();var t=this.isOpened?"remove":"add";this.elements.actions.classList[t](ee.actions_visible),this.elements.disclaimerWrap.classList[t](ee.disclaimerWrap_hidden),this.isOpened=!this.isOpened}}),Object.defineProperty(t.prototype,"appendTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e&&(this.appendedTo=e,e.appendChild(this.elements.actionBlock))}}),t}(be),Ot=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),xt=function(e){function t(t){var r=e.call(this,t)||this;Object.defineProperty(r,"button",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.addStyles(ee.controls),r.addStyles(ee.controls_cta),r.store.iconUrl&&(r.logo=v("img",{classes:ee.logo,appendTo:r.element}),r.logo.src=r.store.iconUrl),v("span",{innerText:r.store.ctaUrl||"Прямо сейчас",appendTo:r.element});var i=["ПЕРЕЙТИ","ПОДРОБНЕЕ","UNDEFINED"].includes((""+r.store.ctaText).toUpperCase())?"Узнать больше":r.store.ctaText;return r.button=v("div",{classes:ee.controls_cta_button,innerText:i,appendTo:r.element}),r.addEventListner((function(){return r.clickCta()})),r}return Ot(t,e),Object.defineProperty(t.prototype,"clickCta",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.addLinkClick(C.READY);var e=_(this.store.player,this.store.creativeIndex);L(this.store.player,1330,e),window.open(this.store.linkURL,"_blank")}}),Object.defineProperty(t.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.destroyContainer&&!this.store.player.isSdkMode&&tt.isUseAnimation(this.driver,"ctaFinishBoost")?this.driver.store.initStore.extractedCtaArea=this.element:(this.element.style.setProperty("left","-100%"),e.prototype.remove.call(this))}}),t}(pt),Ct=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),St=function(e){function t(t,r){var i=e.call(this,t)||this;return i.addStyles(ee.controls),i.addStyles(ee.controls_replay),r||i.addStyles(ee.controls_replay_no_volume),i.addEventListner((function(){return i.replay()})),i}return Ct(t,e),Object.defineProperty(t.prototype,"replay",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.initStore.playing||(this.store.initStore.replayed=!0,this.store.setProps({creativePlayState:C.ENDED,readyToDestroy:!0}),this.store.player.creativeProducer.restart())}}),t}(pt),It=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),At=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"modules",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.modules={disclaimer:new Pt(t)},r.initModules(),r.subscribe(["creativePlayState"]),r.subscribe(["creativeCurrentTime"],r.progressWidth),r.subscribe(["creativeCurrentTime"],r.countedSkip),r.subscribe(["creativeVolume"],r.toggleVolume),r}return It(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.creativePlayState;if(e===C.PLAYING)for(var t in this.modules)"replay"!==t&&this.modules[t].append();if(e===C.WAIT_REPLAY&&this.modules.replay.append(),e===C.ENDED)for(var r in this.modules)this.modules[r].remove()}}),Object.defineProperty(t.prototype,"progressWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;null===(t=null===(e=this.modules)||void 0===e?void 0:e.progressBar)||void 0===t||t.updateProgressWidth()}}),Object.defineProperty(t.prototype,"toggleVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;null===(t=null===(e=this.modules)||void 0===e?void 0:e.volume)||void 0===t||t.toggleVolume()}}),Object.defineProperty(t.prototype,"countedSkip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.store.allowCloseDelay&&(null===(t=null===(e=this.modules)||void 0===e?void 0:e.skip)||void 0===t||t.counterUpdate())}}),Object.defineProperty(t.prototype,"initModules",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.initStore.userConfig.controls,t="object"==typeof e?e:this.makeMonoConfig(Boolean(e)||void 0===e);this.appendModules(t)}}),Object.defineProperty(t.prototype,"makeMonoConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{progressBar:e,skip:e,volume:e,cta:e,replay:e}}}),Object.defineProperty(t.prototype,"appendModules",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.progressBar&&(this.modules.progressBar=new bt(this.driver)),e.skip&&this.store.allowClose&&(this.modules.skip=new vt(this.driver)),e.volume&&this.store.hasVolume&&(this.modules.volume=new mt(this.driver)),e.cta&&(this.modules.cta=new xt(this.driver)),e.replay&&(this.modules.replay=new St(this.driver,e.volume&&this.store.hasVolume))}}),t}(be),Mt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Tt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"ro",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.container=r.store.initialContainer,r.handler=r.handler.bind(r),r.onState=r.onState.bind(r),r.init(),r.subscribe(["containerWidth","playOccurred"]),r.subscribe(["creativePlayState"],r.onState),r}return Mt(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){"function"==typeof window.ResizeObserver&&(this.ro=new ResizeObserver(this.handler),this.ro.observe(this.container))}}),Object.defineProperty(t.prototype,"onState",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r;if(this.store.creativePlayState===C.ENDED)if(this.store.destroyContainer){this.container.style.setProperty("transition","opacity 0.6s ease-in-out 0s, padding 0.6s ease-in-out 0s, max-height 0.6s ease-in-out 0s");var i=null===(r=null===(t=null===(e=this.driver.modules.CreativeControls)||void 0===e?void 0:e.modules)||void 0===t?void 0:t.cta)||void 0===r?void 0:r.element;!this.store.player.isSdkMode&&i&&tt.isUseAnimation(this.driver,"ctaFinishBoost")?this.container.style.maxHeight="calc(".concat(i.offsetHeight,"px + var(--offset-y)*2)"):this.container.style.maxHeight="0px"}else this.container.style.maxHeight="0px"}}),Object.defineProperty(t.prototype,"handler",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,r,i=0,o=e;i<o.length;i++){var n=o[i];r=r||(null===(t=n.contentRect)||void 0===t?void 0:t.width)||Array.isArray(n.borderBoxSize)&&n.borderBoxSize.length?n.borderBoxSize[0].inlineSize:void 0}this.driver.store.setProps({containerWidth:r})}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store.readyToDestroy||(this.store.player.isSdkMode&&this.store.creativePlayState!==C.PLAYING&&this.store.creativePlayState!==C.PAUSE?this.container.style.maxHeight="0px":(this.store.player.isEjected&&this.store.player.ejectedWidth&&this.store.player.ejectedWidth!==this.container.offsetWidth&&(this.container.style.width="".concat(this.store.player.ejectedWidth,"px")),this.horizontalAlign(),this.store.initStore.overlayMode?this.resizeOverlay():this.resizeNoOverlay()))}}),Object.defineProperty(t.prototype,"horizontalAlign",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.store.isFullWidth)h(this.container,{"--left-align-offset":"0px","--right-align-offset":"0px"});else{var e=Math.ceil(this.container.offsetWidth-this.store.width);switch(this.store.align){case"left":h(this.container,{"--left-align-offset":"0px","--right-align-offset":"".concat(e,"px")});break;case"right":h(this.container,{"--left-align-offset":"".concat(e,"px"),"--right-align-offset":"0px"});break;default:h(this.container,{"--left-align-offset":"".concat(Math.round(e/2),"px"),"--right-align-offset":"".concat(Math.round(e/2),"px")})}}}}),Object.defineProperty(t.prototype,"resizeNoOverlay",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r=this.store.player.isEjected?this.store.player.ejectedWidth:this.store.isFullWidth?this.container.offsetWidth:this.store.width,i=this.store.isFullWidth?Math.round(r/this.store.creativeAspectRatio):this.store.height;this.driver.modules.CreativeSides.resize(i,r);var o=this.driver.modules.CreativeSides.sides,n=i+((null===(e=o.top)||void 0===e?void 0:e.calcValue)||0)+((null===(t=o.bottom)||void 0===t?void 0:t.calcValue)||0),a="".concat(n,"px");this.container.style.maxHeight=a,this.container.style.height=a}}),Object.defineProperty(t.prototype,"calcEnclosedSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.player.store.parentContainer.getBoundingClientRect(),t=e.height,r=e.width,i=this.driver.modules.CreativeSides.getHeight(),o=this.store.isFullWidth?Math.round(r/this.store.creativeAspectRatio):this.store.height,n=Math.ceil(i.height+o*i.heightP),a=Math.floor(t-(o+n));if(a>=0)return{width:r,overlayOutHeight:a,height:o,parentHeight:t};if(n>t/2)return{width:r,overflow:!0,overlayOutHeight:0,overlayOutWidth:r-Math.round(t/2*this.store.creativeAspectRatio),height:t/2,parentHeight:t};var s=t-i.height,l=Math.round(s*(1-i.heightP)),c=Math.round(l*this.store.creativeAspectRatio);return{width:c,height:l,overflow:!0,overlayOutHeight:0,overlayOutWidth:r-c,parentHeight:t}}}),Object.defineProperty(t.prototype,"overlayAlign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;void 0===e&&(e={});var r=null!==(t=e.overlayOutWidth)&&void 0!==t?t:0,i=this.driver.modules.CreativeSides.getHeight(),o=e.parentHeight-e.height-(i.heightT||0)||0;o<0&&(o=0);var n=this.store.initStore.userConfig.overlayMode,a="object"==typeof n&&"string"==typeof n.align?n.align.toLowerCase():"center";if("top"===a)h(this.container,{"--padding-top":"0px","--padding-bottom":"".concat(o,"px")});else if("bottom"===a)h(this.container,{"--padding-top":"".concat(o,"px"),"--padding-bottom":"0px"});else{var s="".concat(Math.floor(o/2),"px");h(this.container,{"--padding-top":s,"--padding-bottom":s})}var l="0px";e.overflow?l="".concat(r<=1?0:Math.floor(r/2),"px"):this.container.style.setProperty("width","100%"),h(this.container,{"--padding-left":l,"--padding-right":l})}}),Object.defineProperty(t.prototype,"resizeOverlay",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.calcEnclosedSize(),t=e.width,r=e.height,i=e.parentHeight,o=e.overlayOutHeight;e.overflow;this.driver.modules.CreativeSides.coreWidth=t,this.driver.modules.CreativeSides.coreHeight=r,this.driver.modules.CreativeTheme.setSize(),this.driver.modules.CreativeSides.resize(r,o>0?void 0:t),this.overlayAlign(e);var n="".concat(i,"px");this.container.style.maxHeight=n,this.container.style.height=n}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.ro&&(this.ro.disconnect(),this.ro=null),this.overlayAlign(),e.prototype.destroy.call(this)}}),t}(be),Et=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Dt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"isTopShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"isBottomShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"isEjected",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"side",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t.store.initStore.userConfig.eject||r.store.player.isEjected||(r.container=t.store.initialContainer,r.side="left"===String(t.store.initStore.userConfig.eject).toLowerCase()?"left":"right",r.handler=r.handler.bind(r),r.init()),r}return Et(t,e),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){window.addEventListener("scroll",this.handler)}}),Object.defineProperty(t.prototype,"handler",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this;if(!this.isEjected&&!this.store.readyToDestroy){var r="left"===this.side,i=this.container.getBoundingClientRect(),o=i.height/2,n=document.documentElement,a=n.clientHeight,s=n.clientWidth;if(!this.isTopShow&&i.top>0&&i.top<document.documentElement.clientHeight&&(this.isTopShow=!0),!this.isBottomShow&&i.bottom>0&&i.bottom<document.documentElement.clientHeight&&(this.isBottomShow=!0),!this.isEjected&&(this.isTopShow&&i.top<-o||this.isBottomShow&&i.bottom>a+o)){var l=r?i.left:s-i.right;b(this.container,((e={})[this.side]="".concat(l,"px"),e.position="fixed",e.bottom="".concat(a-i.bottom,"px"),e.width="".concat(i.width,"px"),e.transition="opacity 0.6s ease-in-out 0s, padding 0.6s ease-in-out 0s, max-height 0.6s ease-in-out 0s, left var(--adm-tr-func), right var(--adm-tr-func), bottom var(--adm-tr-func)",e));var c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent)||(null===screen||void 0===screen?void 0:screen.width)<=480?Math.floor(s/2):r?i.left>320?Math.min(i.left-20,i.width):300:s-i.right>320?Math.min(s-i.right-20,i.width):300;setTimeout((function(){var e;b(t.container,((e={})[t.side]="5px",e.bottom="5px",e.width="".concat(c,"px"),e))}),0),this.isEjected=!0,window.removeEventListener("scroll",this.handler),this.store.player.isEjected=!0,this.store.player.ejectedWidth=c}}}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){window.removeEventListener("scroll",this.handler),e.prototype.destroy.call(this)}}),t}(be),kt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Lt=function(e,t,r,i){return new(r||(r=Promise))((function(o,n){function a(e){try{l(i.next(e))}catch(e){n(e)}}function s(e){try{l(i.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},_t=function(e,t){var r,i,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],i=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Nt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"iframe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"sendCB",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"scriptPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"userConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"initiator",{enumerable:!0,configurable:!0,writable:!0,value:"render-runner"}),Object.defineProperty(r,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isPlayStarted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.container=r.store.initialContainer,r.sendCB=[],r.userConfig=r.store.player.store.userConfig,r.scriptPath="https://ad.mail.ru/static/render-runner.js",r.id=r.store.creativeVideoID+1e3*Math.random(),r.init(),r.subscribe(["creativePlayState"]),r.subscribe(["creativeVolume"],r.setVolume),r}return kt(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){switch(this.store.creativePlayState){case C.INITED:this.store.autoStart&&this.store.setProps({creativePlayState:C.PLAYING});break;case C.PLAYING:this.send("startAd",this.id);break;case C.PAUSE:case C.WAIT_REPLAY:this.send("pauseAd",this.id)}}}),Object.defineProperty(t.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;return Lt(this,void 0,void 0,(function(){var r=this;return _t(this,(function(i){switch(i.label){case 0:return window.addEventListener("message",(function(e){var t=e.data;t.initiator===r.initiator&&t.event&&r.onEvent(t)})),this.store.needRender?[4,fetch(this.scriptPath,{method:"HEAD"})]:[3,7];case 1:return i.sent().ok?(null===(e=this.userConfig)||void 0===e?void 0:e.iframe)?(this.initInIframe(),[3,4]):[3,2]:[3,5];case 2:return[4,this.initInBlock()];case 3:i.sent(),i.label=4;case 4:return[3,6];case 5:pe(this.store.player,313),i.label=6;case 6:return[3,8];case 7:(null===(t=this.userConfig)||void 0===t?void 0:t.iframe)&&(this.iframe=this.container.querySelector("iframe")),this.sendLoad(),i.label=8;case 8:return[2]}}))}))}}),Object.defineProperty(t.prototype,"onEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.event,r=e.args;if(t!==s.ready){if(r[0]===this.id)switch(t){case s.chunkLoaded:M.setRunnerLoaded(),this.store.setProps({runnerLoaded:!0},!0),this.store.needRender&&(Te.action("ready",this.store.player,this.store.creativeIndex),this.store.player.callbacks.use("onReady")),this.startAd();break;case s.inited:this.store.setProps({creativePlayState:C.PLAYING},!0);break;case s.removed:this.store.setProps({isDestroyed:!0},!0);break;case s.AdError:var i=r[1],o=Array.isArray(i)&&i.length?i[0]:"Chunk error";pe(this.store.player,361,{message:o});break;case s.AdClickThru:this.store.addLinkClick(C.READY);var n=_(this.store.player,this.store.creativeIndex);L(this.store.player,1330,n);break;case s.AdPlaying:Te.action("playing",this.store.player,this.store.creativeIndex);n=_(this.store.player,this.store.creativeIndex);this.isPlayStarted||L(this.store.player,1310,n),this.isPlayStarted=!0;break;case s.AdCanPlay:Te.action("canplay",this.store.player,this.store.creativeIndex);break;case s.AdLoadedData:Te.action("loadeddata",this.store.player,this.store.creativeIndex);break;case s.AdLoadStart:Te.action("adloadstart",this.store.player,this.store.creativeIndex);break;case s.AdLoadedMetaData:Te.action("metadataloaded",this.store.player,this.store.creativeIndex);break;case s.AdTimeUpdate:this.store.setProps({creativeCurrentTime:r[1]});break;case s.AdStarted:this.store.setProp(C.PLAYING,"creativePlayState",!0);break;case s.AdEnded:var a=this.store.initStore.userConfig.controls;this.store.destroyContainer&&("boolean"==typeof a&&a||"object"==typeof a&&a.replay)?(this.store.setProp(C.WAIT_REPLAY,"creativePlayState",!0),this.store.setProp(!1,"destroyContainer")):this.store.setProp(C.ENDED,"creativePlayState",!0)}}else this.sendLoad()}}),Object.defineProperty(t.prototype,"send",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.iframe?this.iframe.contentWindow:window,o=(i&&"object"==typeof i?i.origin:"")+"/adman-runner.html";this.sendCB.forEach((function(r){return r(e,t)})),i.postMessage({initiator:this.initiator,method:e,args:t},o)}}),Object.defineProperty(t.prototype,"sendLoad",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.send("load",this.id,this.store.type)}}),Object.defineProperty(t.prototype,"initInBlock",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Lt(this,void 0,void 0,(function(){var e,t=this;return _t(this,(function(r){switch(r.label){case 0:return e=function(e,r,i){return new Promise((function(o){var n=e.getElementsByTagName(r)[0],a=e.createElement(r);a.id=i,a.onload=function(){M.setRunnerLoaded(),o(!0)},a.setAttribute("src",t.scriptPath),n.parentNode.insertBefore(a,n)}))},document.getElementById("adman-creative-runner")?(M.runnerLoaded?this.sendLoad():M.subscribe(["runnerLoaded"],this.sendLoad),[3,3]):[3,1];case 1:return[4,e(window.document,"script","adman-creative-runner")];case 2:r.sent(),this.sendLoad(),r.label=3;case 3:return[2]}}))}))}}),Object.defineProperty(t.prototype,"initInIframe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this.iframe=document.createElement("iframe"),this.iframe.name="VK-Creative",this.iframe.allow="autoplay",this.iframe.id="iframe-"+this.id,this.iframe.className=ee.player_frame,(null===(t=null===(e=this.store.driver.modules)||void 0===e?void 0:e.CreativeSides)||void 0===t?void 0:t.hasSide)?this.store.driver.modules.CreativeSides.coreElement.appendChild(this.iframe):this.container.appendChild(this.iframe);var r=this.iframe.contentDocument;r.open(),r.write("<!DOCTYPE html><html><head></head><body>"),r.write('<script type="text/javascript" src="'+this.scriptPath+'"><\/script></body></html>'),r.close()}}),Object.defineProperty(t.prototype,"startAd",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;switch(this.store.type){case o.video:t=this.store.html5Video;break;case o.html:t=this.store.ssrBanner}var r=this.iframe?null:(null===(e=this.store.driver.modules.CreativeSides.coreElement)||void 0===e?void 0:e.id)||this.store.initialContainer.id;this.driver.modules.CreativeSides.coreElement&&this.driver.modules.CreativeSides.coreHeight&&(t.style["max-height"]="".concat(this.driver.modules.CreativeSides.coreHeight,"px"),t.coreHeight=this.driver.modules.CreativeSides.coreHeight,t.coreWidth=this.driver.modules.CreativeSides.coreWidth),this.send("init",t,r,this.id);var i=this.store.player.isSdkMode?C.INITED:C.READY;this.store.setProps({creativePlayState:i})}}),Object.defineProperty(t.prototype,"setVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.send("setAdVolume",this.id,e.creativeVolume)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.send("remove",this.id),e.prototype.destroy.call(this)}}),t}(be),zt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Rt=function(e){function t(t){var r=e.call(this,t)||this;return Object.defineProperty(r,"timer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"currentTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.timer=null,r.currentTime=0,r.ticks=0,r.subscribe(["creativePlayState"]),r}return zt(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){switch(this.store.creativePlayState){case C.PLAYING:this.run();break;case C.PAUSE:case C.ENDED:this.stop()}}}),Object.defineProperty(t.prototype,"run",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this.timer){var t=Date.now();this.timer=setInterval((function(){var r;if(null===(r=e.store)||void 0===r?void 0:r.setProp){e.ticks+=1;var i=Date.now(),o=i-t;t=i,e.currentTime+=o;var n=e.currentTime/1e3;e.store.setProp(n,"creativeCurrentTime"),"html"===e.store.type&&e.store.duration&&n>=e.store.duration&&(e.store.setProp(C.ENDED,"creativePlayState"),e.store.setProp(!0,"readyToDestroy"))}else e.stop()}),251)}}}),Object.defineProperty(t.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.timer&&clearInterval(this.timer),this.timer=null}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.stop(),e.prototype.destroy.call(this)}}),t}(be);function Vt(e,t){var r=e;do{r=r[t]}while(r&&1!==r.nodeType);return r}var Bt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Wt=function(e){function t(t){var r=this,i={store:t};return r=e.call(this,i)||this,Object.defineProperty(r,"modules",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isDriverDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),t.setProps({driver:r}),r.modules={CreativeAutoplay:new Ne(r),CreativeQuartile:new Re(r),CreativePixelSender:new We(r),CreativePageFocus:new Ye(r),CreativeViewability:new Xe(r),CreativeStats:new $e(r),CreativeRenderer:null,CreativeTheme:new tt(r),CreativeStateEvents:new it(r),CreativeSides:new dt(r),CreativeControls:new At(r),CreativeResize:new Tt(r),CreativeEjector:new Dt(r)},r.modules.CreativeRenderer=new Nt(r),"video"!==r.store.type&&(r.modules.CreativeTimer=new Rt(r)),r.subscribe(["readyToDestroy"]),r}return Bt(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDriverDestroyed)return ue.error(5007);this.store.creativePlayState===C.ENDED&&this.destroy()}}),Object.defineProperty(t.prototype,"restart",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ue.success}}),Object.defineProperty(t.prototype,"start",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isDriverDestroyed?ue.error(5007):(this.store.runnerLoaded?(this.modules.CreativeRenderer.startAd(),this.store.setProps({creativePlayState:C.PLAYING})):this.store.subscribe(["runnerLoaded"],this.start.bind(this)),ue.success)}}),Object.defineProperty(t.prototype,"setVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.isDriverDestroyed?ue.error(5007):(this.store.setProp(e,"creativeVolume"),ue.success)}}),Object.defineProperty(t.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isDriverDestroyed?ue.error(5007):this.store.creativePlayState!==C.PLAYING?ue.error(5004):(this.modules.CreativeAutoplay.setManualPause(!0),this.store.setProp(C.PAUSE,"creativePlayState",!0),ue.success)}}),Object.defineProperty(t.prototype,"resume",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isDriverDestroyed?ue.error(5007):this.store.creativePlayState!==C.PAUSE?ue.error(5005):(this.modules.CreativeAutoplay.setManualPause(!1),this.store.setProp(C.PLAYING,"creativePlayState",!0),ue.success)}}),Object.defineProperty(t.prototype,"skip",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isDriverDestroyed?ue.error(5007):(this.store.creativePlayState===C.WAIT_REPLAY&&(this.store.setProp(C.ENDED,"creativePlayState",!0),this.cleanContainer()),this.store.setProp(C.ENDED,"creativePlayState",!0),ue.success)}}),Object.defineProperty(t.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isDriverDestroyed?ue.error(5007):(this.skip(),this.cleanContainer(),ue.success)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.isDriverDestroyed?ue.error(5003):this.store.player.isSdkMode||!this.store.destroyContainer?this.destroyExecutor():this.cleanContainer()}}),Object.defineProperty(t.prototype,"destroyExecutor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;for(var r in this.store.creativePlayState!==C.ENDED&&this.store.creativePlayState!==C.WAIT_REPLAY||this.store.player.callbacks.use("onCompleted"),"inPage"===this.store.player.store.playMode&&this.store.destroyContainer&&!this.store.player.isSdkMode&&(null===(t=this.store)||void 0===t?void 0:t.initialContainer)instanceof HTMLElement&&this.store.initialContainer.remove(),this.disposeAll(),this.modules||{})Object.keys(this.modules[r]).length>0&&!this.modules[r].isDestroyed&&this.modules[r].destroy();return e.prototype.destroy.call(this),this.isDriverDestroyed=!0,ue.success}}),Object.defineProperty(t.prototype,"cleanContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t,r,i=this;if(this.isDriverDestroyed)return ue.error(5003);if(this.isDriverDestroyed=!0,this.store.player.isSdkMode)return this.destroyExecutor();var o=this.store.initialContainer,n=o.getBoundingClientRect(),a=null===(r=null===(t=null===(e=this.modules.CreativeControls)||void 0===e?void 0:e.modules)||void 0===t?void 0:t.cta)||void 0===r?void 0:r.element,s=this.modules.CreativeEjector.isEjected,l=function(){o.style.opacity="0",o.style.maxHeight="0";var e=Vt(o,"previousSibling"),t=Vt(o,"nextSibling");!s&&e&&t&&(parseInt(e.style.marginBottom)>parseInt(t.style.marginTop)?(t.style.transition="margin 0.6s ease-in-out 0s",t.style.marginTop="0"):(e.style.transition="margin 0.6s ease-in-out 0s",e.style.marginBottom="0")),setTimeout((function(){o.style.fontSize="1px!important",o.style.lineHeight="1px!important"}),450),setTimeout((function(){i.destroyExecutor()}),600)};if(a&&tt.isUseAnimation(this,"ctaFinishBoost")){a.style.setProperty("transition","left 500ms ease-out 0s, bottom 500ms ease-out 0s, scale 1s ease-out 0s, opacity 1s ease-out 0s");var c="true"==o.getAttribute("isDedicatedFixed"),u=a.getBoundingClientRect();a.classList.remove(ee.backlight);var d=Math.floor((n.width-u.width)/2);if(a.style.setProperty("left","".concat(d,"px")),c){var p=Math.floor((n.height-u.height)/2);a.style.setProperty("bottom","".concat(p,"px"))}else o.style.padding="0 ".concat(d,"px");var f=o.getElementsByClassName(ee.logo)[0];f&&f.classList.remove(ee.scaling),this.modules.CreativeRenderer.send("remove",this.modules.CreativeRenderer.id),setTimeout((function(){a.classList.add(ee.scaling)}),400),setTimeout((function(){a.classList.remove(ee.scaling),l()}),5400)}else s&&(o.style.bottom="".concat(o.offsetHeight/2+5,"px")),o.style.padding="0 ".concat(Math.floor(n.width/2),"px"),l();return this.modules.CreativeSides.removeAll(),ue.success}}),t}(be),Ht=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Ut=function(e){function t(t){var r=this;return t.isInited?(r=e.call(this,t)||this,Object.defineProperty(r,"drivers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(r,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),r.subscribe(["currentCreativesState"]),r):r}return Ht(t,e),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.drivers=[],this.store.currentCreativesState.forEach((function(t){t.setProps({player:e.player});var r=new Wt(t);e.drivers.push(r),("inStream"!==e.player.store.playMode&&!e.player.isSdkMode||t.autoStart)&&r.start()})),this.subscribe(["readyToDestroy","destroyContainer"],this.disposer)}}),Object.defineProperty(t.prototype,"start",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.drivers.map((function(e){return e.start()}));return this.processResult(e)}}),Object.defineProperty(t.prototype,"restart",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.stop();return setTimeout((function(){return e.start()}),0),ue.success}}),Object.defineProperty(t.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.drivers.map((function(e){return e.pause()}));return this.processResult(e)}}),Object.defineProperty(t.prototype,"setVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.drivers.map((function(t){return t.setVolume(e)}));return this.processResult(t)}}),Object.defineProperty(t.prototype,"resume",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.drivers.map((function(e){return e.resume()}));return this.processResult(e)}}),Object.defineProperty(t.prototype,"skip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.drivers.map((function(e){return e.skip()}));return this.processResult(e)}}),Object.defineProperty(t.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.drivers.map((function(e){return e.stop()}));return this.disposeAll(),this.drivers=[],this.processResult(e)}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.drivers.forEach((function(e){return e.destroy(t)})),e.prototype.destroy.call(this),ue.success}}),Object.defineProperty(t.prototype,"disposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDisposed)return e.readyToDestroy&&e.destroyContainer&&(this.isDisposed=!0,this.disposeAll(),this.drivers=[]),ue.success}}),Object.defineProperty(t.prototype,"processResult",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.filter((function(e){return e.error}));return t.length?t[0]:ue.success}}),t}(be),Gt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Yt=function(e){function t(t){var r=e.call(this)||this;return Object.defineProperty(r,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"sections",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"currentSection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"currentPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"currentCreative",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"video",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"oneP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"isInited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(r,"isMidrollEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(r,"denyResume",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"startRangeP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.player=t,r.state=C.UNDEFINED,r}return Gt(t,e),Object.defineProperty(t.prototype,"playCreative",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.setProps({currentSection:e.section,currentPoint:e,currentCreative:t,state:C.PLAYING}),e.state=C.PLAYING,t.state=C.PLAYING}}),Object.defineProperty(t.prototype,"stopPlaying",{enumerable:!1,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=C.ENDED),this.currentPoint.state=e,this.currentCreative.state=e,this.denyResume||this.video.play().catch((function(e){})),this.denyResume=!1,this.setProps({currentSection:null,currentPoint:null,currentCreative:null,state:C.READY})}}),t}(I),Zt=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),Xt=function(e){function t(t){var r,i=this;if(!t.isInited)return i;i=e.call(this,t)||this,Object.defineProperty(i,"voStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.onTimeUpdate=i.onTimeUpdate.bind(i),i.playNext=i.playNext.bind(i),i.onPause=i.onPause.bind(i),i.onEnded=i.onEnded.bind(i),i.voStore=new Yt(t),i.detectStreamMode();var o=null===(r=i.store.userConfig.streamMode)||void 0===r?void 0:r.startRangeP;return i.voStore.startRangeP=o&&o>=1&&o<=15?o:se.streamMode.startRangeP||5,i}return Zt(t,e),Object.defineProperty(t.prototype,"detectStreamMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.store.userConfig.container;if("string"==typeof e){var t=document.querySelector(e);t instanceof HTMLVideoElement&&(this.setVideo(t),this.store.setProps({playMode:"inStream",extVideoElement:t,overlayMode:!0}),this.subscribe(["extVideoElement","visitResult"]),this.subscribe(["isInited"],this.initContainer))}}}),Object.defineProperty(t.prototype,"onUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;this.voStore.video instanceof HTMLVideoElement&&(null===(t=this.store.visitResult)||void 0===t?void 0:t.sections)&&this.store.extVideoElement&&!this.voStore.isInited&&(this.initCreatives(),this.onDurationChange(),this.initPlayPoints(),this.injectPreRoll(),this.prepareMidroll(),this.handleMidroll(),this.subscribeToVideo(),this.voStore.setProps({isInited:!0}))}}),Object.defineProperty(t.prototype,"initContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.voStore.container=this.player.creativeProducer.setInitialContainer({type:"insert",target:this.store.extVideoElement,isFixed:g(this.voStore.video)}),this.store.setProps({initialContainer:this.voStore.container})}}),Object.defineProperty(t.prototype,"setVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!(e instanceof HTMLVideoElement))return ue.error(381);this.voStore.setProps({video:e,startDelta:.05*(+e.duration||100)}),this.onDurationChange(),this.store.setProps({playMode:"inStream"})}}),Object.defineProperty(t.prototype,"injectPreRoll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=null===(e=this.voStore.sections.preroll)||void 0===e?void 0:e[0];(null==t?void 0:t.state)===C.READY&&this.voStore.sections.midroll.unshift(t)}}),Object.defineProperty(t.prototype,"prepareMidroll",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(t.prototype,"handleMidroll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=null===(e=this.voStore.sections)||void 0===e?void 0:e.midroll,r=!Array.isArray(t)||!t.length||!t.some((function(e){return e.state===C.READY&&e.creatives.length}));this.voStore.setProps({isMidrollEmpty:r}),r&&this.voStore.video.removeEventListener("timeupdate",this.onTimeUpdate)}}),Object.defineProperty(t.prototype,"initCreatives",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=null===(e=this.store.visitResult)||void 0===e?void 0:e.sections;"object"==typeof t&&Object.values(t).forEach((function(e){Array.isArray(e)&&e.forEach((function(e){"object"==typeof e&&(e.state=C.READY),delete e.doOnEmptyResponseFromId}))}))}}),Object.defineProperty(t.prototype,"subscribeToVideo",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.voStore.video;e.addEventListener("timeupdate",this.onTimeUpdate),e.addEventListener("durationchange",this.onDurationChange),e.addEventListener("pause",this.onPause),e.addEventListener("ended",this.onEnded)}}),Object.defineProperty(t.prototype,"onDurationChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!(this.voStore.video instanceof HTMLVideoElement))return ue.error(381);this.voStore.setProps({duration:this.voStore.video.duration,oneP:this.voStore.video.duration/100})}}),Object.defineProperty(t.prototype,"onPause",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r;this.voStore.state!==C.READY||this.voStore.video.seeking||1===this.voStore.video.readyState||(this.voStore.setProps({denyResume:!0}),this.playGroup(null===(r=null===(t=this.voStore.sections)||void 0===t?void 0:t.pauseroll)||void 0===r?void 0:r[0]))}}),Object.defineProperty(t.prototype,"onEnded",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r;this.voStore.setProps({denyResume:!0}),this.playGroup(null===(r=null===(t=this.voStore.sections)||void 0===t?void 0:t.postroll)||void 0===r?void 0:r[0])}}),Object.defineProperty(t.prototype,"onTimeUpdate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r=this;if(!this.voStore.isMidrollEmpty&&"object"==typeof e&&e.target instanceof HTMLVideoElement){var i=e.target.currentTime,o=(null===(t=this.voStore.sections)||void 0===t?void 0:t.midroll).find((function(e){return e.state===C.READY&&i>=e.point&&i-e.point<r.voStore.oneP*r.voStore.startRangeP&&e.creatives.length}));o&&(this.voStore.setProps({denyResume:!1}),this.playGroup(o))}}}),Object.defineProperty(t.prototype,"playNext",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;if((null===(t=null===(e=this.player.creativeProducer)||void 0===e?void 0:e.currentCreativeStore)||void 0===t?void 0:t.creativePlayState)===C.ENDED){var r=this.voStore,i=r.currentPoint,o=r.currentCreative;o&&(o.state=C.ENDED);var n=i.creatives.find((function(e){return e.state===C.READY}));n?(n.state=C.PLAYING,this.playCreative(i,n)):("midroll"===this.voStore.currentSection&&this.handleMidroll(),this.voStore.stopPlaying())}}}),Object.defineProperty(t.prototype,"playCreative",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r=this.voStore.video.muted?0:this.voStore.video.volume;t.creativeVolume=r;var i=this.player.creativeProducer.playCreative(t,this.voStore.container);i.setProps({creativeVolume:r}),this.voStore.playCreative(e,t),i.subscribe(["creativePlayState"],this.playNext)}}),Object.defineProperty(t.prototype,"playGroup",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.voStore.state!==C.PLAYING&&"object"==typeof e&&e.state===C.READY){this.voStore.setProps({state:C.PLAYING}),e.state=C.PLAYING,this.voStore.video.pause();var t=e.creatives[0];this.playCreative(e,t)}}}),Object.defineProperty(t.prototype,"initPlayPoints",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this,r={};[i.preroll,i.postroll,i.pauseroll,i.midroll].forEach((function(e){return r[e]=[{creatives:[],point:0,section:e}]}));var o=null===(e=this.store.visitResult)||void 0===e?void 0:e.sections;if("object"!=typeof o)return this.voStore.setProps({sections:r}),ue.error(321);[i.preroll,i.postroll,i.pauseroll].forEach((function(e){return r[e]=t.buildAloneGroup(o[e],e)})),r.midroll=this.makeSchedule(i.midroll,this.store.userConfig.streamMode),this.voStore.setProps({sections:r})}}),Object.defineProperty(t.prototype,"buildAloneGroup",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return[{section:t,point:0,creatives:e,state:Array(e)&&e.length?C.READY:C.UNDEFINED}]}}),Object.defineProperty(t.prototype,"normalizeOptions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return e.groupStartStrategy||(e.groupStartStrategy=se.streamMode.groupStartStrategy),!e.groupDuration||e.groupDuration<10||e.groupDuration>t/2?(e.groupDurationP?e.groupDurationP<5?e.groupDurationP=5:e.groupDurationP>50&&(e.groupDurationP=50):e.groupDurationP=se.streamMode.groupDurationP||20,e.groupDuration=Math.ceil(t)*(e.groupDurationP/100),e):e}}),Object.defineProperty(t.prototype,"calcGroupPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!Array.isArray(e)||!e.length)return 1/0;var r,i=e.map((function(e){return e.point}));switch(t.groupStartStrategy||"middle"){case"min":r=Math.min.apply(Math,i);break;case"max":r=Math.max.apply(Math,i);break;case"begin":r=t.groupDuration*e[0].group;break;case"avg":r=i.reduce((function(e,t){return e+t}),0)/i.length;break;default:r=t.groupDuration*(e[0].group+.5)}return Math.floor(r)}}),Object.defineProperty(t.prototype,"makeSchedule",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var r,o=this;void 0===e&&(e=i.midroll),void 0===t&&(t={});var n=null===(r=this.store.visitResult)||void 0===r?void 0:r.sections[e];if(!n||!Array.isArray(n)||!n.length||this.voStore.duration<=0)return this.buildAloneGroup([],i.midroll);for(var a=this.voStore.duration,s=this.normalizeOptions(function(e){if(!Array.isArray(e))return null;var t={};return e.forEach((function(e){return"object"==typeof e&&(t=Object.assign(t,e))})),t}([se.streamMode,t]),a),l=n.map((function(e){var t,r,o=null!==(t=e.point)&&void 0!==t?t:Math.floor((null!==(r=e.pointP)&&void 0!==r?r:-1)*a/100),n=o>a||o<0?-1:Math.floor(o/s.groupDuration);return{section:i.midroll,point:o,creative:e,group:n}})),c=Math.ceil(a/s.groupDuration),u=Array(c),d=function(e){u[e]=l.filter((function(t){return t.group===e}))},p=c;p--;)d(p);var f=l.filter((function(e){return e.group<0||e.group>c}));return f.length&&f.forEach((function(e){var t=function(e){return e.reduce((function(e,t,r){return t.length&&e.cnt>t.length?{cnt:t.length,i:r}:e}),{cnt:9999,i:void 0})}(u).i||0;e.point=s.groupDuration*(t+.5),u[t].push(e)})),u.map((function(t){return{section:e,point:o.calcGroupPoint(t,s),creatives:t.map((function(e){return e.creative})),state:C.READY}}))}}),Object.defineProperty(t.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this.voStore.video;t instanceof HTMLVideoElement&&(t.removeEventListener("timeupdate",this.onTimeUpdate),t.removeEventListener("durationchange",this.onDurationChange),t.removeEventListener("pause",this.onPause),t.removeEventListener("ended",this.onEnded)),e.prototype.destroy.call(this)}}),t}(be),Ft=function(){function e(){Object.defineProperty(this,"playerId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"creativeProducer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"visit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"injector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"videoObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isInited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isSdkMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lastStatus",{enumerable:!0,configurable:!0,writable:!0,value:ue.success}),Object.defineProperty(this,"playOccurred",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"onReady",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onStarted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onPaused",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onPlayed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onCompleted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onClosed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onSkipped",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onClicked",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"adMidrollPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.initCore(),this.initCallbacks()}return Object.defineProperty(e.prototype,"setSdkMode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=!0),this.isSdkMode=e}}),Object.defineProperty(e.prototype,"initCore",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.store=new De(this),this.isSdkMode=!0,this.playerId=M.registerPlayer(this)}}),Object.defineProperty(e.prototype,"init",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return"object"!=typeof e?(de(this,331),ue.error(331)):this.isInited?ue.error(5001):(this.isInited=!0,this.isDestroyed&&(this.initCore(),this.isDestroyed=!1),this.registerCallbacks(e),this.store.userConfig=e,this.videoObserver=new Xt(this),this.dispatcher=new Ut(this),this.injector=new Se(this),this.creativeProducer=new je(this),this.resize=new xe(this),this.visit=new fe(this),this.isInited&&!this.isDestroyed&&(Te.action("inited",this),N(this,1002,{initMode:e.initMode||"extend"}),this.store.setProps({isInited:!0})),this.lastStatus)}}),Object.defineProperty(e.prototype,"start",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isInited)return ue.error(5002);if(this.isDestroyed)return ue.error(5007);if(this.store.playing)return ue.error(5006);if("inStream"===this.store.playMode)return ue.error(5008);if(this.playOccurred){var e=this.store.userConfig;this.destroy(),this.init(e)}return this.dispatcher.start(),this.playOccurred=!0,ue.success}}),Object.defineProperty(e.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isInited?this.store.playing?this.dispatcher.pause():ue.error(5004):ue.error(5002)}}),Object.defineProperty(e.prototype,"resume",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isInited?this.dispatcher.resume():ue.error(5002)}}),Object.defineProperty(e.prototype,"skip",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isInited?this.dispatcher.skip():ue.error(5002)}}),Object.defineProperty(e.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isInited?(this.callbacks.use("onClosed"),this.dispatcher.stop(),this.destroy()):ue.error(5002)}}),Object.defineProperty(e.prototype,"setPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!this.isInited)return ue.error(5002);var r=(e=Math.round(e))/(t=Math.round(t))*100;return(this.store.pointP&&this.store.pointP===r||this.store.point&&this.store.point===e)&&this.callbacks.use("adMidrollPoint"),ue.success}}),Object.defineProperty(e.prototype,"setVolume",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.isInited?this.dispatcher.setVolume(e):ue.error(5002)}}),Object.defineProperty(e.prototype,"destroy",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,r,i,o,n;if(void 0===e&&(e=!1),this.isDestroyed)return ue.error(5003);if(this.isDestroyed=!0,!this.isInited)return ue.error(5002);null===(t=this.videoObserver)||void 0===t||t.destroy(),null===(r=this.dispatcher)||void 0===r||r.destroy(!0),null===(i=this.creativeProducer)||void 0===i||i.destroy(),null===(o=this.resize)||void 0===o||o.destroy(),null===(n=this.callbacks)||void 0===n||n.destroy(),M.unRegisterEngine(this.playerId),this.store.setProps({destroyed:!0});var a=this.lastStatus;this.store.initialContainer instanceof HTMLElement&&this.store.initialContainer.remove();for(var s=0,l=Object.keys(this);s<l.length;s++){delete this[l[s]]}return this.isInited=!1,this.isDestroyed=!0,this.initCallbacks(),this.lastStatus=a,ue.success}}),Object.defineProperty(e.prototype,"registerCallbacks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!(this.callbacks instanceof le))return ue.error(5002);for(var t=0,r=se.engine.callbacks;t<r.length;t++){var i=r[t];"function"==typeof e[i]&&this.callbacks.register(i,e[i])}}}),Object.defineProperty(e.prototype,"initCallbacks",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.callbacks=new le,se.engine.callbacks.forEach((function(t){return e[t]=function(r){return e.callbacks.register(t,r)}}))}}),e}(),Kt=function(){return Kt=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kt.apply(this,arguments)},Qt=["null","http://mraid.bigo.sg"];function Jt(e){var t=new Ft;t.setSdkMode(!1),t.init(Kt(Kt({},e),{sdk:!1})),t.start()}!function(){var e,t;window.AdManSDK=Ft;var r=new URL(document.currentScript.src).searchParams;if(!Boolean(r.get("sdk"))){N(null,1001);var i={};window.AdManPlayer=Jt;var o=!0;if(Array.isArray(window._AdManPlayerInit)){if(!Array.isArray(window._AdManPlayerInit[0]))return void N(null,331,i)}else o=!1,function(){var e={initMode:"base"};try{r.forEach((function(t,r){return e[r]=t}))}catch(e){N(null,342)}window._AdManPlayerInit=[[e]]}(),(null===(e=document.currentScript)||void 0===e?void 0:e.src)&&(i.scriptSrc=document.currentScript.src);var n=null===(t=window._AdManPlayerInit[0])||void 0===t?void 0:t[0];if("object"==typeof n){n.slot&&"inline"!==n.initMode||function(e,t){void 0===t&&(t=window.AdmanBanner);if(!t)return;try{e.visit=JSON.parse(decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return void N(null,341)}e.initMode="inline"}(n),n.initMode||!n.visit||n.slot||(n.initMode="preload");var a=function(e){if("string"==typeof e){if(document.querySelector(e))return e;if(!e.startsWith(".")&&document.querySelector(".".concat(e)))return".".concat(e);if(document.getElementById(e))return"#".concat(e);if(document.getElementById("adman-ads"))return"#adman-ads"}if(document.getElementById("adman-ads"))return"#adman-ads"}(n.container);if(a?n.container=a:n.wrongContainer=!0,n.wrongContainer||!n.slot&&!["inline","preload"].includes(n.initMode)){if(o){if(n.container?n.wrongContainer&&N(null,311,Kt(Kt({},i),{container:"[undefined]"})):N(null,333,i),!n.slot)N(null,Qt.includes(M.client.origin)?9010:332,i)}}else[window._AdManPlayerInit,window._AdManSDKInit].forEach((function(e){Array.isArray(e)&&e.forEach((function(e){Jt(e[0])}))}))}}}()})()})();