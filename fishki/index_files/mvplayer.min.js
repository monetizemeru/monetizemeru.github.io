(()=>{var t={2521:t=>{"use strict";function e(t){return i(t,[])}function n(t,e){if("number"!=typeof e)throw new TypeError("Expected the depth to be a number");return o(t,[],e)}function i(t,e){for(var n=0;n<t.length;n++){var o=t[n];Array.isArray(o)?i(o,e):e.push(o)}return e}function o(t,e,n){n--;for(var i=0;i<t.length;i++){var r=t[i];n>-1&&Array.isArray(r)?o(r,e,n):e.push(r)}return e}t.exports=function(t){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return e(t)},t.exports.from=e,t.exports.depth=function(t,e){if(!Array.isArray(t))throw new TypeError("Expected value to be an array");return n(t,e)},t.exports.fromDepth=n},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=d(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,r=d(t),a=r[0],s=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),p=0,u=s>0?a-4:a;for(n=0;n<u;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[p++]=e>>16&255,c[p++]=e>>8&255,c[p++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[p++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[p++]=e>>8&255,c[p++]=255&e);return c},e.fromByteArray=function(t){for(var e,i=t.length,o=i%3,r=[],a=16383,s=0,d=i-o;s<d;s+=a)r.push(c(t,s,s+a>d?d:s+a));1===o?(e=t[i-1],r.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[i-2]<<8)+t[i-1],r.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return r.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=r.length;a<s;++a)n[a]=r[a],i[r.charCodeAt(a)]=a;function d(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,i){for(var o,r,a=[],s=e;s<i;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(r=o)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3818:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="undefined"!=typeof window&&void 0!==window.document,o="object"===("undefined"==typeof self?"undefined":n(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,r="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;e.isBrowser=i,e.isWebWorker=o,e.isNode=r,e.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},8764:(t,e,n)=>{"use strict";const i=n(9742),o=n(645),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=function(t){+t!=t&&(t=0);return d.alloc(+t)},e.INSPECT_MAX_BYTES=50;const a=2147483647;function s(t){if(t>a)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,d.prototype),e}function d(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return u(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|v(t,e);let i=s(n);const o=i.write(t,e);o!==n&&(i=i.slice(0,o));return i}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return h(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return h(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return h(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(null!=i&&i!==t)return d.from(i,e,n);const o=function(t){if(d.isBuffer(t)){const e=0|f(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?s(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return d.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function p(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return p(t),s(t<0?0:0|f(t))}function l(t){const e=t.length<0?0:0|f(t.length),n=s(e);for(let i=0;i<e;i+=1)n[i]=255&t[i];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(i,d.prototype),i}function f(t){if(t>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|t}function v(t,e){if(d.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(o)return i?-1:j(t).length;e=(""+e).toLowerCase(),o=!0}}function g(t,e,n){let i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return w(this,e,n);case"utf8":case"utf-8":return b(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function A(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function y(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=d.from(e,i)),d.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,o){let r,a=1,s=t.length,d=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,d/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){let i=-1;for(r=n;r<s;r++)if(c(t,r)===c(e,-1===i?0:r-i)){if(-1===i&&(i=r),r-i+1===d)return i*a}else-1!==i&&(r-=r-i),i=-1}else for(n+d>s&&(n=s-d),r=n;r>=0;r--){let n=!0;for(let i=0;i<d;i++)if(c(t,r+i)!==c(e,i)){n=!1;break}if(n)return r}return-1}function I(t,e,n,i){n=Number(n)||0;const o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;const r=e.length;let a;for(i>r/2&&(i=r/2),a=0;a<i;++a){const i=parseInt(e.substr(2*a,2),16);if(J(i))return a;t[n+a]=i}return a}function E(t,e,n,i){return K(j(e,t.length-n),t,n,i)}function V(t,e,n,i){return K(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function P(t,e,n,i){return K(H(e),t,n,i)}function C(t,e,n,i){return K(function(t,e){let n,i,o;const r=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,o=n%256,r.push(o),r.push(i);return r}(e,t.length-n),t,n,i)}function S(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function b(t,e,n){n=Math.min(t.length,n);const i=[];let o=e;for(;o<n;){const e=t[o];let r=null,a=e>239?4:e>223?3:e>191?2:1;if(o+a<=n){let n,i,s,d;switch(a){case 1:e<128&&(r=e);break;case 2:n=t[o+1],128==(192&n)&&(d=(31&e)<<6|63&n,d>127&&(r=d));break;case 3:n=t[o+1],i=t[o+2],128==(192&n)&&128==(192&i)&&(d=(15&e)<<12|(63&n)<<6|63&i,d>2047&&(d<55296||d>57343)&&(r=d));break;case 4:n=t[o+1],i=t[o+2],s=t[o+3],128==(192&n)&&128==(192&i)&&128==(192&s)&&(d=(15&e)<<18|(63&n)<<12|(63&i)<<6|63&s,d>65535&&d<1114112&&(r=d))}}null===r?(r=65533,a=1):r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),o+=a}return function(t){const e=t.length;if(e<=D)return String.fromCharCode.apply(String,t);let n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=D));return n}(i)}e.kMaxLength=a,d.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(t,e,n){return function(t,e,n){return p(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},d.allocUnsafe=function(t){return u(t)},d.allocUnsafeSlow=function(t){return u(t)},d.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==d.prototype},d.compare=function(t,e){if(Y(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(t)||!d.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,i=e.length;for(let o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},d.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return d.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const i=d.allocUnsafe(e);let o=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))o+e.length>i.length?(d.isBuffer(e)||(e=d.from(e)),e.copy(i,o)):Uint8Array.prototype.set.call(i,e,o);else{if(!d.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(i,o)}o+=e.length}return i},d.byteLength=v,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)A(this,e,e+1);return this},d.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)A(this,e,e+3),A(this,e+1,e+2);return this},d.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)A(this,e,e+7),A(this,e+1,e+6),A(this,e+2,e+5),A(this,e+3,e+4);return this},d.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?b(this,0,t):g.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(t){if(!d.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===d.compare(this,t)},d.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(t,e,n,i,o){if(Y(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;let r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0);const s=Math.min(r,a),c=this.slice(i,o),p=t.slice(e,n);for(let t=0;t<s;++t)if(c[t]!==p[t]){r=c[t],a=p[t];break}return r<a?-1:a<r?1:0},d.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},d.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},d.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},d.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}const o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let r=!1;for(;;)switch(i){case"hex":return I(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return V(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const D=4096;function T(t,e,n){let i="";n=Math.min(t.length,n);for(let o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function k(t,e,n){let i="";n=Math.min(t.length,n);for(let o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function w(t,e,n){const i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);let o="";for(let i=e;i<n;++i)o+=X[t[i]];return o}function x(t,e,n){const i=t.slice(e,n);let o="";for(let t=0;t<i.length-1;t+=2)o+=String.fromCharCode(i[t]+256*i[t+1]);return o}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,i,o,r){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function G(t,e,n,i,o){Q(e,i,o,t,n,7);let r=Number(e&BigInt(4294967295));t[n++]=r,r>>=8,t[n++]=r,r>>=8,t[n++]=r,r>>=8,t[n++]=r;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,n}function _(t,e,n,i,o){Q(e,i,o,t,n,7);let r=Number(e&BigInt(4294967295));t[n+7]=r,r>>=8,t[n+6]=r,r>>=8,t[n+5]=r,r>>=8,t[n+4]=r;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=a,a>>=8,t[n+2]=a,a>>=8,t[n+1]=a,a>>=8,t[n]=a,n+8}function L(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(t,e,n,i,r){return e=+e,n>>>=0,r||L(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,r){return e=+e,n>>>=0,r||L(t,0,n,8),o.write(t,e,n,i,52,8),n+8}d.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const i=this.subarray(t,e);return Object.setPrototypeOf(i,d.prototype),i},d.prototype.readUintLE=d.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let i=this[t],o=1,r=0;for(;++r<e&&(o*=256);)i+=this[t+r]*o;return i},d.prototype.readUintBE=d.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let i=this[t+--e],o=1;for(;e>0&&(o*=256);)i+=this[t+--e]*o;return i},d.prototype.readUint8=d.prototype.readUInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),this[t]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]|this[t+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(t,e){return t>>>=0,e||R(t,2,this.length),this[t]<<8|this[t+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},d.prototype.readBigUInt64LE=$((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const i=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,o=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))})),d.prototype.readBigUInt64BE=$((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const i=e*2**24+65536*this[++t]+256*this[++t]+this[++t],o=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(i)<<BigInt(32))+BigInt(o)})),d.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let i=this[t],o=1,r=0;for(;++r<e&&(o*=256);)i+=this[t+r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},d.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||R(t,e,this.length);let i=e,o=1,r=this[t+--i];for(;i>0&&(o*=256);)r+=this[t+--i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},d.prototype.readInt8=function(t,e){return t>>>=0,e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},d.prototype.readInt16LE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(t,e){t>>>=0,e||R(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},d.prototype.readInt32BE=function(t,e){return t>>>=0,e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},d.prototype.readBigInt64LE=$((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const i=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),d.prototype.readBigInt64BE=$((function(t){W(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||z(t,this.length-8);const i=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),d.prototype.readFloatLE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!0,23,4)},d.prototype.readFloatBE=function(t,e){return t>>>=0,e||R(t,4,this.length),o.read(this,t,!1,23,4)},d.prototype.readDoubleLE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!0,52,8)},d.prototype.readDoubleBE=function(t,e){return t>>>=0,e||R(t,8,this.length),o.read(this,t,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){M(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e>>>=0,n>>>=0,!i){M(this,t,e,n,Math.pow(2,8*n)-1,0)}let o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},d.prototype.writeUint8=d.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,1,255,0),this[e]=255&t,e+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},d.prototype.writeBigUInt64LE=$((function(t,e=0){return G(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeBigUInt64BE=$((function(t,e=0){return _(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}let o=0,r=1,a=0;for(this[e]=255&t;++o<n&&(r*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/r>>0)-a&255;return e+n},d.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e>>>=0,!i){const i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}let o=n-1,r=1,a=0;for(this[e+o]=255&t;--o>=0&&(r*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/r>>0)-a&255;return e+n},d.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},d.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},d.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},d.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},d.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},d.prototype.writeBigInt64LE=$((function(t,e=0){return G(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeBigInt64BE=$((function(t,e=0){return _(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeFloatLE=function(t,e,n){return O(this,t,e,!0,n)},d.prototype.writeFloatBE=function(t,e,n){return O(this,t,e,!1,n)},d.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},d.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},d.prototype.copy=function(t,e,n,i){if(!d.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);const o=i-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),e),o},d.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){const e=t.charCodeAt(0);("utf8"===i&&e<128||"latin1"===i)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{const r=d.isBuffer(t)?t:d.from(t,i),a=r.length;if(0===a)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=r[o%a]}return this};const B={};function F(t,e,n){B[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function U(t){let e="",n=t.length;const i="-"===t[0]?1:0;for(;n>=i+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function Q(t,e,n,i,o,r){if(t>n||t<e){const i="bigint"==typeof e?"n":"";let o;throw o=r>3?0===e||e===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(r+1)}${i}`:`>= -(2${i} ** ${8*(r+1)-1}${i}) and < 2 ** ${8*(r+1)-1}${i}`:`>= ${e}${i} and <= ${n}${i}`,new B.ERR_OUT_OF_RANGE("value",o,t)}!function(t,e,n){W(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||z(e,t.length-(n+1))}(i,o,r)}function W(t,e){if("number"!=typeof t)throw new B.ERR_INVALID_ARG_TYPE(e,"number",t)}function z(t,e,n){if(Math.floor(t)!==t)throw W(t,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,n){let i=`The value of "${t}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=U(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=U(o)),o+="n"),i+=` It must be ${e}. Received ${o}`,i}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function j(t,e){let n;e=e||1/0;const i=t.length;let o=null;const r=[];for(let a=0;a<i;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function H(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,i){let o;for(o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const i=16*n;for(let o=0;o<16;++o)e[i+o]=t[n]+t[o]}return e}();function $(t){return"undefined"==typeof BigInt?Z:t}function Z(){throw new Error("BigInt not supported")}},487:t=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=e},1012:t=>{var e,n;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var o=t[i]<<16|t[i+1]<<8|t[i+2],r=0;r<4;r++)8*i+6*r<=8*t.length?n.push(e.charAt(o>>>6*(3-r)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,o=0;i<t.length;o=++i%4)0!=o&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(i))>>>6-2*o);return n}},t.exports=n},645:(t,e)=>{e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,d=(1<<s)-1,c=d>>1,p=-7,u=n?o-1:0,l=n?-1:1,h=t[e+u];for(u+=l,r=h&(1<<-p)-1,h>>=-p,p+=s;p>0;r=256*r+t[e+u],u+=l,p-=8);for(a=r&(1<<-p)-1,r>>=-p,p+=i;p>0;a=256*a+t[e+u],u+=l,p-=8);if(0===r)r=1-c;else{if(r===d)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),r-=c}return(h?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,d,c=8*r-o-1,p=(1<<c)-1,u=p>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,f=i?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=p):(a=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-a))<1&&(a--,d*=2),(e+=a+u>=1?l/d:l*Math.pow(2,1-u))*d>=2&&(a++,d/=2),a+u>=p?(s=0,a=p):a+u>=1?(s=(e*d-1)*Math.pow(2,o),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+h]=255&a,h+=f,a/=256,c-=8);t[n+h-f]|=128*v}},8738:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},2568:(t,e,n)=>{var i,o,r,a,s;i=n(1012),o=n(487).utf8,r=n(8738),a=n(487).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?a.stringToBytes(t):o.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=i.bytesToWords(t),d=8*t.length,c=1732584193,p=-271733879,u=-1732584194,l=271733878,h=0;h<n.length;h++)n[h]=16711935&(n[h]<<8|n[h]>>>24)|4278255360&(n[h]<<24|n[h]>>>8);n[d>>>5]|=128<<d%32,n[14+(d+64>>>9<<4)]=d;var f=s._ff,v=s._gg,g=s._hh,A=s._ii;for(h=0;h<n.length;h+=16){var y=c,m=p,I=u,E=l;c=f(c,p,u,l,n[h+0],7,-680876936),l=f(l,c,p,u,n[h+1],12,-389564586),u=f(u,l,c,p,n[h+2],17,606105819),p=f(p,u,l,c,n[h+3],22,-1044525330),c=f(c,p,u,l,n[h+4],7,-176418897),l=f(l,c,p,u,n[h+5],12,1200080426),u=f(u,l,c,p,n[h+6],17,-1473231341),p=f(p,u,l,c,n[h+7],22,-45705983),c=f(c,p,u,l,n[h+8],7,1770035416),l=f(l,c,p,u,n[h+9],12,-1958414417),u=f(u,l,c,p,n[h+10],17,-42063),p=f(p,u,l,c,n[h+11],22,-1990404162),c=f(c,p,u,l,n[h+12],7,1804603682),l=f(l,c,p,u,n[h+13],12,-40341101),u=f(u,l,c,p,n[h+14],17,-1502002290),c=v(c,p=f(p,u,l,c,n[h+15],22,1236535329),u,l,n[h+1],5,-165796510),l=v(l,c,p,u,n[h+6],9,-1069501632),u=v(u,l,c,p,n[h+11],14,643717713),p=v(p,u,l,c,n[h+0],20,-373897302),c=v(c,p,u,l,n[h+5],5,-701558691),l=v(l,c,p,u,n[h+10],9,38016083),u=v(u,l,c,p,n[h+15],14,-660478335),p=v(p,u,l,c,n[h+4],20,-405537848),c=v(c,p,u,l,n[h+9],5,568446438),l=v(l,c,p,u,n[h+14],9,-1019803690),u=v(u,l,c,p,n[h+3],14,-187363961),p=v(p,u,l,c,n[h+8],20,1163531501),c=v(c,p,u,l,n[h+13],5,-1444681467),l=v(l,c,p,u,n[h+2],9,-51403784),u=v(u,l,c,p,n[h+7],14,1735328473),c=g(c,p=v(p,u,l,c,n[h+12],20,-1926607734),u,l,n[h+5],4,-378558),l=g(l,c,p,u,n[h+8],11,-2022574463),u=g(u,l,c,p,n[h+11],16,1839030562),p=g(p,u,l,c,n[h+14],23,-35309556),c=g(c,p,u,l,n[h+1],4,-1530992060),l=g(l,c,p,u,n[h+4],11,1272893353),u=g(u,l,c,p,n[h+7],16,-155497632),p=g(p,u,l,c,n[h+10],23,-1094730640),c=g(c,p,u,l,n[h+13],4,681279174),l=g(l,c,p,u,n[h+0],11,-358537222),u=g(u,l,c,p,n[h+3],16,-722521979),p=g(p,u,l,c,n[h+6],23,76029189),c=g(c,p,u,l,n[h+9],4,-640364487),l=g(l,c,p,u,n[h+12],11,-421815835),u=g(u,l,c,p,n[h+15],16,530742520),c=A(c,p=g(p,u,l,c,n[h+2],23,-995338651),u,l,n[h+0],6,-198630844),l=A(l,c,p,u,n[h+7],10,1126891415),u=A(u,l,c,p,n[h+14],15,-1416354905),p=A(p,u,l,c,n[h+5],21,-57434055),c=A(c,p,u,l,n[h+12],6,1700485571),l=A(l,c,p,u,n[h+3],10,-1894986606),u=A(u,l,c,p,n[h+10],15,-1051523),p=A(p,u,l,c,n[h+1],21,-2054922799),c=A(c,p,u,l,n[h+8],6,1873313359),l=A(l,c,p,u,n[h+15],10,-30611744),u=A(u,l,c,p,n[h+6],15,-1560198380),p=A(p,u,l,c,n[h+13],21,1309151649),c=A(c,p,u,l,n[h+4],6,-145523070),l=A(l,c,p,u,n[h+11],10,-1120210379),u=A(u,l,c,p,n[h+2],15,718787259),p=A(p,u,l,c,n[h+9],21,-343485551),c=c+y>>>0,p=p+m>>>0,u=u+I>>>0,l=l+E>>>0}return i.endian([c,p,u,l])})._ff=function(t,e,n,i,o,r,a){var s=t+(e&n|~e&i)+(o>>>0)+a;return(s<<r|s>>>32-r)+e},s._gg=function(t,e,n,i,o,r,a){var s=t+(e&i|n&~i)+(o>>>0)+a;return(s<<r|s>>>32-r)+e},s._hh=function(t,e,n,i,o,r,a){var s=t+(e^n^i)+(o>>>0)+a;return(s<<r|s>>>32-r)+e},s._ii=function(t,e,n,i,o,r,a){var s=t+(n^(e|~i))+(o>>>0)+a;return(s<<r|s>>>32-r)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=i.wordsToBytes(s(t,e));return e&&e.asBytes?n:e&&e.asString?a.bytesToString(n):i.bytesToHex(n)}},315:(t,e,n)=>{"use strict";n.r(e)},9509:(t,e,n)=>{var i=n(8764),o=i.Buffer;function r(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return o(t,e,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=i:(r(i,e),e.Buffer=a),a.prototype=Object.create(o.prototype),r(o,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=o(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},6099:(t,e,n)=>{!function(t){t.parser=function(t,e){return new o(t,e)},t.SAXParser=o,t.SAXStream=a,t.createStream=function(t,e){return new a(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function o(e,n){if(!(this instanceof o))return new o(e,n);var r=this;!function(t){for(var e=0,n=i.length;e<n;e++)t[i[e]]=""}(r),r.q=r.c="",r.bufferCheckPosition=t.MAX_BUFFER_LENGTH,r.opt=n||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=V.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(c)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),C(r,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),o.prototype={end:function(){k(this)},write:function(e){var n=this;if(this.error)throw this.error;if(n.closed)return T(n,"Cannot write after close. Assign an onready handler.");if(null===e)return k(n);"object"==typeof e&&(e=e.toString());var o=0,r="";for(;r=N(e,o++),n.c=r,r;)switch(n.trackPosition&&(n.position++,"\n"===r?(n.line++,n.column=0):n.column++),n.state){case V.BEGIN:if(n.state=V.BEGIN_WHITESPACE,"\ufeff"===r)continue;O(n,r);continue;case V.BEGIN_WHITESPACE:O(n,r);continue;case V.TEXT:if(n.sawRoot&&!n.closedRoot){for(var a=o-1;r&&"<"!==r&&"&"!==r;)(r=N(e,o++))&&n.trackPosition&&(n.position++,"\n"===r?(n.line++,n.column=0):n.column++);n.textNode+=e.substring(a,o-1)}"<"!==r||n.sawRoot&&n.closedRoot&&!n.strict?(f(r)||n.sawRoot&&!n.closedRoot||w(n,"Text data outside of root node."),"&"===r?n.state=V.TEXT_ENTITY:n.textNode+=r):(n.state=V.OPEN_WAKA,n.startTagPosition=n.position);continue;case V.SCRIPT:"<"===r?n.state=V.SCRIPT_ENDING:n.script+=r;continue;case V.SCRIPT_ENDING:"/"===r?n.state=V.CLOSE_TAG:(n.script+="<"+r,n.state=V.SCRIPT);continue;case V.OPEN_WAKA:if("!"===r)n.state=V.SGML_DECL,n.sgmlDecl="";else if(f(r));else if(A(p,r))n.state=V.OPEN_TAG,n.tagName=r;else if("/"===r)n.state=V.CLOSE_TAG,n.tagName="";else if("?"===r)n.state=V.PROC_INST,n.procInstName=n.procInstBody="";else{if(w(n,"Unencoded <"),n.startTagPosition+1<n.position){var s=n.position-n.startTagPosition;r=new Array(s).join(" ")+r}n.textNode+="<"+r,n.state=V.TEXT}continue;case V.SGML_DECL:"[CDATA["===(n.sgmlDecl+r).toUpperCase()?(S(n,"onopencdata"),n.state=V.CDATA,n.sgmlDecl="",n.cdata=""):n.sgmlDecl+r==="--"?(n.state=V.COMMENT,n.comment="",n.sgmlDecl=""):"DOCTYPE"===(n.sgmlDecl+r).toUpperCase()?(n.state=V.DOCTYPE,(n.doctype||n.sawRoot)&&w(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===r?(S(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=V.TEXT):v(r)?(n.state=V.SGML_DECL_QUOTED,n.sgmlDecl+=r):n.sgmlDecl+=r;continue;case V.SGML_DECL_QUOTED:r===n.q&&(n.state=V.SGML_DECL,n.q=""),n.sgmlDecl+=r;continue;case V.DOCTYPE:">"===r?(n.state=V.TEXT,S(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=r,"["===r?n.state=V.DOCTYPE_DTD:v(r)&&(n.state=V.DOCTYPE_QUOTED,n.q=r));continue;case V.DOCTYPE_QUOTED:n.doctype+=r,r===n.q&&(n.q="",n.state=V.DOCTYPE);continue;case V.DOCTYPE_DTD:n.doctype+=r,"]"===r?n.state=V.DOCTYPE:v(r)&&(n.state=V.DOCTYPE_DTD_QUOTED,n.q=r);continue;case V.DOCTYPE_DTD_QUOTED:n.doctype+=r,r===n.q&&(n.state=V.DOCTYPE_DTD,n.q="");continue;case V.COMMENT:"-"===r?n.state=V.COMMENT_ENDING:n.comment+=r;continue;case V.COMMENT_ENDING:"-"===r?(n.state=V.COMMENT_ENDED,n.comment=D(n.opt,n.comment),n.comment&&S(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+r,n.state=V.COMMENT);continue;case V.COMMENT_ENDED:">"!==r?(w(n,"Malformed comment"),n.comment+="--"+r,n.state=V.COMMENT):n.state=V.TEXT;continue;case V.CDATA:"]"===r?n.state=V.CDATA_ENDING:n.cdata+=r;continue;case V.CDATA_ENDING:"]"===r?n.state=V.CDATA_ENDING_2:(n.cdata+="]"+r,n.state=V.CDATA);continue;case V.CDATA_ENDING_2:">"===r?(n.cdata&&S(n,"oncdata",n.cdata),S(n,"onclosecdata"),n.cdata="",n.state=V.TEXT):"]"===r?n.cdata+="]":(n.cdata+="]]"+r,n.state=V.CDATA);continue;case V.PROC_INST:"?"===r?n.state=V.PROC_INST_ENDING:f(r)?n.state=V.PROC_INST_BODY:n.procInstName+=r;continue;case V.PROC_INST_BODY:if(!n.procInstBody&&f(r))continue;"?"===r?n.state=V.PROC_INST_ENDING:n.procInstBody+=r;continue;case V.PROC_INST_ENDING:">"===r?(S(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=V.TEXT):(n.procInstBody+="?"+r,n.state=V.PROC_INST_BODY);continue;case V.OPEN_TAG:A(u,r)?n.tagName+=r:(x(n),">"===r?G(n):"/"===r?n.state=V.OPEN_TAG_SLASH:(f(r)||w(n,"Invalid character in tag name"),n.state=V.ATTRIB));continue;case V.OPEN_TAG_SLASH:">"===r?(G(n,!0),_(n)):(w(n,"Forward-slash in opening tag not followed by >"),n.state=V.ATTRIB);continue;case V.ATTRIB:if(f(r))continue;">"===r?G(n):"/"===r?n.state=V.OPEN_TAG_SLASH:A(p,r)?(n.attribName=r,n.attribValue="",n.state=V.ATTRIB_NAME):w(n,"Invalid attribute name");continue;case V.ATTRIB_NAME:"="===r?n.state=V.ATTRIB_VALUE:">"===r?(w(n,"Attribute without value"),n.attribValue=n.attribName,M(n),G(n)):f(r)?n.state=V.ATTRIB_NAME_SAW_WHITE:A(u,r)?n.attribName+=r:w(n,"Invalid attribute name");continue;case V.ATTRIB_NAME_SAW_WHITE:if("="===r)n.state=V.ATTRIB_VALUE;else{if(f(r))continue;w(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",S(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===r?G(n):A(p,r)?(n.attribName=r,n.state=V.ATTRIB_NAME):(w(n,"Invalid attribute name"),n.state=V.ATTRIB)}continue;case V.ATTRIB_VALUE:if(f(r))continue;v(r)?(n.q=r,n.state=V.ATTRIB_VALUE_QUOTED):(w(n,"Unquoted attribute value"),n.state=V.ATTRIB_VALUE_UNQUOTED,n.attribValue=r);continue;case V.ATTRIB_VALUE_QUOTED:if(r!==n.q){"&"===r?n.state=V.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=r;continue}M(n),n.q="",n.state=V.ATTRIB_VALUE_CLOSED;continue;case V.ATTRIB_VALUE_CLOSED:f(r)?n.state=V.ATTRIB:">"===r?G(n):"/"===r?n.state=V.OPEN_TAG_SLASH:A(p,r)?(w(n,"No whitespace between attributes"),n.attribName=r,n.attribValue="",n.state=V.ATTRIB_NAME):w(n,"Invalid attribute name");continue;case V.ATTRIB_VALUE_UNQUOTED:if(!g(r)){"&"===r?n.state=V.ATTRIB_VALUE_ENTITY_U:n.attribValue+=r;continue}M(n),">"===r?G(n):n.state=V.ATTRIB;continue;case V.CLOSE_TAG:if(n.tagName)">"===r?_(n):A(u,r)?n.tagName+=r:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=V.SCRIPT):(f(r)||w(n,"Invalid tagname in closing tag"),n.state=V.CLOSE_TAG_SAW_WHITE);else{if(f(r))continue;y(p,r)?n.script?(n.script+="</"+r,n.state=V.SCRIPT):w(n,"Invalid tagname in closing tag."):n.tagName=r}continue;case V.CLOSE_TAG_SAW_WHITE:if(f(r))continue;">"===r?_(n):w(n,"Invalid characters in closing tag");continue;case V.TEXT_ENTITY:case V.ATTRIB_VALUE_ENTITY_Q:case V.ATTRIB_VALUE_ENTITY_U:var d,c;switch(n.state){case V.TEXT_ENTITY:d=V.TEXT,c="textNode";break;case V.ATTRIB_VALUE_ENTITY_Q:d=V.ATTRIB_VALUE_QUOTED,c="attribValue";break;case V.ATTRIB_VALUE_ENTITY_U:d=V.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===r?(n[c]+=L(n),n.entity="",n.state=d):A(n.entity.length?h:l,r)?n.entity+=r:(w(n,"Invalid character in entity name"),n[c]+="&"+n.entity+r,n.entity="",n.state=d);continue;default:throw new Error(n,"Unknown state: "+n.state)}n.position>=n.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),o=0,r=0,a=i.length;r<a;r++){var s=e[i[r]].length;if(s>n)switch(i[r]){case"textNode":b(e);break;case"cdata":S(e,"oncdata",e.cdata),e.cdata="";break;case"script":S(e,"onscript",e.script),e.script="";break;default:T(e,"Max buffer length exceeded: "+i[r])}o=Math.max(o,s)}var d=t.MAX_BUFFER_LENGTH-o;e.bufferCheckPosition=d+e.position}(n);return n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;b(t=this),""!==t.cdata&&(S(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(S(t,"onscript",t.script),t.script="")}};try{e=Object(function(){var t=new Error("Cannot find module 'stream'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){e=function(){}}var r=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function a(t,n){if(!(this instanceof a))return new a(t,n);e.apply(this),this._parser=new o(t,n),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(t){i.emit("error",t),i._parser.error=null},this._decoder=null,r.forEach((function(t){Object.defineProperty(i,"on"+t,{get:function(){return i._parser["on"+t]},set:function(e){if(!e)return i.removeAllListeners(t),i._parser["on"+t]=e,e;i.on(t,e)},enumerable:!0,configurable:!1})}))}a.prototype=Object.create(e.prototype,{constructor:{value:a}}),a.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=n(2553).s;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},a.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},a.prototype.on=function(t,n){var i=this;return i._parser["on"+t]||-1===r.indexOf(t)||(i._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),i.emit.apply(i,e)}),e.prototype.on.call(i,t,n)};var s="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",c={xml:s,xmlns:d},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,l=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function v(t){return'"'===t||"'"===t}function g(t){return">"===t||f(t)}function A(t,e){return t.test(e)}function y(t,e){return!A(t,e)}var m,I,E,V=0;for(var P in t.STATE={BEGIN:V++,BEGIN_WHITESPACE:V++,TEXT:V++,TEXT_ENTITY:V++,OPEN_WAKA:V++,SGML_DECL:V++,SGML_DECL_QUOTED:V++,DOCTYPE:V++,DOCTYPE_QUOTED:V++,DOCTYPE_DTD:V++,DOCTYPE_DTD_QUOTED:V++,COMMENT_STARTING:V++,COMMENT:V++,COMMENT_ENDING:V++,COMMENT_ENDED:V++,CDATA:V++,CDATA_ENDING:V++,CDATA_ENDING_2:V++,PROC_INST:V++,PROC_INST_BODY:V++,PROC_INST_ENDING:V++,OPEN_TAG:V++,OPEN_TAG_SLASH:V++,ATTRIB:V++,ATTRIB_NAME:V++,ATTRIB_NAME_SAW_WHITE:V++,ATTRIB_VALUE:V++,ATTRIB_VALUE_QUOTED:V++,ATTRIB_VALUE_CLOSED:V++,ATTRIB_VALUE_UNQUOTED:V++,ATTRIB_VALUE_ENTITY_Q:V++,ATTRIB_VALUE_ENTITY_U:V++,CLOSE_TAG:V++,CLOSE_TAG_SAW_WHITE:V++,SCRIPT:V++,SCRIPT_ENDING:V++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var n=t.ENTITIES[e],i="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=i})),t.STATE)t.STATE[t.STATE[P]]=P;function C(t,e,n){t[e]&&t[e](n)}function S(t,e,n){t.textNode&&b(t),C(t,e,n)}function b(t){t.textNode=D(t.opt,t.textNode),t.textNode&&C(t,"ontext",t.textNode),t.textNode=""}function D(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function T(t,e){return b(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,C(t,"onerror",e),t}function k(t){return t.sawRoot&&!t.closedRoot&&w(t,"Unclosed root tag"),t.state!==V.BEGIN&&t.state!==V.BEGIN_WHITESPACE&&t.state!==V.TEXT&&T(t,"Unexpected end"),b(t),t.c="",t.closed=!0,C(t,"onend"),o.call(t,t.strict,t.opt),t}function w(t,e){if("object"!=typeof t||!(t instanceof o))throw new Error("bad call to strictFail");t.strict&&T(t,e)}function x(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,S(t,"onopentagstart",n)}function R(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),i=n[0],o=n[1];return e&&"xmlns"===t&&(i="xmlns",o=""),{prefix:i,local:o}}function M(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=R(t.attribName,!0),n=e.prefix,i=e.local;if("xmlns"===n)if("xml"===i&&t.attribValue!==s)w(t,"xml: prefix must be bound to "+s+"\nActual: "+t.attribValue);else if("xmlns"===i&&t.attribValue!==d)w(t,"xmlns: prefix must be bound to "+d+"\nActual: "+t.attribValue);else{var o=t.tag,r=t.tags[t.tags.length-1]||t;o.ns===r.ns&&(o.ns=Object.create(r.ns)),o.ns[i]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,S(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function G(t,e){if(t.opt.xmlns){var n=t.tag,i=R(t.tagName);n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(w(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=i.prefix);var o=t.tags[t.tags.length-1]||t;n.ns&&o.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){S(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var r=0,a=t.attribList.length;r<a;r++){var s=t.attribList[r],d=s[0],c=s[1],p=R(d,!0),u=p.prefix,l=p.local,h=""===u?"":n.ns[u]||"",f={name:d,value:c,prefix:u,local:l,uri:h};u&&"xmlns"!==u&&!h&&(w(t,"Unbound namespace prefix: "+JSON.stringify(u)),f.uri=u),t.tag.attributes[d]=f,S(t,"onattribute",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),S(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=V.TEXT:t.state=V.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function _(t){if(!t.tagName)return w(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=V.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=V.SCRIPT);S(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var i=n;e--;){if(t.tags[e].name===i)break;w(t,"Unexpected close tag")}if(e<0)return w(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=V.TEXT);t.tagName=n;for(var o=t.tags.length;o-- >e;){var r=t.tag=t.tags.pop();t.tagName=t.tag.name,S(t,"onclosetag",t.tagName);var a={};for(var s in r.ns)a[s]=r.ns[s];var d=t.tags[t.tags.length-1]||t;t.opt.xmlns&&r.ns!==d.ns&&Object.keys(r.ns).forEach((function(e){var n=r.ns[e];S(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=V.TEXT}function L(t){var e,n=t.entity,i=n.toLowerCase(),o="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[i]?t.ENTITIES[i]:("#"===(n=i).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),o=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),o=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||o.toLowerCase()!==n?(w(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function O(t,e){"<"===e?(t.state=V.OPEN_WAKA,t.startTagPosition=t.position):f(e)||(w(t,"Non-whitespace before first tag."),t.textNode=e,t.state=V.TEXT)}function N(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}V=t.STATE,String.fromCodePoint||(m=String.fromCharCode,I=Math.floor,E=function(){var t,e,n=16384,i=[],o=-1,r=arguments.length;if(!r)return"";for(var a="";++o<r;){var s=Number(arguments[o]);if(!isFinite(s)||s<0||s>1114111||I(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?i.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,i.push(t,e)),(o+1===r||i.length>n)&&(a+=m.apply(null,i),i.length=0)}return a},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:E,configurable:!0,writable:!0}):String.fromCodePoint=E)}(e)},2553:(t,e,n)=>{"use strict";var i=n(9509).Buffer,o=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=d,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=p,this.end=u,e=3;break;default:return this.write=l,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function d(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function p(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function u(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.s=r,r.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},r.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=a(e[i]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--i<n||-2===o)return 0;if((o=a(e[i]))>=0)return o>0&&(t.lastNeed=o-2),o;if(--i<n||-2===o)return 0;if((o=a(e[i]))>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},5589:function(t,e,n){"use strict";var i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.IntegrationType=e.Advert=e.VASTAdvertType=void 0;var o,r=n(2910),a=n(263),s=n(9111),d=n(5585),c=n(9110),p=n(2651),u=n(5449);!function(t){t.Wrapper="Wrapper",t.InLine="InLine"}(o=e.VASTAdvertType||(e.VASTAdvertType={}));var l,h=function(){function t(t,e,n){var i,o,r,a;this.backend=((i={})[c.VPAIDProperty.getAdLinear]=void 0,i[c.VPAIDProperty.getAdWidth]=void 0,i[c.VPAIDProperty.getAdHeight]=void 0,i[c.VPAIDProperty.getAdExpanded]=void 0,i[c.VPAIDProperty.getAdSkippableState]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdSkippableStateChange(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDProperty.getAdRemainingTime]=void 0,i[c.VPAIDProperty.getAdDuration]=void 0,i[c.VPAIDProperty.getAdCompanions]=void 0,i[c.VPAIDProperty.setAdVolume]=void 0,i[c.VPAIDProperty.getAdVolume]=void 0,i[c.VPAIDProperty.getAdIcons]=void 0,i[c.VPAIDEventRequest.startAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendStartAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.stopAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendStopAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.resizeAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendResizeAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.pauseAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendPauseAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.resumeAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendResumeAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.expandAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendExpandAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.collapseAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendCollapseAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventRequest.skipAd]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendSkipAd(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdLog]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdLog(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdTime]=void 0,i[c.VPAIDEvent.AdError]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdError(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdPaused]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdPaused(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdLoaded]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdLoaded(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdPlaying]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdPlaying(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdStarted]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdStarted(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdStopped]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdStopped(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdSkipped]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdSkipped(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdUserClose]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdUserClose(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdClickThru]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdClickThru(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdVideoStart]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdVideoStart(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdImpression]=(0,s.default)((function(t,e,n,i){d.Backend.GetInstance().SendAdImpression(t,e,n,i)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdSizeChange]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdSizeChange(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdInteraction]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdInteraction(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdVolumeChange]=(0,s.default)((function(t,e,n){d.Backend.GetInstance().SendAdVolumeChange(t,e,n)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdUserMinimize]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdUserMinimize(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdLinearChange]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdLinearChange(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdVideoMidpoint]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdVideoMidPoint(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdVideoComplete]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdVideoComplete(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdDurationChange]=void 0,i[c.VPAIDEvent.AdExpandedChange]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdExpandedChange(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdVideoFirstQuartile]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdVideoFirstQuartile(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdVideoThirdQuartile]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdVideoThirdQuartile(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEvent.AdRemainingTimeChange]=void 0,i[c.VPAIDEvent.AdSkippableStateChange]=void 0,i[c.VPAIDEvent.AdUserAcceptInvitation]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendAdUserAcceptInvitation(t,e)}),250,{leading:!0,trailing:!1}),i[c.VPAIDEventExtra.AdORD]=(0,s.default)((function(t,e,n,i,o){d.Backend.GetInstance().SendAdORD(t,n,i,e,o)}),250,{leading:!0,trailing:!1}),i[d.Backend.PBCEventName(d.Backend.PlayerBackendCommunicationEvent.MVImpressionWebmaster)]=(0,s.default)((function(t,e,n,i){d.Backend.GetInstance().SendMVImpressionWebmaster(t,e,n,i)}),250,{leading:!0,trailing:!1}),i[d.Backend.PBCEventName(d.Backend.PlayerBackendCommunicationEvent.MVMRCVisibility)]=(0,s.default)((function(t,e){d.Backend.GetInstance().SendMVMRCVisibility(t,e)}),250,{leading:!0,trailing:!1}),i),this.imp=c.VPAIDEvent.AdImpression,this.ordEvent=c.VPAIDEventExtra.AdORD,this.impWeb=d.Backend.PBCEventName(d.Backend.PlayerBackendCommunicationEvent.MVImpressionWebmaster),this.id=t.getId(),(null===(o=t.getParentAdvert())||void 0===o?void 0:o.isWrapper())&&t.IsInline()&&(this.id=t.getId()),this.parentID=null===(r=t.getParentAdvert())||void 0===r?void 0:r.getId(),this.parentBackendID=null===(a=t.getParentAdvert())||void 0===a?void 0:a.getVastId(),this.backendID=t.getVastId(),this.type=t.getType();var p=t.getOptions(),u=t.getControls();this.ord=t.getOrd(),this.options={showLimit:p.showLimit,skipOffset:p.skipOffset,timeoutLimit:p.timeoutLimit,startToClick:p.startToClick,iframePlayer:p.iframePlayer,integrationType:p.integrationType,rtb:p.rtb,payPlayerEvent:p.payPlayerEvent},this.controls={fullscreen:u.fullscreen,volume:u.volume,timeline:u.timeline,playback:u.playback,skip:u.skip,agency:u.agency},this.creatives=[];for(var l=0;l<e.length;l++)this.creatives.push(e[l]);this.nonCreativeTracks=n}return t.prototype.ID=function(){return this.id},t.prototype.ParentID=function(){return this.parentID},t.prototype.ParentBackendID=function(){return this.parentBackendID},t.prototype.GetIDForBackend=function(){return this.IsWrapper()?this.backendID:this.IsInline()?void 0===this.ParentID()?this.backendID:this.ParentBackendID():void 0},t.prototype.GetOptionsRTBDSP=function(){var t,e;return null===(e=null===(t=this.options)||void 0===t?void 0:t.rtb)||void 0===e?void 0:e.dsp},t.prototype.Type=function(){return this.type},t.prototype.IsInline=function(){return this.type===o.InLine},t.prototype.IsWrapper=function(){return this.type===o.Wrapper},t.prototype.IsRTBIntegration=function(){var t;return(null===(t=this.options)||void 0===t?void 0:t.integrationType)===l.rtb},t.prototype.GetCreativeURL=function(){var t;return null===(t=this.creatives[0])||void 0===t?void 0:t.media.GetURL()},t.prototype.GetCreativeOptions=function(){var t;return null===(t=this.creatives[0])||void 0===t?void 0:t.media.GetParams()},t.prototype.GetCreativeMedia=function(){var t;return null===(t=this.creatives[0])||void 0===t?void 0:t.media},t.prototype.GetOptions=function(){return this.options},t.prototype.GetOptionsSkipOffset=function(){var t,e;return(null===(t=this.creatives[0])||void 0===t?void 0:t.GetSkipOffset())>0?null===(e=this.creatives[0])||void 0===e?void 0:e.GetSkipOffset():this.options.skipOffset},t.prototype.GetControls=function(){return this.controls},t.prototype.IsNeedForeignFrame=function(){return!!this.GetOptions().iframePlayer},t.prototype.GetOrd=function(){return this.ord},t.prototype.BackendSend=function(t,e){void 0===e&&(e=[]);try{var n=this.backend[t];if(n){if(t!==this.imp&&t!==this.impWeb&&t!==this.ordEvent||(e.push(p.GlobalStore.Instance().GetPlacement()),e.push(p.GlobalStore.Instance().GetSiteID())),this.IsRTBIntegration()){var o=this.GetOptionsRTBDSP();o&&e.push(o)}n.apply(void 0,i([+this.GetIDForBackend()],e,!1))}}catch(e){r.logger.error("backend call: ".concat(t," exception:"),e)}},t.prototype.GetOptionsFrameURI=function(t){var e="",n=this.GetOptions().iframePlayer;return n&&(e="https://".concat(n,"/frame.html?creative_uri=").concat(t.trim())),e},t.prototype.SetChild=function(t){this.childID=t},t.prototype.IsCanRenderControls=function(){switch(this.options.integrationType){case l.yandex_vpaid_instream:case l.yandex_vpaid_outstream:case l.mail_adman:return!1}return p.GlobalStore.Instance().GetInstrument()!==u.TraficTypeInstrument.Banner},t.prototype.IsNeedTimeline=function(){return this.GetControls().timeline},t.prototype.IsNeedFullscreen=function(){return this.GetControls().fullscreen},t.prototype.IsNeedVolumeUI=function(){return this.GetControls().volume},t.prototype.IsNeedPlaybackButtons=function(){return this.GetControls().playback},t.prototype.IsNeedSkipButton=function(){var t;return(null===(t=this.creatives[0])||void 0===t?void 0:t.GetSkipOffset())>0||!(this.GetOptions().skipOffset<=0)&&this.GetControls().skip},t.GetOptionsProxyURI=function(t){var e="";return t&&(e="https://".concat(t,"/proxy.html")),e},t.prototype.CallTrackingEventsCreativeView=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsCreativeView(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsCreativeView()},t.prototype.CallTrackingEventsStart=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.Start(),null===(e=this.creatives[0])||void 0===e||e.CallTrackingEventsStart(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallTrackingEventsStart()},t.prototype.CallTrackingEventsFirstQuartile=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.FirstQuartile(),null===(e=this.creatives[0])||void 0===e||e.CallTrackingEventsFirstQuartile(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallTrackingEventsFirstQuartile()},t.prototype.CallTrackingEventsMidpoint=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.Midpoint(),null===(e=this.creatives[0])||void 0===e||e.CallTrackingEventsMidpoint(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallTrackingEventsMidpoint()},t.prototype.CallTrackingEventsThirdQuartile=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.ThirdQuartile(),null===(e=this.creatives[0])||void 0===e||e.CallTrackingEventsThirdQuartile(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallTrackingEventsThirdQuartile()},t.prototype.CallTrackingEventsComplete=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.Complete(),null===(e=this.creatives[0])||void 0===e||e.CallTrackingEventsComplete(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallTrackingEventsComplete()},t.prototype.CallTrackingEventsMute=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsMute(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsMute()},t.prototype.CallTrackingEventsUnmute=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsUnmute(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsUnmute()},t.prototype.CallTrackingEventsPause=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsPause(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsPause()},t.prototype.CallTrackingEventsResume=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsResume(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsResume()},t.prototype.CallTrackingEventsRewind=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsRewind(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsRewind()},t.prototype.CallTrackingEventsExpand=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsExpand(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsExpand()},t.prototype.CallTrackingEventsCollapse=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsCollapse(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsCollapse()},t.prototype.CallTrackingEventsFullscreen=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsFullscreen(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsFullscreen()},t.prototype.CallTrackingEventsExitFullscreen=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsExitFullscreen(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsExitFullscreen()},t.prototype.CallTrackingEventsAcceptInvitationLinear=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsAcceptInvitationLinear(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsAcceptInvitationLinear()},t.prototype.CallTrackingEventsCloseLinear=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsCloseLinear(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsCloseLinear()},t.prototype.CallTrackingEventsSkip=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.Skip(),null===(e=this.creatives[0])||void 0===e||e.CallTrackingEventsSkip(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallTrackingEventsSkip()},t.prototype.CallTrackingEventsProgress=function(){var t,e;null===(t=this.creatives[0])||void 0===t||t.CallTrackingEventsProgress(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingEventsProgress()},t.prototype.CallVideoClicksClickTracking=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.ClickTracking(),null===(e=this.creatives[0])||void 0===e||e.CallVideoClicksClickTracking(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallVideoClicksClickTracking()},t.prototype.CallVideoClicksClickTrough=function(){var t,e,n;null===(t=this.nonCreativeTracks)||void 0===t||t.ClickTrough(),null===(e=this.creatives[0])||void 0===e||e.CallVideoClicksClickTrough(),null===(n=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===n||n.CallVideoClicksClickTrough()},t.prototype.CallTrackingImpression=function(){var t,e;this.nonCreativeTracks.Impression(),null===(t=this.creatives[0])||void 0===t||t.CallTrackingImpression(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingImpression()},t.prototype.CallTrackingError=function(){var t,e;this.nonCreativeTracks.Error(),null===(t=this.creatives[0])||void 0===t||t.CallTrackingError(),null===(e=a.Queue.GetInstance().GetAdvert(this.childID))||void 0===e||e.CallTrackingError()},t}();e.Advert=h,function(t){t[t.vast=1]="vast",t[t.yandex_vpaid_outstream=2]="yandex_vpaid_outstream",t[t.yandex_vpaid_instream=3]="yandex_vpaid_instream",t[t.showjet_vpaid=4]="showjet_vpaid",t[t.youtube_vpaid=5]="youtube_vpaid",t[t.html5_vpaid=6]="html5_vpaid",t[t.html=7]="html",t[t.rtb=8]="rtb",t[t.ctc_vpaid=9]="ctc_vpaid",t[t.mail_adman=10]="mail_adman"}(l=e.IntegrationType||(e.IntegrationType={}))},1992:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreativeFormat=e.Creative=void 0;var n=function(){function t(t,e,n,i,o){this.id=t,this.advert=e,this.sequence=n.sequence,this.duration=n.duration,this.skipOffset=n.skipOffset,this.format=n.format,this.clickUrl=n.clickUrl,this.media=o,this.trackingEvents=i}return t.prototype.GetSkipOffset=function(){return this.skipOffset},t.prototype.CallTrackingEventsCreativeView=function(){this.trackingEvents.CreativeView()},t.prototype.CallTrackingEventsStart=function(){this.trackingEvents.Start()},t.prototype.CallTrackingEventsFirstQuartile=function(){this.trackingEvents.FirstQuartile()},t.prototype.CallTrackingEventsMidpoint=function(){this.trackingEvents.Midpoint()},t.prototype.CallTrackingEventsThirdQuartile=function(){this.trackingEvents.ThirdQuartile()},t.prototype.CallTrackingEventsComplete=function(){this.trackingEvents.Complete()},t.prototype.CallTrackingEventsMute=function(){this.trackingEvents.Mute()},t.prototype.CallTrackingEventsUnmute=function(){this.trackingEvents.Unmute()},t.prototype.CallTrackingEventsPause=function(){this.trackingEvents.Pause()},t.prototype.CallTrackingEventsResume=function(){this.trackingEvents.Resume()},t.prototype.CallTrackingEventsRewind=function(){this.trackingEvents.Rewind()},t.prototype.CallTrackingEventsExpand=function(){this.trackingEvents.Expand()},t.prototype.CallTrackingEventsCollapse=function(){this.trackingEvents.Collapse()},t.prototype.CallTrackingEventsFullscreen=function(){this.trackingEvents.Fullscreen()},t.prototype.CallTrackingEventsExitFullscreen=function(){this.trackingEvents.ExitFullscreen()},t.prototype.CallTrackingEventsAcceptInvitationLinear=function(){this.trackingEvents.AcceptInvitationLinear()},t.prototype.CallTrackingEventsCloseLinear=function(){this.trackingEvents.CloseLinear()},t.prototype.CallTrackingEventsSkip=function(){this.trackingEvents.Skip()},t.prototype.CallTrackingEventsProgress=function(){this.trackingEvents.Progress()},t.prototype.CallVideoClicksClickTracking=function(){this.trackingEvents.ClickTracking()},t.prototype.CallVideoClicksClickTrough=function(){this.trackingEvents.ClickTrough()},t.prototype.CallTrackingImpression=function(){this.trackingEvents.Impression()},t.prototype.CallTrackingError=function(){this.trackingEvents.Error()},t}();e.Creative=n,function(t){t.Linear="Linear",t.NonLinearAds="NonLinearAds",t.CompanionAds="CompanionAds"}(e.CreativeFormat||(e.CreativeFormat={}))},5098:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediaType=e.Media=void 0;var n,i=function(){function t(t){this.id=t.id,this.url=t.url,this.params=t.params,this.width=t.width,this.height=t.height,this.aspectRatio=t.aspectRation,this.mimetype=t.mimetype,this.bitrate=t.bitrate,this.maxBitrate=t.maxBitrate,this.minBitrate=t.minBitrate,this.scalable=t.scalable}return t.prototype.Type=function(){return this.mimetype},t.prototype.GetURL=function(){var t="";switch(this.Type()){case n.VPAID:t=this.url;break;case n.VideoMP4:case n.Webm:t="https://cdn1.moe.video/integration/html5.vpaid.js"}return t},t.prototype.GetParams=function(){var t=this.Type(),e="";switch(t){case n.VPAID:e=this.params;break;case n.VideoMP4:case n.Webm:e=JSON.stringify({videos:[{url:this.url,mimetype:t}]})}return e},t}();e.Media=i,function(t){t.VPAID="vpaid",t.VideoMP4="video/mp4",t.Webm="video/webm"}(n=e.MediaType||(e.MediaType={}))},263:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Queue=void 0;var i=n(4251),o=n(5589),r=n(5585),a=n(6762),s=n(9110),d=n(2910),c=n(2651),p=n(8503),u=n(2807);!function(t){var e=function(){function t(){var t=this;this.advertStorage={},this.vpaidStorage={},this.VPAIDQueue=new n,this.requestAdvert=0,this.OnceAdLoaded=(0,u.default)((function(){return t.toMiddle.QueueAdLoaded()})),this.isStartAdCalled=!1,this.duration_event="duration",this.breakpoint_min=3,this.advertStorage=[],this.play(),this.inventory()}return t.prototype.inventory=function(){var t=this;this.inventoryLoop=setInterval((function(){if(!1===t.VPAIDQueue.IsHasAttemptsToCallBackend())return d.logger.backend("[QUEUE] EXIT get more adverts from BACKEND no more atttempts"),void clearInterval(t.inventoryLoop);if(!(t.VPAIDQueue.CountReadyToPlay()>0)){var e=p.Helpers.GetReferer(),n=c.GlobalStore.Instance().GetPlacement(),i=c.GlobalStore.Instance().GetInstrument(),o=c.GlobalStore.Instance().GetSlot(),a=p.Helpers.Size(t.width,t.height);t.VPAIDQueue.IsNeedMoreVPAIDs()&&(r.Backend.GetInstance().SendMVInventory(e,n,i,o,a),t.VPAIDQueue.MarkBackendCallAttemp(),0===c.GlobalStore.Instance().GetAdvertCount()?d.logger.backend("[QUEUE] get more adverts from BACKEND attempts count: infinite"):d.logger.backend("[QUEUE] get more adverts from BACKEND attempts count: "+t.VPAIDQueue.GetBackendCallAttempCount()+" advert count: "+c.GlobalStore.Instance().GetAdvertCount()))}}),1e3)},t.prototype.play=function(){var t=this;this.playLoop=setInterval((function(){var e,n;return t.VPAIDQueue.IsEmpty()?(d.logger.backend("[QUEUE] call adEmpty calback",t.VPAIDQueue),t.clearLoop(),void(null===(e=t.toMiddle)||void 0===e||e.QueueAdErrorEmpty())):t.VPAIDQueue.IsError()?(d.logger.backend("[QUEUE] call adError callback",t.VPAIDQueue),t.clearLoop(),void(null===(n=t.toMiddle)||void 0===n||n.QueueAdError())):t.VPAIDQueue.IsFinished()?(d.logger.backend("[QUEUE] call adFinished callback",t.VPAIDQueue),t.clearLoop(),void t.AdStoppedSyncByTracks()):void(t.VPAIDQueue.IsCanPlay()&&(d.logger.backend("[QUEUE] DTATA",t.VPAIDQueue),d.logger.backend("[QUEUE] STATE AdvertCount: "+c.GlobalStore.Instance().GetAdvertCount(),"AdLoaded: "+t.VPAIDQueue.CountAdLoaded(),"AdError: "+t.VPAIDQueue.CountAdError(),"AdStopped: "+t.VPAIDQueue.CountAdStopped()),t.OnceAdLoaded(),t.playVPAID()))}),250)},t.prototype.clearLoop=function(){clearInterval(this.playLoop),clearInterval(this.inventoryLoop)},t.prototype.playVPAID=function(){if(!1!==this.isStartAdCalled){this.VPAIDQueue.HoldVPAIDToPlay();var t=this.GetParentAdvert(this.VPAIDQueue.GetCurrentVPAID());t.BackendSend(s.VPAIDEvent.AdLoaded),d.logger.backend("[QUEUE] move vpaid to playing state "+this.VPAIDQueue.GetCurrentVPAID()+" "+t.GetIDForBackend());var e=this.vpaidStorage[this.VPAIDQueue.GetCurrentVPAID()];this.initialVolumeBehaviour(e),e.startAd(),t.BackendSend(s.VPAIDEventRequest.startAd)}},t.prototype.SetMiddle=function(t){this.toMiddle=t},t.prototype.Append=function(t){this.advertStorage[t.ID()]=t,t.Type()===o.VASTAdvertType.InLine&&(this.vpaidStorage[t.ID()]=this.InitVPAID(t));for(var e=Object.keys(this.advertStorage),n=0;n<e.length;n++)this.advertStorage[e[n]].ID()===t.ParentID()&&this.advertStorage[e[n]].SetChild(t.ID())},t.prototype.SetCurrentSlotHTMLElement=function(t,e){this.slot=t,this.video=e},t.prototype.SetCurrentSlotVideoParams=function(t){this.width=null==t?void 0:t.width,this.height=null==t?void 0:t.height,this.viewMode=null==t?void 0:t.view,this.desiredBitrate=null==t?void 0:t.bitrate},t.prototype.InitVPAID=function(t){return this.requestAdvert++,new i.VpaidApiWrapper(this,t,{slot:this.slot,video:this.video},{width:this.width,height:this.height,viewMode:this.viewMode,bitrate:this.desiredBitrate})},t.prototype.GetCurrentPlayingVPAID=function(){if(this.VPAIDQueue.GetCurrentVPAID())return this.vpaidStorage[this.VPAIDQueue.GetCurrentVPAID()]},t.prototype.GetAdvert=function(t){return this.advertStorage[t]},t.prototype.GetAdvertByParrentID=function(t){for(var e in this.advertStorage)if(this.advertStorage[e].ID()===t)return this.advertStorage[e]},t.prototype.GetParentAdvert=function(t){var e=this.GetAdvert(t);return e.ParentID()?this.GetParentAdvert(e.ParentID()):e},t.prototype.getAdLinear=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdLinear()},t.prototype.getAdWidth=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdWidth()},t.prototype.getAdHeight=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdHeight()},t.prototype.getAdExpanded=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdExpanded()},t.prototype.getAdSkippableState=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdSkippableState()},t.prototype.getAdRemainingTime=function(){var t=this.GetCurrentPlayingVPAID();return void 0!==t?t.getAdRemainingTime():0},t.prototype.getAdDuration=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdDuration()},t.prototype.getAdCompanions=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdCompanions()},t.prototype.setAdVolume=function(t){var e=this.GetCurrentPlayingVPAID();if(void 0!==e){e.setAdVolume(t);var n=this.GetParentAdvert(e.GetAdvertID());t>0?n.CallTrackingEventsUnmute():n.CallTrackingEventsMute()}},t.prototype.getAdVolume=function(){var t=this.GetCurrentPlayingVPAID();return void 0!==t?t.getAdVolume():0},t.prototype.getAdIcons=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t)return t.getAdIcons()},t.prototype.startAd=function(){this.isStartAdCalled=!0},t.prototype.stopAd=function(){var t=this.GetCurrentPlayingVPAID();void 0!==t&&(t.stopAd(),this.GetParentAdvert(t.GetAdvertID()).BackendSend(s.VPAIDEventRequest.stopAd))},t.prototype.resizeAd=function(t,e,n){var i=this.GetCurrentPlayingVPAID();void 0!==i&&(i.resizeAd(t,e,n),this.GetParentAdvert(i.GetAdvertID()).BackendSend(s.VPAIDEventRequest.resizeAd))},t.prototype.pauseAd=function(){var t=this,e=setInterval((function(){var n=t.GetCurrentPlayingVPAID();if(void 0!==n){n.pauseAd();var i=t.GetParentAdvert(n.GetAdvertID());i.BackendSend(s.VPAIDEventRequest.pauseAd),i.CallTrackingEventsPause(),clearInterval(e)}}),10)},t.prototype.resumeAd=function(){var t=this,e=setInterval((function(){var n=t.GetCurrentPlayingVPAID();if(void 0!==n){n.resumeAd();var i=t.GetParentAdvert(n.GetAdvertID());i.BackendSend(s.VPAIDEventRequest.resumeAd),i.CallTrackingEventsResume(),clearInterval(e)}}),10)},t.prototype.expandAd=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t){t.expandAd();var e=this.GetParentAdvert(t.GetAdvertID());e.BackendSend(s.VPAIDEventRequest.expandAd),e.CallTrackingEventsExpand(),e.CallTrackingEventsFullscreen()}},t.prototype.collapseAd=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t){t.collapseAd();var e=this.GetParentAdvert(t.GetAdvertID());e.BackendSend(s.VPAIDEventRequest.collapseAd),e.CallTrackingEventsCollapse(),e.CallTrackingEventsExitFullscreen()}},t.prototype.skipAd=function(){var t=this.GetCurrentPlayingVPAID();if(void 0!==t){t.skipAd();var e=this.GetParentAdvert(t.GetAdvertID());e.BackendSend(s.VPAIDEventRequest.skipAd),e.CallTrackingEventsSkip(),this.stopAd()}},t.prototype.AdImpression=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdImpression),e.CallTrackingImpression(),this.handleImpressionWebmaster(s.VPAIDEvent.AdImpression,e),this.handleDurationImpressionWebmaster(e)},t.prototype.AdLoaded=function(t){this.VPAIDQueue.AdLoaded(t)},t.prototype.AdStarted=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdStarted),e.CallTrackingEventsCreativeView(),this.toMiddle.QueueAdStarted()},t.prototype.AdRemainingTimeChange=function(t){this.toMiddle.QueueAdRemainingTimeChange()},t.prototype.AdDurationChange=function(t){this.toMiddle.QueueAdDurationChange()},t.prototype.AdLog=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdLog),this.toMiddle.QueueAdLog()},t.prototype.AdTime=function(t){},t.prototype.AdError=function(t){this.VPAIDQueue.AdError(t);var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdError),e.CallTrackingError()},t.prototype.AdInteraction=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdInteraction),this.toMiddle.QueueAdInteraction()},t.prototype.AdClickThru=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdClickThru),e.CallVideoClicksClickTracking(),e.CallVideoClicksClickTrough(),this.toMiddle.QueueAdClickThru(),this.handleImpressionWebmaster(s.VPAIDEvent.AdClickThru,e)},t.prototype.AdUserMinimize=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdUserMinimize),this.toMiddle.QueueAdUserMinimize()},t.prototype.AdUserClose=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdUserClose),e.CallTrackingEventsCloseLinear(),this.AdUserCloseSyncByTracks()},t.prototype.AdUserAcceptInvitation=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdUserAcceptInvitation),e.CallTrackingEventsAcceptInvitationLinear(),this.toMiddle.QueueAdUserAcceptInvitation()},t.prototype.AdVideoFirstQuartile=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdVideoFirstQuartile),e.CallTrackingEventsFirstQuartile(),this.toMiddle.QueueAdVideoFirstQuartile(),this.handleImpressionWebmaster(s.VPAIDEvent.AdVideoFirstQuartile,e)},t.prototype.AdVideoMidpoint=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdVideoMidpoint),e.CallTrackingEventsMidpoint(),this.toMiddle.QueueAdVideoMidPoint(),this.handleImpressionWebmaster(s.VPAIDEvent.AdVideoMidpoint,e)},t.prototype.AdVideoThirdQuartile=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdVideoThirdQuartile),e.CallTrackingEventsThirdQuartile(),this.toMiddle.QueueAdVideoThirdQuartile(),this.handleImpressionWebmaster(s.VPAIDEvent.AdVideoThirdQuartile,e)},t.prototype.AdVideoComplete=function(t){var e=this.GetParentAdvert(t);e.BackendSend(s.VPAIDEvent.AdVideoComplete),e.CallTrackingEventsComplete(),this.handleImpressionWebmaster(s.VPAIDEvent.AdVideoComplete,e),this.AdVideoCompleteSyncByTracks()},t.prototype.AdVideoStart=function(t){var e=this.vpaidStorage[t];this.renderControls(e.slot.slot,this.advertStorage[t]);var n=this.GetParentAdvert(t);n.BackendSend(s.VPAIDEvent.AdVideoStart),n.CallTrackingEventsStart(),this.handleMRCVisibility(n),this.handleImpressionWebmaster(s.VPAIDEvent.AdVideoStart,n),this.toMiddle.QueueAdVideoStart()},t.prototype.AdVolumeChange=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdVolumeChange,[this.getAdVolume()]),this.toMiddle.QueueAdVolumeChange()},t.prototype.AdLinearChange=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdLinearChange),this.toMiddle.QueueAdLinearChange()},t.prototype.AdSkippableStateChange=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdSkippableStateChange),this.toMiddle.QueueAdSkippableStateChange()},t.prototype.AdExpandedChange=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdExpandedChange),this.toMiddle.QueueAdExpandedChange()},t.prototype.AdPlaying=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdPlaying),this.toMiddle.QueueAdPlaying()},t.prototype.AdPaused=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdPaused),this.toMiddle.QueueAdPaused()},t.prototype.AdSizeChange=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdSizeChange),this.toMiddle.QueueAdSizeChange()},t.prototype.AdSkipped=function(t){this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdSkipped),this.toMiddle.QueueAdSkipped()},t.prototype.AdStopped=function(t){this.VPAIDQueue.AdStopped(t),this.vpaidStorage[t].RemoveFrame(),this.GetParentAdvert(t).BackendSend(s.VPAIDEvent.AdStopped)},t.prototype.AdVideoCompleteSyncByTracks=function(){var t=this,e=setInterval((function(){c.GlobalStore.Instance().IsTrackCallStackEmpty()&&(clearInterval(e),t.toMiddle.QueueAdVideoComplete())}),100)},t.prototype.AdStoppedSyncByTracks=function(){var t=this,e=setInterval((function(){var n;c.GlobalStore.Instance().IsTrackCallStackEmpty()&&(clearInterval(e),null===(n=t.toMiddle)||void 0===n||n.QueueAdStopped())}),100)},t.prototype.AdUserCloseSyncByTracks=function(){var t=this,e=setInterval((function(){var n;c.GlobalStore.Instance().IsTrackCallStackEmpty()&&(clearInterval(e),null===(n=t.toMiddle)||void 0===n||n.QueueAdUserClose())}),100)},t.prototype.isCanSendEvent=function(){return Math.round(Math.floor(101*Math.random()))>9},t.prototype.handleImpressionWebmaster=function(t,e){t===e.GetOptions().payPlayerEvent&&(e.BackendSend(r.Backend.PBCEventName(r.Backend.PlayerBackendCommunicationEvent.MVImpressionWebmaster)),this.sendORD(e),this.toMiddle.QueueAdImpression())},t.prototype.handleDurationImpressionWebmaster=function(t){var e=this,n=t.GetOptions().payPlayerEvent.split("_");if(n[0]===this.duration_event){var i=this.getAdRemainingTime(),o=+n[1];o<this.breakpoint_min&&(o=this.breakpoint_min);var a=setInterval((function(){if(void 0===e.getAdRemainingTime)return clearInterval(a);if(!(i<=0)){var n=i-e.getAdRemainingTime();return isNaN(n)||n>i?clearInterval(a):n>=o?(t.BackendSend(r.Backend.PBCEventName(r.Backend.PlayerBackendCommunicationEvent.MVImpressionWebmaster)),e.sendORD(t),e.toMiddle.QueueAdImpression(),clearInterval(a)):void 0}i=e.getAdRemainingTime()}),170)}},t.prototype.sendORD=function(t){t.GetOrd()&&t.BackendSend(s.VPAIDEventExtra.AdORD,[t.GetOrd()])},t.prototype.handleMRCVisibility=function(t){var e=this,n=this.getAdRemainingTime(),i=setInterval((function(){if(void 0===e.getAdRemainingTime)return clearInterval(i);if(!(n<=0)){var o=n-e.getAdRemainingTime();return isNaN(o)||o>n?clearInterval(i):o>=3?(t.BackendSend(r.Backend.PBCEventName(r.Backend.PlayerBackendCommunicationEvent.MVMRCVisibility)),clearInterval(i)):void 0}n=e.getAdRemainingTime()}),120)},t.prototype.initialVolumeBehaviour=function(t){var e=c.GlobalStore.Instance().GetInitialVolumeLevel();this.GetParentAdvert(t.GetAdvertID()).IsNeedForeignFrame()&&(e=0),t.setAdVolume(e),d.logger.info('vpaid (id:"'.concat(t.GetAdvertID(),'") initial set "').concat(s.VPAIDProperty.setAdVolume,'" -> ').concat(e))},t.prototype.renderControls=function(t,e){if(!1!==e.IsCanRenderControls()){this.initControlsStyles(t);for(var n=0,i=this.generateControls(e);n<i.length;n++){var o=i[n];t.append(o)}this.initControlsBehaviour(t)}},t.prototype.initControlsStyles=function(t){t.appendChild(a.Controls.Init())},t.prototype.generateControls=function(t){var e=[];if(e.push(a.Controls.Advertisement()),t.IsNeedTimeline()){var n=this.getAdDuration.bind(this),i=this.getAdRemainingTime.bind(this);e.push(a.Controls.TimelineUI(n,i))}if(t.IsNeedFullscreen()){var o=this.getAdExpanded.bind(this),r=this.expandAd.bind(this),s=this.collapseAd.bind(this);e.push(a.Controls.FullscreenUI(o,r,s))}if(t.IsNeedVolumeUI()){var d=this.getAdVolume.bind(this),c=this.setAdVolume.bind(this);e.push(a.Controls.VolumeUI(d,c))}if(t.IsNeedPlaybackButtons()){var p=this.pauseAd.bind(this),u=this.resumeAd.bind(this);e.push(a.Controls.PlaybackUI(u,p))}var l=this.skipAd.bind(this),h=this.advertOffsetRecursive(t);return h>0&&e.push(a.Controls.SkipUI(h,l)),e},t.prototype.advertOffsetRecursive=function(t){var e=t.GetOptionsSkipOffset();return e>0?e:void 0===t.ParentID()?0:this.advertOffsetRecursive(this.advertStorage[t.ParentID()])},t.prototype.initControlsBehaviour=function(t){var e=t.querySelectorAll(a.Controls.SelectorFadeable());t.addEventListener("mouseover",(function(){e.forEach((function(t){return a.Controls.FadeIn(t)}))}))},t}();t.Queue=e;var n=function(){function t(){this.isEmpty=!1,this.emptyLoopLifetime=0,this.emptyLoopTimeout=5e3,this.BackendCallAttempts=1,this.store={},this.empty()}return t.prototype.empty=function(){var t=this,e=function(){clearInterval(t.emptyLoop),t.emptyLoop=void 0};this.emptyLoop=setInterval((function(){t.CountAdLoaded()>0?(d.logger.backend("[QUEUE] adEmpty remove by condition AdLoaded > 0"),e()):t.CountAdError()>0?(d.logger.backend("[QUEUE] adEmpty remove by condition AdError > 0"),e()):t.emptyLoopLifetime>=t.emptyLoopTimeout?(d.logger.backend("[QUEUE] adEmpty call by condition lifetime "+t.emptyLoopTimeout+"ms"),e(),t.isEmpty=!0):t.emptyLoopLifetime+=1001}),1e3)},t.prototype.IsInfiniteAdvertCount=function(){return 0===c.GlobalStore.Instance().GetAdvertCount()},t.prototype.IsNeedMoreVPAIDs=function(){return!!this.IsHasAttemptsToCallBackend()||(!!(this.IsInfiniteAdvertCount()&&this.CountReadyToPlay()<1)||this.CountAdLoaded()<c.GlobalStore.Instance().GetAdvertCount()&&this.CountPlayed()<c.GlobalStore.Instance().GetAdvertCount())},t.prototype.IsHasAttemptsToCallBackend=function(){return!!this.IsInfiniteAdvertCount()||this.BackendCallAttempts<c.GlobalStore.Instance().GetAdvertCount()},t.prototype.MarkBackendCallAttemp=function(){this.BackendCallAttempts<c.GlobalStore.Instance().GetAdvertCount()&&this.BackendCallAttempts++},t.prototype.GetBackendCallAttempCount=function(){return this.BackendCallAttempts},t.prototype.GetCurrentVPAID=function(){for(var t in this.store)if(!0===this.store[t].InPlayState)return this.store[t].Id},t.prototype.IsCanPlay=function(){return 0!==this.CountAdLoaded()&&(!(!1===this.IsInfiniteAdvertCount()&&this.CountPlayed()>=c.GlobalStore.Instance().GetAdvertCount())&&void 0===this.GetCurrentVPAID())},t.prototype.IsError=function(){return!this.IsInfiniteAdvertCount()&&(0==this.InPlayState()&&this.CountAdError()>=c.GlobalStore.Instance().GetAdvertCount())},t.prototype.IsFinished=function(){return!this.IsInfiniteAdvertCount()&&(0==this.InPlayState()&&this.CountAdStopped()>=c.GlobalStore.Instance().GetAdvertCount()||(0==this.InPlayState()&&this.CountAdStopped()+this.CountAdError()>=c.GlobalStore.Instance().GetAdvertCount()||!1===this.IsHasAttemptsToCallBackend()&&0===this.CountReadyToPlay()&&void 0===this.emptyLoop))},t.prototype.IsEmpty=function(){return!this.IsInfiniteAdvertCount()&&this.isEmpty},t.prototype.HoldVPAIDToPlay=function(){var t=[];for(var e in this.store)this.store[e].AdStopped||this.store[e].AdError||!0===this.store[e].AdLoaded&&t.push(this.store[e]);t.sort((function(t,e){return t.Position>e.Position?1:-1})),this.store[t[0].Id].InPlayState=!0},t.prototype.AdLoaded=function(t){void 0===this.store[t]&&(this.store[t]={Id:t,Position:this.next(),InPlayState:!1,AdError:!1,AdLoaded:!1,AdStopped:!1}),this.store[t].AdLoaded=!0},t.prototype.AdError=function(t){void 0===this.store[t]&&(this.store[t]={Id:t,Position:this.next(),InPlayState:!1,AdError:!1,AdLoaded:!1,AdStopped:!1}),this.store[t].InPlayState=!1,this.store[t].AdLoaded=!1,this.store[t].AdError=!0},t.prototype.AdStopped=function(t){void 0===this.store[t]&&(this.store[t]={Id:t,Position:this.next(),InPlayState:!1,AdError:!1,AdLoaded:!1,AdStopped:!1}),this.store[t].InPlayState=!1,this.store[t].AdLoaded=!1,this.store[t].AdStopped=!0},t.prototype.CountAdLoaded=function(){var t,e=0;for(var n in this.store)(null===(t=this.store[n])||void 0===t?void 0:t.AdLoaded)&&e++;return e},t.prototype.CountAdError=function(){var t=0;for(var e in this.store)this.store[e].AdError&&t++;return t},t.prototype.CountAdStopped=function(){var t=0;for(var e in this.store)this.store[e].AdStopped&&t++;return t},t.prototype.CountReadyToPlay=function(){var t=0;for(var e in this.store){var n=this.store[e];!0===n.AdLoaded&&!1===n.AdError&&!1===n.AdStopped&&t++}return t},t.prototype.CountPlayed=function(){var t=0;for(var e in this.store){var n=this.store[e];(n.AdError||n.AdStopped)&&t++}return t},t.prototype.InPlayState=function(){for(var t in this.store)if(this.store[t].InPlayState)return!0;return!1},t.prototype.next=function(){var t=[];for(var e in this.store)t.push(this.store[e].Position);return t.sort((function(t,e){return t<e?1:-1})),0===t.length?0:t[0]+1},t}(),l=new e;t.GetInstance=function(){return l}}(e.Queue||(e.Queue={}))},8812:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackingEvents=e.TrackType=e.Event=void 0;var i,o=n(4536),r=n(2910),a=n(2651),s=function(){function t(t,e,n,i,o){this.advert=t,this.creative=e,this.type=n,this.url=i,this.offset=o}return t.prototype.GetType=function(){return this.type},t.prototype.GetURL=function(){return this.url},t}();e.Event=s,function(t){t.creativeView="creativeView",t.start="start",t.firstQuartile="firstQuartile",t.midpoint="midpoint",t.thirdQuartile="thirdQuartile",t.complete="complete",t.mute="mute",t.unmute="unmute",t.pause="pause",t.rewind="rewind",t.resume="resume",t.fullscreen="fullscreen",t.exitFullscreen="exitFullscreen",t.expand="expand",t.collapse="collapse",t.acceptInvitationLinear="acceptInvitationLinear",t.closeLinear="closeLinear",t.skip="skip",t.progress="progress",t.clickTracking="clickTracking",t.clickThrough="clickThrough",t.impression="impression",t.error="error"}(i=e.TrackType||(e.TrackType={}));var d=function(){function t(t){var e=this;for(var n in this.data={},this.data={},i)this.data[n]=void 0;t.forEach((function(t){void 0===e.data[t.GetType()]&&(e.data[t.GetType()]=[]),e.data[t.GetType()].push(t)}))}return t.prototype.CreativeView=function(){t.call(i.creativeView,this.data[i.creativeView])},t.prototype.Start=function(){t.call(i.start,this.data[i.start])},t.prototype.FirstQuartile=function(){t.call(i.firstQuartile,this.data[i.firstQuartile])},t.prototype.Midpoint=function(){t.call(i.midpoint,this.data[i.midpoint])},t.prototype.ThirdQuartile=function(){t.call(i.thirdQuartile,this.data[i.thirdQuartile])},t.prototype.Complete=function(){t.call(i.complete,this.data[i.complete])},t.prototype.Mute=function(){t.call(i.mute,this.data[i.mute])},t.prototype.Unmute=function(){t.call(i.unmute,this.data[i.unmute])},t.prototype.Pause=function(){t.call(i.pause,this.data[i.pause])},t.prototype.Resume=function(){t.call(i.resume,this.data[i.resume])},t.prototype.Rewind=function(){r.logger.info('track event call "'.concat(i.rewind,'" -> undefined'))},t.prototype.Expand=function(){t.call(i.expand,this.data[i.expand])},t.prototype.Collapse=function(){t.call(i.collapse,this.data[i.collapse])},t.prototype.Fullscreen=function(){t.call(i.fullscreen,this.data[i.fullscreen])},t.prototype.ExitFullscreen=function(){t.call(i.exitFullscreen,this.data[i.exitFullscreen])},t.prototype.AcceptInvitationLinear=function(){t.call(i.acceptInvitationLinear,this.data[i.acceptInvitationLinear])},t.prototype.CloseLinear=function(){t.call(i.closeLinear,this.data[i.closeLinear])},t.prototype.Skip=function(){t.call(i.skip,this.data[i.skip])},t.prototype.Progress=function(){r.logger.info('track event call "'.concat(i.progress,'" -> undefined'))},t.prototype.ClickTracking=function(){t.call(i.clickTracking,this.data[i.clickTracking])},t.prototype.ClickTrough=function(){t.go(i.clickThrough,this.data[i.clickThrough])},t.prototype.Impression=function(){t.call(i.impression,this.data[i.impression])},t.prototype.Error=function(){t.call(i.error,this.data[i.error])},t.call=function(t,e){if(e)for(var n=function(n){var i=e[n].GetType(),s=e[n].GetURL();if(!s)return"continue";0===(s=o.Macros.replace(s)).indexOf("//wcm-ru")&&(s="https:"+s),a.GlobalStore.Instance().SetTrackCall(i,s),r.logger.info('track event call "'.concat(t,'"'));try{var d=new Image;d.src=s,d.onload=function(){a.GlobalStore.Instance().FinishTrackCall(i,s)},d.onerror=function(){a.GlobalStore.Instance().FinishTrackCall(i,s)}}catch(e){r.logger.info('track event call exception "'.concat(t,'"'),e.message)}},i=0;i<e.length;i++)n(i)},t.go=function(t,e){null==e||e.forEach((function(e){r.logger.info('track event call "'.concat(t,'"'));try{window.open(e.GetURL())}catch(e){r.logger.info('track event call exception "'.concat(t,'"'),e.message)}}))},t}();e.TrackingEvents=d},5585:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{d(i.next(t))}catch(t){r(t)}}function s(t){try{d(i.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}d((i=i.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Backend=void 0;var r=n(9959),a=n(2910),s=n(2651),d=n(8503),c=n(9111),p=n(6607);!function(t){var e,n;!function(t){t[t.VPAIDStartAd=0]="VPAIDStartAd",t[t.VPAIDStopAd=1]="VPAIDStopAd",t[t.VPAIDResizeAd=2]="VPAIDResizeAd",t[t.VPAIDPauseAd=3]="VPAIDPauseAd",t[t.VPAIDResumeAd=4]="VPAIDResumeAd",t[t.VPAIDExpandAd=5]="VPAIDExpandAd",t[t.VPAIDCollapseAd=6]="VPAIDCollapseAd",t[t.VPAIDSkipAd=7]="VPAIDSkipAd",t[t.VPAIDGetAdLinear=8]="VPAIDGetAdLinear",t[t.VPAIDGetAdWidth=9]="VPAIDGetAdWidth",t[t.VPAIDGetAdHeight=10]="VPAIDGetAdHeight",t[t.VPAIDGetAdExpanded=11]="VPAIDGetAdExpanded",t[t.VPAIDGetAdSkippableState=12]="VPAIDGetAdSkippableState",t[t.VPAIDGetAdRemainingTime=13]="VPAIDGetAdRemainingTime",t[t.VPAIDGetAdDuration=14]="VPAIDGetAdDuration",t[t.VPAIDGetAdCompanions=15]="VPAIDGetAdCompanions",t[t.VPAIDSetAdVolume=16]="VPAIDSetAdVolume",t[t.VPAIDGetAdVolume=17]="VPAIDGetAdVolume",t[t.VPAIDGetAdIcons=18]="VPAIDGetAdIcons",t[t.VPAIDAdLoaded=19]="VPAIDAdLoaded",t[t.VPAIDAdStarted=20]="VPAIDAdStarted",t[t.VPAIDAdStopped=21]="VPAIDAdStopped",t[t.VPAIDAdSkipped=22]="VPAIDAdSkipped",t[t.VPAIDAdPaused=23]="VPAIDAdPaused",t[t.VPAIDAdSizeChange=24]="VPAIDAdSizeChange",t[t.VPAIDAdPlaying=25]="VPAIDAdPlaying",t[t.VPAIDAdExpandedChange=26]="VPAIDAdExpandedChange",t[t.VPAIDAdSkippableStateChange=27]="VPAIDAdSkippableStateChange",t[t.VPAIDAdLinearChange=28]="VPAIDAdLinearChange",t[t.VPAIDAdVolumeChange=29]="VPAIDAdVolumeChange",t[t.VPAIDAdVideoStart=30]="VPAIDAdVideoStart",t[t.VPAIDAdVideoFirstQuartile=31]="VPAIDAdVideoFirstQuartile",t[t.VPAIDAdVideoMidPoint=32]="VPAIDAdVideoMidPoint",t[t.VPAIDAdVideoThirdQuartile=33]="VPAIDAdVideoThirdQuartile",t[t.VPAIDAdVideoComplete=34]="VPAIDAdVideoComplete",t[t.VPAIDAdUserAcceptInvitation=35]="VPAIDAdUserAcceptInvitation",t[t.VPAIDAdUserClose=36]="VPAIDAdUserClose",t[t.VPAIDAdUserMinimize=37]="VPAIDAdUserMinimize",t[t.VPAIDAdClickThru=38]="VPAIDAdClickThru",t[t.VPAIDAdInteraction=39]="VPAIDAdInteraction",t[t.VPAIDAdError=40]="VPAIDAdError",t[t.VPAIDAdLog=41]="VPAIDAdLog",t[t.VPAIDAdDurationChange=42]="VPAIDAdDurationChange",t[t.VPAIDAdRemainingTimeChange=43]="VPAIDAdRemainingTimeChange",t[t.VPAIDAdImpression=44]="VPAIDAdImpression",t[t.MVException=45]="MVException",t[t.MVInventory=46]="MVInventory",t[t.MVImpressionWebmaster=47]="MVImpressionWebmaster",t[t.MVSendAdvertToPlayer=48]="MVSendAdvertToPlayer",t[t.MVAdvertiserRequest=49]="MVAdvertiserRequest",t[t.MVAdvertiserRequestReceived=50]="MVAdvertiserRequestReceived",t[t.MVAdvertiserRequestError=51]="MVAdvertiserRequestError",t[t.MVMRCVisibility=52]="MVMRCVisibility",t[t.MVSendStoriesRollToPlayer=53]="MVSendStoriesRollToPlayer",t[t.MVSendInstreamRollToPlayer=54]="MVSendInstreamRollToPlayer",t[t.MVSendRTBPixelToPlayer=55]="MVSendRTBPixelToPlayer",t[t.MVSendORDToPlayer=56]="MVSendORDToPlayer"}(n=t.PlayerBackendCommunicationEvent||(t.PlayerBackendCommunicationEvent={}));var u=((e={})[n.VPAIDStartAd]="VPAIDStartAd",e[n.VPAIDStopAd]="VPAIDStopAd",e[n.VPAIDResizeAd]="VPAIDResizeAd",e[n.VPAIDPauseAd]="VPAIDPauseAd",e[n.VPAIDResumeAd]="VPAIDResumeAd",e[n.VPAIDExpandAd]="VPAIDExpandAd",e[n.VPAIDCollapseAd]="VPAIDCollapseAd",e[n.VPAIDSkipAd]="VPAIDSkipAd",e[n.VPAIDGetAdLinear]="VPAIDGetAdLinear",e[n.VPAIDGetAdWidth]="VPAIDGetAdWidth",e[n.VPAIDGetAdHeight]="VPAIDGetAdHeight",e[n.VPAIDGetAdExpanded]="VPAIDGetAdExpanded",e[n.VPAIDGetAdSkippableState]="VPAIDGetAdSkippableState",e[n.VPAIDGetAdRemainingTime]="VPAIDGetAdRemainingTime",e[n.VPAIDGetAdDuration]="VPAIDGetAdDuration",e[n.VPAIDGetAdCompanions]="VPAIDGetAdCompanions",e[n.VPAIDSetAdVolume]="VPAIDSetAdVolume",e[n.VPAIDGetAdVolume]="VPAIDGetAdVolume",e[n.VPAIDGetAdIcons]="VPAIDGetAdIcons",e[n.VPAIDAdLoaded]="VPAIDAdLoaded",e[n.VPAIDAdStarted]="VPAIDAdStarted",e[n.VPAIDAdStopped]="VPAIDAdStopped",e[n.VPAIDAdSkipped]="VPAIDAdSkipped",e[n.VPAIDAdPaused]="VPAIDAdPaused",e[n.VPAIDAdSizeChange]="VPAIDAdSizeChange",e[n.VPAIDAdPlaying]="VPAIDAdPlaying",e[n.VPAIDAdExpandedChange]="VPAIDAdExpandedChange",e[n.VPAIDAdSkippableStateChange]="VPAIDAdSkippableStateChange",e[n.VPAIDAdLinearChange]="VPAIDAdLinearChange",e[n.VPAIDAdVolumeChange]="VPAIDAdVolumeChange",e[n.VPAIDAdVideoStart]="VPAIDAdVideoStart",e[n.VPAIDAdVideoFirstQuartile]="VPAIDAdVideoFirstQuartile",e[n.VPAIDAdVideoMidPoint]="VPAIDAdVideoMidPoint",e[n.VPAIDAdVideoThirdQuartile]="VPAIDAdVideoThirdQuartile",e[n.VPAIDAdVideoComplete]="VPAIDAdVideoComplete",e[n.VPAIDAdUserAcceptInvitation]="VPAIDAdUserAcceptInvitation",e[n.VPAIDAdUserClose]="VPAIDAdUserClose",e[n.VPAIDAdUserMinimize]="VPAIDAdUserMinimize",e[n.VPAIDAdClickThru]="VPAIDAdClickThru",e[n.VPAIDAdInteraction]="VPAIDAdInteraction",e[n.VPAIDAdError]="VPAIDAdError",e[n.VPAIDAdLog]="VPAIDAdLog",e[n.VPAIDAdDurationChange]="VPAIDAdDurationChange",e[n.VPAIDAdRemainingTimeChange]="VPAIDAdRemainingTimeChange",e[n.VPAIDAdImpression]="VPAIDAdImpression",e[n.MVException]="MVException",e[n.MVInventory]="MVInventory",e[n.MVImpressionWebmaster]="MVImpressionWebmaster",e[n.MVSendAdvertToPlayer]="MVSendAdvertToPlayer",e[n.MVAdvertiserRequest]="MVAdvertiserRequest",e[n.MVMRCVisibility]="MVMRCVisibility",e[n.MVSendStoriesRollToPlayer]="MVSendStoriesRollToPlayer",e[n.MVSendInstreamRollToPlayer]="MVSendInstreamRollToPlayer",e[n.MVSendRTBPixelToPlayer]="MVSendRTBPixelToPlayer",e[n.MVSendORDToPlayer]="MVSendORDToPlayer",e);t.PBCEventName=function(t){return u[t]},t.GetInstance=function(){return s.GlobalStore.Instance().SetCurrentWorker(d.Helpers.GetPlayerWorker()),void 0===s.GlobalStore.Instance().GetBackend()&&s.GlobalStore.Instance().SetBackend(new l(d.Helpers.BackendURI(),{v:s.GlobalStore.Instance().GetVersion()})),s.GlobalStore.Instance().GetBackend()};var l=function(){function t(e,i,o){var r;void 0===i&&(i={});var a=this;this.enabled=!0,this.isOpen=new Promise((function(t,e){a.isOpenResolve=t,a.isOpenReject=e})),this.backendNotImplementedEventsList=((r={})[n.VPAIDAdLoaded]=!0,r[n.VPAIDResizeAd]=!0,r[n.VPAIDStartAd]=!0,r[n.VPAIDAdSizeChange]=!0,r[n.VPAIDAdStarted]=!0,r[n.VPAIDAdStopped]=!0,r[n.VPAIDExpandAd]=!0,r[n.VPAIDCollapseAd]=!0,r[n.VPAIDPauseAd]=!0,r[n.VPAIDResumeAd]=!0,r),this.SendMVInventory=(0,c.default)((function(t,e,i,o,r){var s=[];s.push(t),s.push(e),s.push(i),s.push(o),s.push(r),a.send(n.MVInventory,s)}),250,{leading:!0,trailing:!1}),void 0!==o&&(this.enabled=!!o),!1!==this.enabled&&(this.uri=t.uri(e,i),this.socket=new WebSocket(this.uri),this.socket.onopen=function(){return a.Open()},this.socket.onclose=function(){return a.Close()},this.socket.onerror=function(t){return a.Error(t)},this.socket.onmessage=function(t){return a.handleReceivedMessages(t)})}return t.prototype.Open=function(){this.isOpenResolve(),a.logger.info("event Open")},t.prototype.Close=function(){a.logger.info("event Close")},t.prototype.Error=function(t){this.isOpenReject(),a.logger.info("event Error:",t)},t.prototype.handleReceivedMessages=function(t){var e=t.data.charCodeAt(0),i=t.data.substring(1);switch(e){case n.MVSendAdvertToPlayer:try{i=JSON.parse(i)}catch(t){a.logger.info("error Adverts:",t.message)}this.ReceiveMVSendAdvertToPlayer(i);break;case n.MVSendRTBPixelToPlayer:try{i=JSON.parse(i)}catch(t){a.logger.info("error Adverts:",t.message)}this.ReceiveMVSendRTBPixelToPlayer(i);break;default:a.logger.info('receive event from backend: "'.concat(t.data,'"'))}},t.prototype.isEventExpectedOnBackend=function(t){return!this.backendNotImplementedEventsList[t]},t.prototype.send=function(t,e){var r=this,s=u[t],d=String.fromCharCode(t);if(e)try{d+=JSON.stringify(e)}catch(e){a.logger.backend('send event "'.concat(s,'"(').concat(t,") to backend exception:").concat(e.message))}t!==n.MVAdvertiserRequest?!1!==this.enabled?this.isOpen.then((function(){return i(r,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.isEventExpectedOnBackend(t)?[4,this._send(t,s,d)]:[3,2];case 1:return e.sent(),[3,3];case 2:a.logger.backend('event "'.concat(s,'"(').concat(t,') not implemented / expected on backend "').concat(d,' event is suspended"')),e.label=3;case 3:return[2]}}))}))})).catch((function(e){a.logger.backend('send event "'.concat(s,'"(').concat(t,") to backend promise exception:").concat(e.message))})):a.logger.backend('cannot send event "'.concat(s,'"(').concat(t,') to backend "').concat(d,'", communication is off')):a.logger.backend('event "'.concat(s,'"(').concat(t,') "').concat(d,'" event is suspended'))},t.prototype._send=function(t,e,n){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return this.socket.readyState!==this.socket.CLOSED&&this.socket.readyState!==this.socket.CLOSING?[3,2]:(this.socket=new WebSocket(this.uri),[4,d.Helpers.sleep(250)]);case 1:case 3:return i.sent(),[3,6];case 2:return this.socket.readyState!==this.socket.CONNECTING?[3,4]:[4,d.Helpers.sleep(100)];case 4:return this.socket.send(n),a.logger.backend('send event "'.concat(e,'"(').concat(t,') to backend "').concat(n,'"')),[4,d.Helpers.sleep(50)];case 5:return i.sent(),[2];case 6:return[3,0];case 7:return[2]}}))}))},t.prototype.SendStartAd=function(e,i){this.send(n.VPAIDStartAd,t.args(e,i))},t.prototype.SendStopAd=function(e,i){this.send(n.VPAIDStopAd,t.args(e,i))},t.prototype.SendResizeAd=function(e,i){this.send(n.VPAIDResizeAd,t.args(e,i))},t.prototype.SendPauseAd=function(e,i){this.send(n.VPAIDPauseAd,t.args(e,i))},t.prototype.SendResumeAd=function(e,i){this.send(n.VPAIDResumeAd,t.args(e,i))},t.prototype.SendExpandAd=function(e,i){this.send(n.VPAIDExpandAd,t.args(e,i))},t.prototype.SendCollapseAd=function(e,i){this.send(n.VPAIDCollapseAd,t.args(e,i))},t.prototype.SendSkipAd=function(e,i){this.send(n.VPAIDSkipAd,t.args(e,i))},t.prototype.SendGetAdLinear=function(e,i){this.send(n.VPAIDGetAdLinear,t.args(e,i))},t.prototype.SendGetAdWidth=function(e,i){this.send(n.VPAIDGetAdWidth,t.args(e,i))},t.prototype.SendGetAdHeight=function(e,i){this.send(n.VPAIDGetAdHeight,t.args(e,i))},t.prototype.SendGetAdExpanded=function(e,i){this.send(n.VPAIDGetAdExpanded,t.args(e,i))},t.prototype.SendGetAdSkippableState=function(e,i){this.send(n.VPAIDGetAdSkippableState,t.args(e,i))},t.prototype.SendGetAdRemainingTime=function(e,i){this.send(n.VPAIDGetAdRemainingTime,t.args(e,i))},t.prototype.SendGetAdDuration=function(e,i){this.send(n.VPAIDGetAdDuration,t.args(e,i))},t.prototype.SendGetAdCompanions=function(e,i){this.send(n.VPAIDGetAdCompanions,t.args(e,i))},t.prototype.SendSetAdVolume=function(t,e,i){if(e>0){var o=[t,e];i&&o.push(i),this.send(n.VPAIDSetAdVolume,o)}},t.prototype.SendGetAdVolume=function(e,i){this.send(n.VPAIDGetAdVolume,t.args(e,i))},t.prototype.SendGetAdIcons=function(e,i){this.send(n.VPAIDGetAdIcons,t.args(e,i))},t.prototype.SendAdLoaded=function(e,i){this.send(n.VPAIDAdLoaded,t.args(e,i))},t.prototype.SendAdStarted=function(e,i){this.send(n.VPAIDAdStarted,t.args(e,i))},t.prototype.SendAdStopped=function(e,i){this.send(n.VPAIDAdStopped,t.args(e,i))},t.prototype.SendAdSkipped=function(e,i){this.send(n.VPAIDAdSkipped,t.args(e,i))},t.prototype.SendAdPaused=function(e,i){this.send(n.VPAIDAdPaused,t.args(e,i))},t.prototype.SendAdSizeChange=function(e,i){this.send(n.VPAIDAdSizeChange,t.args(e,i))},t.prototype.SendAdPlaying=function(e,i){this.send(n.VPAIDAdPlaying,t.args(e,i))},t.prototype.SendAdExpandedChange=function(e,i){this.send(n.VPAIDAdExpandedChange,t.args(e,i))},t.prototype.SendAdSkippableStateChange=function(e,i){this.send(n.VPAIDAdSkippableStateChange,t.args(e,i))},t.prototype.SendAdLinearChange=function(e,i){this.send(n.VPAIDAdLinearChange,t.args(e,i))},t.prototype.SendAdVolumeChange=function(t,e,i){if(e){var o=[t,e];i&&o.push(i),this.send(n.VPAIDAdVolumeChange,o)}},t.prototype.SendAdVideoStart=function(e,i){this.send(n.VPAIDAdVideoStart,t.args(e,i))},t.prototype.SendAdVideoFirstQuartile=function(e,i){this.send(n.VPAIDAdVideoFirstQuartile,t.args(e,i))},t.prototype.SendAdVideoMidPoint=function(e,i){this.send(n.VPAIDAdVideoMidPoint,t.args(e,i))},t.prototype.SendAdVideoThirdQuartile=function(e,i){this.send(n.VPAIDAdVideoThirdQuartile,t.args(e,i))},t.prototype.SendAdVideoComplete=function(e,i){this.send(n.VPAIDAdVideoComplete,t.args(e,i))},t.prototype.SendAdUserAcceptInvitation=function(e,i){this.send(n.VPAIDAdUserAcceptInvitation,t.args(e,i))},t.prototype.SendAdUserClose=function(e,i){this.send(n.VPAIDAdUserClose,t.args(e,i))},t.prototype.SendAdUserMinimize=function(e,i){this.send(n.VPAIDAdUserMinimize,t.args(e,i))},t.prototype.SendAdClickThru=function(e,i){this.send(n.VPAIDAdClickThru,t.args(e,i))},t.prototype.SendAdInteraction=function(e,i){this.send(n.VPAIDAdInteraction,t.args(e,i))},t.prototype.SendAdError=function(e,i){this.send(n.VPAIDAdError,t.args(e,i))},t.prototype.SendAdLog=function(e,i){this.send(n.VPAIDAdLog,t.args(e,i))},t.prototype.SendAdDurationChange=function(e,i){this.send(n.VPAIDAdDurationChange,t.args(e,i))},t.prototype.SendAdRemainingTimeChange=function(e,i){this.send(n.VPAIDAdRemainingTimeChange,t.args(e,i))},t.prototype.SendAdImpression=function(e,i,o,r){this.send(n.VPAIDAdImpression,t.args(e,i,o,r))},t.prototype.SendMVException=function(t,e){this.send(n.MVException,[t,e])},t.prototype.SendAdORD=function(t,e,i,o,r){this.send(n.MVSendORDToPlayer,[t,e,i,o,r])},t.prototype.SendMVImpressionWebmaster=function(e,i,o,r){this.send(n.MVImpressionWebmaster,t.args(e,i,o,r))},t.prototype.SendMVMRCVisibility=function(e,i){this.send(n.MVMRCVisibility,t.args(e,i))},t.prototype.ReceiveMVSendAdvertToPlayer=function(t){var e=n.MVSendAdvertToPlayer;u[e];if(s.GlobalStore.Instance().SetUserUid(t[1]),s.GlobalStore.Instance().SetSiteID(t[2]),void 0!==t[0]){var i=atob(t[0]);"no-banner"!==i&&r.Vast.Parse(i)}},t.prototype.ReceiveMVSendRTBPixelToPlayer=function(t){var e=n.MVSendRTBPixelToPlayer;u[e];t.forEach((function(t){p.Pixel.CallRTBPixel(t)}))},t.prototype.SendMVAdvertiserRequest=function(t){this.send(n.MVAdvertiserRequest,[t])},t.args=function(t,e,n,i){return e&&n&&i?[t,e,n,i]:e&&n?[t,e,n]:[t]},t.uri=function(t,e){if(void 0===e&&(e={}),Object.keys(e).length<=0)return t;for(var n in-1==t.indexOf("?")&&(t+="?"),t.length-1>t.indexOf("?")&&(t+="&"),e)t+="".concat(n,"=").concat(e[n],"&");return t.substring(0,t.length-1)},t}();t.Backend=l}(e.Backend||(e.Backend={}))},1510:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Banner=void 0;var o=n(2910),r=n(1302),a=n(9110),s=function(){function t(t){this.config=t,this.vpaidMediator=new r.VPAIDMediator}return t.prototype.initDom=function(t,e,n){var i=this;return this.width=e,this.height=n,this.element=document.querySelector(t),this.cssBuffer=this.element.style,new Promise((function(t,o){try{var r=document.createElement("div"),a=document.createElement("div");i.setStyle({slot:a,wrapper:r,width:e,height:n}),r.append(a),i.element.append(r),i.slotElements={slot:a,element:i.element,wrapper:r},t(i.slotElements)}catch(t){o(t)}}))},t.prototype.selectAd=function(){var t=this;return this.showSlot(),new Promise(function(e){t.selectAdReady=e,t.vpaidMediator.setInstrument(t),t.vpaidMediator.initAd(t.width,t.height,a.VPAIDViewMode.normal,1e4,{AdParameters:JSON.stringify(i(i({},t.config),{advertCount:1}))},t.slotElements)}.bind(this))},t.prototype.playAd=function(){var t=this;return new Promise((function(e){t.vpaidMediator.startAd(),t.playAdEnd=e}))},t.prototype.close=function(t){var e;this.element.style=this.cssBuffer,null===(e=this.vpaidMediator)||void 0===e||e.stopAd(),null==t||t.remove()},t.prototype.error=function(t){console.error(t)},t.prototype.callFunc=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];"function"==typeof this.config[t]&&((e=this.config)[t].apply(e,n),o.logger.info('contentRoll callBack "'.concat(t,'"')))},t.prototype.setStyle=function(t){var e=t.slot,n=t.wrapper,i=t.width,o=t.height;e.style.height=o,e.style.width=i,n.style.height=o,n.style.width=i,n.style.display="none",n.style.position="relative"},t.prototype.showSlot=function(){this.slotElements.wrapper.style.display="block"},t.prototype.pauseAd=function(){this.vpaidMediator.pauseAd()},t.prototype.resumeAd=function(){this.vpaidMediator.resumeAd()},t.prototype.resizeAd=function(t,e,n){var i;null===(i=this.vpaidMediator)||void 0===i||i.resizeAd(t,e,n)},t.prototype.AdLoaded=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdLoaded,'"')),this.selectAdReady()},t.prototype.AdStarted=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdStarted,'"'))},t.prototype.AdStopped=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdStopped,'"')),this.playAdEnd(),this.vpaidMediator.stopAd()},t.prototype.AdSkipped=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdSkipped,'"'))},t.prototype.AdPaused=function(){var t;o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdPaused,'"')),null===(t=this.vpaidMediator)||void 0===t||t.AdPaused()},t.prototype.AdSizeChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdSizeChange,'"'))},t.prototype.AdPlaying=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdPlaying,'"'))},t.prototype.AdExpandedChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdExpandedChange,'"'))},t.prototype.AdSkippableStateChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdSkippableStateChange,'"'))},t.prototype.AdLinearChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdLinearChange,'"'))},t.prototype.AdVolumeChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdVolumeChange,'"'))},t.prototype.AdVideoStart=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdVideoStart,'"'))},t.prototype.AdVideoFirstQuartile=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdVideoFirstQuartile,'"'))},t.prototype.AdVideoMidPoint=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdVideoMidpoint,'"'))},t.prototype.AdVideoThirdQuartile=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdVideoThirdQuartile,'"'))},t.prototype.AdVideoComplete=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdVideoComplete,'"'))},t.prototype.AdUserAcceptInvitation=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdUserAcceptInvitation,'"'))},t.prototype.AdUserClose=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdUserClose,'"'))},t.prototype.AdUserMinimize=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdUserMinimize,'"'))},t.prototype.AdClickThru=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdClickThru,'"'))},t.prototype.AdInteraction=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdInteraction,'"'))},t.prototype.AdError=function(t){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdError,'"')),this.error(t)},t.prototype.AdLog=function(t){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdLog,'"'),t)},t.prototype.AdDurationChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdDurationChange,'"'))},t.prototype.AdRemainingTimeChange=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdRemainingTimeChange,'"'))},t.prototype.AdImpression=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEvent.AdImpression,'"')),this.callFunc("adImp")},t.prototype.AdErrorEmpty=function(){o.logger.info('banner instrument receive event "'.concat(a.VPAIDEventExtra.AdErrorEmpty,'"')),this.callFunc("adEmpty")},t}();e.Banner=s},1646:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ContentRoll=void 0;var o=n(2910),r=n(1302),a=n(9110),s=n(6252),d=n(8503),c=function(){function t(t){this.isIntegration=!1,this.AD_EMPTY_TIMEOUT=4e3,this.htmlString='\n    <div id="mv-top-bar">\n\t\t\t<a id="mv-logo" href="https://moevideo.club/">\n\t\t\t\t<img id="mv-logo-text" height="20px" class="mv-logo-img" src="https://cdn1.moe.video/big_mv_logo.png">\n\t\t\t</a>\n            <div id="mv-ads"></div>\n\t\t</div>\n    ',this.videoStatusPlay=!1,this.isInVisibleState=!1,this.vpaidMediator=new r.VPAIDMediator,this.config=t,this.width=this.getWidth(t.width,t.element),this.height=this.width/16*9,window.addEventListener("message",this.receiveMessage.bind(this),!1),document.body.clientWidth<parseInt(t.width)?(this.width=document.body.clientWidth,this.height="100%"):this.width=this.getWidth(t.width,t.element)}return t.prototype.hideSlot=function(){this.domElements.wrapper.style.display="none"},t.prototype.showSlot=function(){this.domElements.wrapper.style.display="block"},t.prototype.initDom=function(t,e){var n=this;return this.callFunc("playerLoad"),new Promise((function(i,o){var r;try{var a=void 0;"stick"===(null===(r=n.config.fly)||void 0===r?void 0:r.mode)?(a=document.createElement("div"),document.body.append(a)):a=document.querySelector(t);var d=document.createElement("div"),c=document.createElement("div"),p=document.createElement("video");n.topBar=n.getHtml(n.htmlString);var u={element:a,slot:c,wrapper:d,config:n.config,width:n.width,resizeAd:n.resizeAd.bind(n),resumeAd:n.resumeAd.bind(n),videoStatusPlay:n.getAdStatus.bind(n),playerClose:n.config.playerClose};n.setStyle({slot:c,wrapper:d,videoSlot:p,element:a,topBar:n.topBar},e),d.append(c),a.append(d),n.fly=new s.FlyContentRoll(u),n.fly.start(),n.domElements={slot:c,videoSlot:p,element:a,wrapper:d},n.slot=c,i(n.domElements)}catch(t){o(t)}}))},t.prototype.selectAd=function(t,e){var n=this;return this.showSlot(),new Promise((function(o,r){var s,c;n.selectAdReady=o,n.stopSelectAd=r,n.vpaidMediator.setInstrument(n),n.instrumentVisibilityBehaviour(e.slot),n.fly.getStatus()?(s=d.Helpers.isMobile()?n.slot.parentElement.clientWidth+"px":n.config.fly.width+"px"||0,c=parseInt(s)/16*9+"px"):d.Helpers.isMobile()?(s=n.slot.parentElement.clientWidth+"px",c=parseInt(s)/16*9+"px"):(s=n.slot.parentElement.clientWidth+"px",c=n.slot.parentElement.clientWidth/16*9+"px"),n.vpaidMediator.initAd(s,c,a.VPAIDViewMode.normal,1e4,{AdParameters:JSON.stringify(i(i({},t),{advertCount:1}))},e)}))},t.prototype.playAd=function(){var t=this;return new Promise((function(e){t.vpaidMediator.startAd(),t.playAdEnd=e}))},t.prototype.close=function(t){var e;null===(e=this.vpaidMediator)||void 0===e||e.stopAd(),null==t||t.remove()},t.prototype.error=function(t){o.logger.info("contentRoll instrument error: ",t),this.callFunc("adError",t)},t.prototype.errorEmpty=function(){o.logger.info("contentRoll instrument empty"),this.callFunc("adEmpty")},t.prototype.getHtml=function(t){return(new DOMParser).parseFromString(t,"text/html").getElementById("mv-top-bar")},t.prototype.callFunc=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];"function"==typeof this.config[t]&&((e=this.config)[t].apply(e,n),o.logger.info('contentRoll callBack "'.concat(t,'"')))},t.prototype.instrumentVisibilityBehaviour=function(t){this.onPageDetector(this.pauseAd.bind(this),this.resumeAd.bind(this)),this.visibilityDetector(this.pauseAd.bind(this),this.resumeAd.bind(this),t)},t.prototype.onPageDetector=function(t,e){var n=this;window.addEventListener("visibilitychange",(function(i){switch(window.document.visibilityState){case"visible":n.isInVisibleState&&e();break;case"hidden":t()}}))},t.prototype.visibilityDetector=function(t,e,n){var i=this,r=new IntersectionObserver((function(n){var o;(null===(o=n[0])||void 0===o?void 0:o.isIntersecting)?(i.isInVisibleState=!0,e()):(i.isInVisibleState=!1,t())}),{threshold:.5});try{r.observe(n)}catch(t){o.logger.error("instrument visibility behaviour exception",t,n)}},t.prototype.getWidth=function(t,e){if(!e)return document.body.clientWidth;var n=parseInt(t),i=document.querySelector(e);return/%/.test(t)?i.clientWidth*(n/100):n},t.prototype.receiveMessage=function(t){try{JSON.parse(t.data).integration&&(this.isIntegration=!0)}catch(t){}},t.prototype.setStyle=function(t,e){var n=this,i=t.slot,o=t.wrapper,r=t.videoSlot;t.element,t.topBar;o.style.height=null,o.style.width="100%",e.indexOf("%")>=0?o.style.width=e:!1===isNaN(+e)&&(o.style.width=e+"px"),i.style.width="100%",i.style.height="100%",i.id="mv-slot",i.style.position="relative",i.style.margin="auto",i.style.padding="0",r.style.width="100%",r.style.height="100%",r.id="mv-video-slot",r.style.position="absolute",o.style.display="none",o.id="mv-wrapper",o.style.margin="auto",o.onmouseover=function(){document.body.clientWidth<600||"onhover"!==n.config.sound||n.isIntegration||n.vpaidMediator.SetAdVolume(.5)},o.onmouseout=function(){document.body.clientWidth<600||"onhover"!==n.config.sound||n.isIntegration||n.vpaidMediator.SetAdVolume(0)}},t.prototype.getAdStatus=function(){return this.videoStatusPlay},t.prototype.isVisible=function(t){var e=t.getBoundingClientRect(),n=document.documentElement.clientHeight,i=e.top>0&&e.top<n,o=e.bottom<n&&e.bottom>0;return i||o},t.prototype.pauseAd=function(){this.vpaidMediator.pauseAd()},t.prototype.resumeAd=function(){this.vpaidMediator.resumeAd()},t.prototype.resizeAd=function(t,e,n){var i;null===(i=this.vpaidMediator)||void 0===i||i.resizeAd(t,e,n)},t.prototype.AdLoaded=function(){o.logger.info('contentRoll instrument receive event "AdLoaded"'),this.selectAdReady(),this.callFunc("adLoad")},t.prototype.AdStarted=function(){var t=this;this.fly.closeTimer=setTimeout((function(){t.fly.IsCanRenderCloseButton=!0,t.fly.fly&&t.fly.showClose()}),1e3*(this.config.fly.closeSecOffset||30)),this.videoStatusPlay=!0,o.logger.info('contentRoll instrument receive event "AdStarted"'),this.callFunc("adStart"),this.topBar.style.display="flex",this.fly.getStatus()?(d.Helpers.isMobile()?this.slot.style.width=this.slot.parentElement.clientWidth+"px":this.slot.style.width=this.config.fly.width+"px"||0,this.slot.style.height=parseInt(this.slot.style.width)/16*9+"px"):(d.Helpers.isMobile(),this.slot.style.width=this.slot.parentElement.clientWidth+"px",this.slot.style.height=parseInt(this.slot.style.width)/16*9+"px"),this.resizeAd(parseInt(this.slot.style.width),parseInt(this.slot.style.height),a.VPAIDViewMode.normal)},t.prototype.AdStopped=function(){var t;o.logger.info('contentRoll instrument receive event "AdStopped"'),clearTimeout(this.fly.closeTimer),this.fly.IsCanRenderCloseButton=!1,this.fly.hideClose(),this.vpaidMediator.stopAd(),null===(t=this.playAdEnd)||void 0===t||t.call(this),this.callFunc("adFinish")},t.prototype.AdSkipped=function(){o.logger.info('contentRoll instrument receive event "AdSkipped"')},t.prototype.AdPaused=function(){o.logger.info('contentRoll instrument receive event "AdPaused"')},t.prototype.AdSizeChange=function(){o.logger.info('contentRoll instrument receive event "AdSizeChange"')},t.prototype.AdPlaying=function(){o.logger.info('contentRoll instrument receive event "AdPlaying"')},t.prototype.AdExpandedChange=function(){o.logger.info('contentRoll instrument receive event "AdExpandedChange"')},t.prototype.AdSkippableStateChange=function(){o.logger.info('contentRoll instrument receive event "AdSkippableStateChange"')},t.prototype.AdLinearChange=function(){o.logger.info('contentRoll instrument receive event "AdLinearChange"')},t.prototype.AdVolumeChange=function(){o.logger.info('contentRoll instrument receive event "AdVolumeChange"')},t.prototype.AdVideoStart=function(){o.logger.info('contentRoll instrument receive event "AdVideoStart"')},t.prototype.AdVideoFirstQuartile=function(){o.logger.info('contentRoll instrument receive event "AdVideoFirstQuartile"'),this.callFunc("ad25")},t.prototype.AdVideoMidPoint=function(){o.logger.info('contentRoll instrument receive event "AdVideoMidPoint"'),this.callFunc("ad50")},t.prototype.AdVideoThirdQuartile=function(){o.logger.info('contentRoll instrument receive event "AdVideoThirdQuartile"'),this.callFunc("ad75")},t.prototype.AdVideoComplete=function(){o.logger.info('contentRoll instrument receive event "AdVideoComplete"'),clearTimeout(this.fly.closeTimer),this.fly.IsCanRenderCloseButton=!1,this.fly.hideClose(),this.callFunc("adCompl")},t.prototype.AdUserAcceptInvitation=function(){o.logger.info('contentRoll instrument receive event "AdUserAcceptInvitation"')},t.prototype.AdUserClose=function(){o.logger.info('contentRoll instrument receive event "AdUserClose"')},t.prototype.AdUserMinimize=function(){o.logger.info('contentRoll instrument receive event "AdUserMinimize"')},t.prototype.AdClickThru=function(){o.logger.info('contentRoll instrument receive event "AdClickThru"')},t.prototype.AdInteraction=function(){o.logger.info('contentRoll instrument receive event "AdInteraction"')},t.prototype.AdError=function(t){o.logger.info('contentRoll instrument receive event "AdError"'),clearTimeout(this.fly.closeTimer),this.fly.IsCanRenderCloseButton=!1,this.fly.hideClose(),this.error(t)},t.prototype.AdLog=function(t){o.logger.info('contentRoll instrument receive event "AdLog"',t)},t.prototype.AdDurationChange=function(){o.logger.info('contentRoll instrument receive event "AdDurationChange"')},t.prototype.AdRemainingTimeChange=function(){o.logger.info('contentRoll instrument receive event "AdRemainingTimeChange"')},t.prototype.AdImpression=function(){o.logger.info('contentRoll instrument receive event "AdImpression"'),this.callFunc("adImp")},t.prototype.AdErrorEmpty=function(){o.logger.info('contentRoll instrument receive event "'.concat(a.VPAIDEventExtra.AdErrorEmpty,'"')),this.errorEmpty()},t}();e.ContentRoll=c},6252:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FlyContentRoll=void 0,n(315);var i=n(8503),o=function(){function t(t){var e=this;this.isClose=!1,this.firstFly=!0,this.position={"top-right":"top: 0px; right: 0px;","top-left":"top: 0px; left: 0px;","bottom-right":"bottom: 0px; right: 0px;","bottom-left":"bottom: 0px; left: 0px;","top-center":"top: 0px; left: 50%; transform: translate(-50%, 0%);","bottom-center":"bottom: 0px; left: 50%; transform: translate(-50%, 0%);","center-right":"right: 0px; top: 50%; transform: translate(0%, -50%);","center-left":"left: 0px; top: 50%; transform: translate(0%, -50%);",unset:"left: unset; right: unset; top: unset; bottom: unset; translate: unset;"},this.positionWithIndents={"top-right":function(t){return"top: ".concat(e.getIndents(t.top,t.bottom),"px;\n                    right: ").concat(e.getIndents(t.right,t.left),"px;")},"top-left":function(t){return"top: ".concat(e.getIndents(t.top,t.bottom),"px;\n                    left: ").concat(e.getIndents(t.left,t.right),"px;")},"bottom-right":function(t){return"bottom: ".concat(e.getIndents(t.bottom,t.top),"px;\n                    right: ").concat(e.getIndents(t.right,t.left),"px;")},"bottom-left":function(t){return"bottom: ".concat(e.getIndents(t.bottom,t.top),"px;\n                    left: ").concat(e.getIndents(t.left,t.right),"px;")},"top-center":function(t){return"top: ".concat(e.getIndents(t.top,t.bottom),"px;\n                    left: calc(50% + ").concat(e.getIndents(t.left,0),"px - ").concat(e.getIndents(t.right,0),"px);\n                    transform: translate(-50%, 0%);")},"bottom-center":function(t){return"bottom: ".concat(e.getIndents(t.bottom,t.top),"px;\n                    left: calc(50% + ").concat(e.getIndents(t.left,0),"px - ").concat(e.getIndents(t.right,0),"px);\n                    transform: translate(-50%, 0%);")},"center-right":function(t){return"right: ".concat(e.getIndents(t.right,t.left),"px;\n                    top: calc(50% + ").concat(e.getIndents(t.top,0),"px - ").concat(e.getIndents(t.bottom,0),"px);\n                    transform: translate(0%, -50%);")},"center-left":function(t){return"left: ".concat(e.getIndents(t.left,t.right),"px;\n                    top: calc(50% + ").concat(e.getIndents(t.top,0),"px - ").concat(e.getIndents(t.bottom,0),"px);\n                    transform: translate(0%, -50%);")}},this.positionMobile={top:"top: 0px;",center:"top: 50%; transform: translate(0%, -50%);",bottom:"bottom: 0px;"},this.fly=!1,this.IsCanRenderCloseButton=!1,this.config=t.config,this.createClose(t.slot),this.element=t.element,this.slot=t.slot,this.wrapper=t.wrapper,this.widthContentRoll=t.width,this.resizeAd=t.resizeAd,this.resumeAd=t.resumeAd,this.videoStatusPlay=t.videoStatusPlay,this.playerClose=t.playerClose}return t.prototype.start=function(){var t,e,n=this;"off"!==(null===(t=this.config.fly)||void 0===t?void 0:t.mode)&&("stick"===(null===(e=this.config.fly)||void 0===e?void 0:e.mode)&&(this.wrapper.style.height="0",this.goFly()),window.onscroll=function(){var t,e,i=n.isVisible(n.wrapper);"bottom"===(null===(t=n.config.fly)||void 0===t?void 0:t.mode)&&n.firstFly&&!i||n.isClose||("stick"===(null===(e=n.config.fly)||void 0===e?void 0:e.mode)&&(n.fly=!1,i=!1),n.firstFly=!1,i?n.goContent():n.goFly())})},t.prototype.isVisible=function(t){var e=t.getBoundingClientRect(),n=document.documentElement.clientHeight,i=e.top>0&&e.top<n,o=e.bottom<n&&e.bottom>0;return i||o},t.prototype.getIndents=function(t,e){var n=parseInt(null==t?void 0:t.toString())-parseInt(null==e?void 0:e.toString());return isNaN(n)?0:n},t.prototype.goFly=function(){var t,e,n;this.fly||(this.showClose(),i.Helpers.isMobile()?(this.slot.style.cssText=this.positionMobile[this.config.fly.positionMobile]||this.positionMobile.bottom,this.slot.style.width=this.element.clientWidth+"px",this.slot.style.height=this.element.clientWidth/16*9+"px",this.slot.style.border="none",n=this.element.clientWidth/16*9):(this.config.fly.indent?this.slot.style.cssText=(null===(e=null===(t=this.positionWithIndents)||void 0===t?void 0:t[this.config.fly.position])||void 0===e?void 0:e.call(t,this.config.fly.indent))||this.position["bottom-right"]:this.slot.style.cssText=this.position[this.config.fly.position]||this.position["bottom-right"],this.slot.style.width=this.config.fly.width+"px"||0,this.slot.style.height=this.config.fly.width/16*9+"px",n=this.config.fly.width/16*9),this.slot.style.position="fixed",this.slot.style.zIndex="999999999999999",this.slot.style.margin="0",this.slot.style.padding="0",this.fly=!0,this.resizeAd(parseInt(this.slot.style.width),n,"normal"),setTimeout(this.resumeAd,100))},t.prototype.goContent=function(){var t;this.fly&&(this.hideClose(),this.slot.style.cssText=this.position.unset,this.slot.style.position="relative",this.slot.style.zIndex=null,this.slot.style.margin="auto",this.slot.style.paddingBottom="0",this.slot.style.padding="0",this.fly=!1,this.hideClose(),clearTimeout(this.closeTimer),this.slot.style.width=this.element.clientWidth+"px",this.slot.style.height=this.wrapper.style.height=this.element.clientWidth/16*9+"px",t=this.element.clientWidth/16*9,this.resizeAd(parseInt(this.slot.style.width),t,"normal"),setTimeout(this.resumeAd,100))},t.prototype.createClose=function(t){var e,n,o,r,a,s=this;this.close=document.createElement("div");this.close.addEventListener("click",function(){var t;s.playerClose&&s.playerClose(),"stick"===(null===(t=s.config.fly)||void 0===t?void 0:t.mode)&&s.wrapper.remove(),s.goContent(),s.isClose=!0}.bind(this)),this.close.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 512 512" version="1.1"><path d="M 121.500 34.021 C 98.296 38.926, 79.329 49.513, 62.853 66.758 C 49.542 80.691, 40.404 96.871, 35.199 115.723 L 32.500 125.500 32.500 256 L 32.500 386.500 35.199 396.277 C 38.319 407.576, 44.883 421.993, 51.031 431.045 C 56.559 439.186, 68.629 451.794, 76.949 458.119 C 85.953 464.964, 103.497 473.441, 115.500 476.746 L 125.500 479.500 256 479.500 L 386.500 479.500 396.500 476.746 C 408.503 473.441, 426.047 464.964, 435.051 458.119 C 443.371 451.794, 455.441 439.186, 460.969 431.045 C 467.117 421.993, 473.681 407.576, 476.801 396.277 L 479.500 386.500 479.500 256 L 479.500 125.500 476.801 115.723 C 473.681 104.424, 467.117 90.007, 460.969 80.955 C 455.441 72.814, 443.371 60.206, 435.051 53.881 C 426.046 47.036, 408.503 38.559, 396.500 35.254 L 386.500 32.501 258.500 32.310 C 136.101 32.127, 130.106 32.202, 121.500 34.021 M 134.061 65.070 C 101.764 69.336, 75.733 92.314, 66.736 124.500 L 64.500 132.500 64.500 256 L 64.500 379.500 66.736 387.500 C 74.709 416.021, 95.979 437.291, 124.500 445.264 L 132.500 447.500 256 447.500 L 379.500 447.500 387.500 445.264 C 416.021 437.291, 437.291 416.021, 445.264 387.500 L 447.500 379.500 447.500 256 L 447.500 132.500 445.256 124.500 C 437.218 95.846, 416.036 74.668, 387.500 66.754 L 379.500 64.535 260 64.377 C 194.275 64.290, 137.602 64.602, 134.061 65.070 M 184.218 177.663 C 177.881 180.787, 174.876 188.156, 176.463 196.687 C 177.078 199.993, 180.842 204.187, 204.796 228.250 L 232.420 256 204.796 283.750 C 174.962 313.720, 175.018 313.643, 176.275 323.017 C 177.608 332.949, 188.533 338.762, 198.685 334.940 C 200.233 334.357, 213.762 321.656, 228.750 306.714 L 256 279.548 283.250 306.714 C 298.238 321.656, 311.767 334.357, 313.315 334.940 C 323.467 338.762, 334.392 332.949, 335.725 323.017 C 336.982 313.643, 337.038 313.720, 307.204 283.750 L 279.580 256 307.204 228.250 C 337.038 198.280, 336.982 198.357, 335.725 188.983 C 334.392 179.051, 323.467 173.238, 313.315 177.060 C 311.767 177.643, 298.238 190.344, 283.250 205.286 L 256 232.452 228.750 205.286 C 213.762 190.344, 200.233 177.643, 198.685 177.060 C 194.605 175.524, 188 175.799, 184.218 177.663" stroke="none" fill="#040404" fill-rule="evenodd"/><path d="M 136.500 65.006 C 117.430 67.122, 101.168 74.832, 88 88 C 77.660 98.340, 70.464 111.096, 66.751 125.667 L 64.500 134.500 64.500 256 L 64.500 377.500 66.751 386.333 C 71.549 405.163, 83.409 422.617, 98.423 432.947 C 105.688 437.946, 118.638 443.604, 127.500 445.652 C 135.046 447.395, 142.344 447.500, 256 447.500 C 392.971 447.500, 383.923 448.025, 402.500 438.994 C 419.684 430.640, 430.640 419.684, 438.994 402.500 C 448.025 383.923, 447.500 392.971, 447.500 256 C 447.500 142.344, 447.395 135.046, 445.652 127.500 C 443.604 118.638, 437.946 105.688, 432.947 98.423 C 422.772 83.633, 405.408 71.724, 386.847 66.803 L 378.500 64.590 261 64.410 C 196.375 64.311, 140.350 64.579, 136.500 65.006 M 183.241 177.995 C 178.419 180.935, 176.008 185.538, 176.004 191.816 C 176.002 194.739, 176.497 198.114, 177.105 199.316 C 177.713 200.517, 190.423 213.762, 205.349 228.750 L 232.486 256 205.349 283.250 C 190.423 298.238, 177.713 311.483, 177.105 312.684 C 176.497 313.886, 176.002 317.261, 176.004 320.184 C 176.011 329.945, 182.055 335.989, 191.816 335.996 C 194.739 335.998, 198.114 335.503, 199.316 334.895 C 200.517 334.287, 213.762 321.577, 228.750 306.651 L 256 279.514 283.250 306.651 C 298.238 321.577, 311.483 334.287, 312.684 334.895 C 313.886 335.503, 317.261 335.998, 320.184 335.996 C 329.945 335.989, 335.989 329.945, 335.996 320.184 C 335.998 317.261, 335.503 313.886, 334.895 312.684 C 334.287 311.483, 321.577 298.238, 306.651 283.250 L 279.514 256 306.651 228.750 C 321.577 213.762, 334.287 200.517, 334.895 199.316 C 335.503 198.114, 335.998 194.739, 335.996 191.816 C 335.989 182.055, 329.945 176.011, 320.184 176.004 C 317.261 176.002, 313.886 176.497, 312.684 177.105 C 311.483 177.713, 298.238 190.423, 283.250 205.349 L 256 232.486 228.750 205.349 C 213.762 190.423, 200.517 177.713, 199.316 177.105 C 195.697 175.274, 186.906 175.760, 183.241 177.995" stroke="none" fill="#fcfcfc" fill-rule="evenodd"/></svg>',this.close.style.zIndex="999999",this.close.style.cursor="pointer",this.close.style.position="absolute",i.Helpers.isMobile()?this.setClosePosition("top"===(null===(n=null===(e=null==this?void 0:this.config)||void 0===e?void 0:e.fly)||void 0===n?void 0:n.positionMobile)):this.setClosePosition(null===(a=null===(r=null===(o=null==this?void 0:this.config)||void 0===o?void 0:o.fly)||void 0===r?void 0:r.position)||void 0===a?void 0:a.includes("top")),this.close.style.right="1px",this.close.style.display="none",t.append(this.close)},t.prototype.setClosePosition=function(t){t?this.close.style.bottom="-34px":this.close.style.top="-30px"},t.prototype.showClose=function(){!1!==this.IsCanRenderCloseButton&&this.videoStatusPlay()&&(this.close.style.display="block")},t.prototype.hideClose=function(){this.close.style.display="none"},t.prototype.getStatus=function(){return this.fly},t}();e.FlyContentRoll=o},5449:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraficTypeSlot=e.TraficTypeInstrument=e.TraficTypeStream=void 0,function(t){t[t.InStream=1]="InStream",t[t.OutStream=2]="OutStream",t[t.Banner=3]="Banner"}(e.TraficTypeStream||(e.TraficTypeStream={})),function(t){t[t.ContentRoll=1]="ContentRoll",t[t.Wrapper=2]="Wrapper",t[t.VastVPaid=3]="VastVPaid",t[t.Banner=4]="Banner"}(e.TraficTypeInstrument||(e.TraficTypeInstrument={})),function(t){t[t.inpage=10]="inpage",t[t.inbanner=11]="inbanner",t[t.banner_300x250=20]="banner_300x250",t[t.banner_300x600=21]="banner_300x600",t[t.banner_240x400=22]="banner_240x400",t[t.banner_720x90=23]="banner_720x90",t[t.auto=30]="auto",t[t.pre=31]="pre",t[t.middle=32]="middle",t[t.post=33]="post",t[t.pause=34]="pause",t[t.overlay=40]="overlay"}(e.TraficTypeSlot||(e.TraficTypeSlot={}))},4646:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDInstrument=void 0;var i=n(9110),o=n(1302),r=n(2910),a=n(2651),s=n(5449),d=function(){function t(){this.vpaidEvents={},this.vpaidMediator=new o.VPAIDMediator}return t.prototype.subscribe=function(t,e,n){this.vpaidEvents[e]=t.bind(n)},t.prototype.unsubscribe=function(t,e){this.vpaidEvents[t]=null},t.prototype.handshakeVersion=function(){return r.logger.info("vpaid instrument version"),"2.0"},t.prototype.initAd=function(t,e,n,i,o,d){var c=this;this.InstrumentVisibilityBehaviour(d.slot),a.GlobalStore.Instance().Init(o.AdParameters).then((function(){a.GlobalStore.Instance().SetVersion("9a82330"),a.GlobalStore.Instance().SetInstrument(s.TraficTypeInstrument.VastVPaid),a.GlobalStore.Instance().SetSlot(a.GlobalStore.Instance().GetSlot()),r.logger.backend("init version ".concat(a.GlobalStore.Instance().GetVersion()," instrument ").concat(a.GlobalStore.Instance().GetInstrument()," slot ").concat(a.GlobalStore.Instance().GetSlot()))})).finally((function(){c.vpaidMediator.setInstrument(c),c.vpaidMediator.initAd(t,e,n,i,o,d)}))},t.prototype.getAdLinear=function(){var t=this.vpaidMediator.GetAdLinear();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdLinear,'" -> ').concat(t)),t},t.prototype.getAdWidth=function(){var t=this.vpaidMediator.GetAdWidth();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdWidth,'" -> ').concat(t)),t},t.prototype.getAdHeight=function(){var t=this.vpaidMediator.GetAdHeight();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdHeight,'" -> ').concat(t)),t},t.prototype.getAdExpanded=function(){var t=this.vpaidMediator.GetAdExpanded();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdExpanded,'" -> ').concat(t)),t},t.prototype.getAdSkippableState=function(){var t=this.vpaidMediator.GetAdSkippableState();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdSkippableState,'" -> ').concat(t)),t},t.prototype.getAdRemainingTime=function(){var t=this.vpaidMediator.GetAdRemainingTime();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdRemainingTime,'" -> ').concat(t)),t},t.prototype.getAdDuration=function(){var t=this.vpaidMediator.GetAdDuration();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdDuration,'" -> ').concat(t)),t},t.prototype.getAdCompanions=function(){var t=this.vpaidMediator.GetAdCompanions();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdCompanions,'" -> ').concat(t)),t},t.prototype.setAdVolume=function(t){r.logger.info('vpaid instrument set "'.concat(i.VPAIDProperty.setAdVolume,'" ').concat(t)),this.vpaidMediator.SetAdVolume(t)},t.prototype.getAdVolume=function(){var t=this.vpaidMediator.GetAdVolume();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdVolume,'" -> ').concat(t)),t},t.prototype.getAdIcons=function(){var t=this.vpaidMediator.GetAdIcons();return r.logger.info('vpaid instrument get "'.concat(i.VPAIDProperty.getAdIcons,'" -> ').concat(t)),t},t.prototype.startAd=function(){r.logger.info('vpaid instrument send event "startAd"'),this.vpaidMediator.startAd()},t.prototype.stopAd=function(){r.logger.info('vpaid instrument send event "stopAd"'),this.vpaidMediator.stopAd()},t.prototype.resizeAd=function(t,e,n){r.logger.info('vpaid instrument send event "resizeAd"'),this.vpaidMediator.resizeAd(t,e,n)},t.prototype.pauseAd=function(){r.logger.info('vpaid instrument send event "pauseAd"'),this.vpaidMediator.pauseAd()},t.prototype.resumeAd=function(){r.logger.info('vpaid instrument send event "resumeAd"'),this.vpaidMediator.resumeAd()},t.prototype.expandAd=function(){r.logger.info('vpaid instrument send event "expandAd"'),this.vpaidMediator.expandAd()},t.prototype.collapseAd=function(){r.logger.info('vpaid instrument send event "collapseAd"'),this.vpaidMediator.collapseAd()},t.prototype.skipAd=function(){r.logger.info('vpaid instrument send event "skipAd"'),this.vpaidMediator.skipAd()},t.prototype.AdLoaded=function(t){if(t){r.logger.info('vpaid instrument receive event "AdLoaded"');try{this.vpaidEvents[i.VPAIDEvent.AdLoaded]()}catch(t){r.logger.info('vpaid instrument event "AdLoaded" exception:',t)}}},t.prototype.AdStarted=function(t){if(t){r.logger.info('vpaid instrument receive event "AdStarted"');try{this.vpaidEvents[i.VPAIDEvent.AdStarted]()}catch(t){r.logger.info('vpaid instrument event "AdStarted" exception:',t.message)}}},t.prototype.AdStopped=function(t){if(t){r.logger.info('vpaid instrument receive event "AdStopped"');try{this.vpaidEvents[i.VPAIDEvent.AdStopped]()}catch(t){r.logger.info('vpaid instrument event "AdStopped" exception:',t.message)}}},t.prototype.AdSkipped=function(t){if(t){r.logger.info('vpaid instrument receive event "AdSkipped"');try{this.vpaidEvents[i.VPAIDEvent.AdSkipped]()}catch(t){r.logger.info('vpaid instrument event "AdSkipped" exception:',t.message)}}},t.prototype.AdPaused=function(t){if(t){r.logger.info('vpaid instrument receive event "AdPaused"');try{this.vpaidEvents[i.VPAIDEvent.AdPaused]()}catch(t){r.logger.info('vpaid instrument event "AdPaused" exception:',t.message)}}},t.prototype.AdSizeChange=function(t){if(t){r.logger.info('vpaid instrument receive event "AdSizeChange"');try{this.vpaidEvents[i.VPAIDEvent.AdSizeChange]()}catch(t){r.logger.info('vpaid instrument event "AdSizeChange" exception:',t.message)}}},t.prototype.AdPlaying=function(t){if(t){r.logger.info('vpaid instrument receive event "AdPlaying"');try{this.vpaidEvents[i.VPAIDEvent.AdPlaying]()}catch(t){r.logger.info('vpaid instrument event "AdPlaying" exception:',t.message)}}},t.prototype.AdExpandedChange=function(t){if(t){r.logger.info('vpaid instrument receive event "AdExpandedChange"');try{this.vpaidEvents[i.VPAIDEvent.AdExpandedChange]()}catch(t){r.logger.info('vpaid instrument event "AdExpandedChange" exception:',t.message)}}},t.prototype.AdSkippableStateChange=function(t){if(t){r.logger.info('vpaid instrument receive event "AdSkippableStateChange"');try{this.vpaidEvents[i.VPAIDEvent.AdSkippableStateChange]()}catch(t){r.logger.info('vpaid instrument event "AdSkippableStateChange" exception:',t.message)}}},t.prototype.AdLinearChange=function(t){if(t){r.logger.info('vpaid instrument receive event "AdLinearChange"');try{this.vpaidEvents[i.VPAIDEvent.AdLinearChange]()}catch(t){r.logger.info('vpaid instrument event "AdLinearChange" exception:',t.message)}}},t.prototype.AdVolumeChange=function(t){if(t)try{r.logger.info('vpaid instrument receive event "AdVolumeChange"'),this.vpaidEvents[i.VPAIDEvent.AdVolumeChange]()}catch(t){r.logger.info('vpaid instrument event "AdVolumeChange" exception:',t.message)}},t.prototype.AdVideoStart=function(t){if(t){r.logger.info('vpaid instrument receive event "AdVideoStart"');try{this.vpaidEvents[i.VPAIDEvent.AdVideoStart]()}catch(t){r.logger.info('vpaid instrument event "AdVideoStart" exception:',t.message)}}},t.prototype.AdVideoFirstQuartile=function(t){if(t){r.logger.info('vpaid instrument receive event "AdVideoFirstQuartile"');try{this.vpaidEvents[i.VPAIDEvent.AdVideoFirstQuartile]()}catch(t){r.logger.info('vpaid instrument event "AdVideoFirstQuartile" exception:',t.message)}}},t.prototype.AdVideoMidPoint=function(t){if(t){r.logger.info('vpaid instrument receive event "AdVideoMidpoint"');try{this.vpaidEvents[i.VPAIDEvent.AdVideoMidpoint]()}catch(t){r.logger.info('vpaid instrument event "AdVideoMidpoint" exception:',t.message)}}},t.prototype.AdVideoThirdQuartile=function(t){if(t){r.logger.info('vpaid instrument receive event "AdVideoThirdQuartile"');try{this.vpaidEvents[i.VPAIDEvent.AdVideoThirdQuartile]()}catch(t){r.logger.info('vpaid instrument event "AdVideoThirdQuartile" exception:',t.message)}}},t.prototype.AdVideoComplete=function(t){if(t){r.logger.info('vpaid instrument receive event "AdVideoComplete"');try{this.vpaidEvents[i.VPAIDEvent.AdVideoComplete]()}catch(t){r.logger.info('vpaid instrument event "AdVideoComplete" exception:',t.message)}}},t.prototype.AdUserAcceptInvitation=function(t){if(t){r.logger.info('vpaid instrument receive event "AdUserAcceptInteraction"');try{this.vpaidEvents[i.VPAIDEvent.AdUserAcceptInvitation]()}catch(t){r.logger.info('vpaid instrument event "AdUserAcceptInteraction" exception:',t.message)}}},t.prototype.AdUserClose=function(t){if(t){r.logger.info('vpaid instrument receive event "AdUserClose"');try{this.vpaidEvents[i.VPAIDEvent.AdUserClose]()}catch(t){r.logger.info('vpaid instrument event "AdUserClose" exception:',t.message)}}},t.prototype.AdUserMinimize=function(t){if(t){r.logger.info('vpaid instrument receive event "AdUserMinimize"');try{this.vpaidEvents[i.VPAIDEvent.AdUserMinimize]()}catch(t){r.logger.info('vpaid instrument event "AdUserMinimize" exception:',t.message)}}},t.prototype.AdClickThru=function(t){if(t){r.logger.info('vpaid instrument receive event "AdClickThru"');try{this.vpaidEvents[i.VPAIDEvent.AdClickThru]()}catch(t){r.logger.info('vpaid instrument event "AdClickThru" exception:',t.message)}}},t.prototype.AdInteraction=function(t){if(t){r.logger.info('vpaid instrument receive event "AdInteraction"');try{this.vpaidEvents[i.VPAIDEvent.AdInteraction]()}catch(t){r.logger.info('vpaid instrument event "AdInteraction" exception:',t.message)}}},t.prototype.AdError=function(t){if(t){r.logger.info('vpaid instrument receive event "AdError"');try{this.vpaidEvents[i.VPAIDEvent.AdError]()}catch(t){r.logger.info('vpaid instrument event "AdError" exception:',t.message)}}},t.prototype.AdLog=function(t){if(t){r.logger.info('vpaid instrument receive event "AdLog"');try{this.vpaidEvents[i.VPAIDEvent.AdLog]()}catch(t){r.logger.info('vpaid instrument event "AdLog" exception:',t.message)}}},t.prototype.AdDurationChange=function(t){if(t){r.logger.info('vpaid instrument receive event "AdDurationChange"');try{this.vpaidEvents[i.VPAIDEvent.AdDurationChange]()}catch(t){r.logger.info('vpaid instrument event "AdDurationChange" exception:',t.message)}}},t.prototype.AdRemainingTimeChange=function(t){if(t){r.logger.info('vpaid instrument receive event "AdRemainingTimeChange"');try{this.vpaidEvents[i.VPAIDEvent.AdRemainingTimeChange]()}catch(t){r.logger.info('vpaid instrument event "AdRemainingTime" exception:',t.message)}}},t.prototype.AdImpression=function(t){if(t){r.logger.info('vpaid instrument receive event "AdImpression"');try{this.vpaidEvents[i.VPAIDEvent.AdImpression]()}catch(t){r.logger.info('vpaid instrument event "AdImpression" exception:',t.message)}}},t.prototype.AdErrorEmpty=function(t){if(t){r.logger.info('vpaid instrument receive event "'.concat(i.VPAIDEventExtra.AdErrorEmpty,'"'));try{this.vpaidEvents[i.VPAIDEvent.AdError](303)}catch(t){r.logger.info('vpaid instrument event "'.concat(i.VPAIDEventExtra.AdErrorEmpty,'" exception:'),t.message)}}},t.prototype.InstrumentVisibilityBehaviour=function(t){var e=this;window.addEventListener("visibilitychange",(function(t){"visible"===window.document.visibilityState?e.resumeAd():"hidden"===window.document.visibilityState&&e.pauseAd()}));var n=new IntersectionObserver((function(t,n){var i;(null===(i=t[0])||void 0===i?void 0:i.isIntersecting)?e.resumeAd():e.pauseAd()}),{threshold:.5});try{n.observe(t)}catch(e){r.logger.error("instrument visibility behaviour exception",e,t)}},t}();e.VPAIDInstrument=d},8519:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function a(t){try{d(i.next(t))}catch(t){r(t)}}function s(t){try{d(i.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}d((i=i.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(4646),d=n(1646),c=n(1510),p=n(2651),u=n(2910),l=n(5449),h=n(8503);window.getVPAIDAd=function(){return a||(a=new s.VPAIDInstrument),a},window.addContentRoll=function(t,e){return void 0===e&&(e={}),o(void 0,void 0,void 0,(function(){return r(this,(function(e){return p.GlobalStore.Instance().Init(JSON.stringify(i({},t))).then((function(){p.GlobalStore.Instance().SetVersion("9a82330"),p.GlobalStore.Instance().SetInstrument(l.TraficTypeInstrument.ContentRoll),p.GlobalStore.Instance().SetSlot(l.TraficTypeSlot.inpage),u.logger.backend("init version ".concat(p.GlobalStore.Instance().GetVersion()))})).finally((function(){return o(void 0,void 0,void 0,(function(){var e,n,i;return r(this,(function(o){switch(o.label){case 0:if(0===p.GlobalStore.Instance().GetPlacement())return u.logger.backend("zero placement error",p.GlobalStore.Instance().GetInstrumentName(),p.GlobalStore.Instance().GetSlotName()),[2];e=new d.ContentRoll(t),o.label=1;case 1:return o.trys.push([1,5,6,7]),[4,e.initDom(t.element,t.width)];case 2:return n=o.sent(),[4,e.selectAd(t,n)];case 3:return o.sent(),[4,e.playAd()];case 4:return o.sent(),[3,7];case 5:return i=o.sent(),e.error(i),[3,7];case 6:return e.close(null==n?void 0:n.wrapper),[7];case 7:return[2]}}))}))})),[2]}))}))},window.addBanner=function(t,e){return void 0===e&&(e={}),o(void 0,void 0,void 0,(function(){return r(this,(function(e){return p.GlobalStore.Instance().Init(JSON.stringify(i({},t))).then((function(){p.GlobalStore.Instance().SetVersion("9a82330"),p.GlobalStore.Instance().SetInstrument(l.TraficTypeInstrument.Banner),p.GlobalStore.Instance().SetSlot(h.Helpers.ConvertSizeToBannerSlot(t.width,t.height)),u.logger.backend("init version ".concat(p.GlobalStore.Instance().GetVersion()))})).finally((function(){return o(void 0,void 0,void 0,(function(){var e,n,i;return r(this,(function(o){switch(o.label){case 0:if(0===p.GlobalStore.Instance().GetPlacement())return u.logger.backend("zero placement error",p.GlobalStore.Instance().GetInstrumentName(),p.GlobalStore.Instance().GetSlotName()),[2];e=new c.Banner(t),o.label=1;case 1:return o.trys.push([1,5,6,7]),[4,e.initDom(t.element,t.width,t.height)];case 2:return n=o.sent(),[4,e.selectAd()];case 3:return o.sent(),[4,e.playAd()];case 4:return o.sent(),[3,7];case 5:return i=o.sent(),e.error(i),[3,7];case 6:return e.close(null==n?void 0:n.wrapper),[7];case 7:return[2]}}))}))})),[2]}))}))}},9543:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URIProxy=void 0;var i=n(2910);!function(t){var e=new(function(){function t(){var t=this;this.frameStorage=[],this.frameReadyQueue=[],this.frameResolveQueue=[],this.fetchResultResolveStorage=[],window.addEventListener("message",(function(e){if(!0===Boolean(e.data))try{i.logger.debug("proxy-uri exception receive:",e.data);var n=JSON.parse(e.data);t.fetchResultResolveStorage[n.domain][n.uri](n.text)}catch(n){i.logger.debug("proxy-uri exception",n,e,t.fetchResultResolveStorage)}}))}return t.prototype.fetch=function(t,e){var n=this;return this.frameReadyQueue[t]?this.push(t,e):void 0===this.frameStorage[t]?new Promise((function(e,i){n.frameStorage[t]=n.frame(t,e)})).then((function(){return n.push(t,e)})):new Promise((function(e,i){n.frameResolveQueue[t]||(n.frameResolveQueue[t]=[]),n.frameResolveQueue[t].push(e)})).then((function(){return n.push(t,e)}))},t.prototype.push=function(t,e){var n=this;return new Promise((function(i,o){n.fetchResultResolveStorage[t]||(n.fetchResultResolveStorage[t]=[]),n.fetchResultResolveStorage[t][e]=i,n.frameStorage[t].contentWindow.postMessage(JSON.stringify({domain:t,uri:e}),"*")}))},t.prototype.frame=function(t,e){var n=this,i=document.createElement("iframe");return i.id="frame_".concat(t),i.style.visibility="hidden",i.src=t,i.onload=function(){e(),n.frameResolveQueue[t]&&n.frameResolveQueue[t].forEach((function(t){return t()})),n.frameReadyQueue[t]=!0},window.document.body.appendChild(i),i},t}());t.fetch=function(t,n){return e.fetch(t,n)}}(e.URIProxy||(e.URIProxy={}))},6762:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controls=void 0;var i=n(2910);!function(t){t.SkipUI=function(t,n){var i="skip_container",o=document.createElement("div");o.style.zIndex="3",o.style.fontSize="14px",o.style.color="#fff",o.style.bottom="15%",o.style.right="2%",o.style.padding="12px 10px",o.style.position="absolute",o.style.cursor="not-allowed",o.innerHTML=" : ".concat(t," c"),t<=0&&(t=3);var r=setInterval((function(){t-=1,o.innerHTML=" : ".concat(t," c"),t<=0&&(o.innerHTML=" ",o.style.cursor="pointer",o.onclick=n,clearInterval(r))}),1e3),a=document.createElement("div");return a.id=i,a.className=[e].join(" "),a.innerHTML="\n                            <style>\n                            #".concat(i," {\n                              -webkit-touch-callout: none; /* iOS Safari */\n                              -webkit-user-select: none; /* Safari */\n                              -khtml-user-select: none; /* Konqueror HTML */\n                              -moz-user-select: none; /* Old versions of Firefox */\n                              -ms-user-select: none; /* Internet Explorer/Edge */\n                              user-select: none; /* Non-prefixed version, currently susupported by Chrome, Edge, Opera and Firefox */\n                            }\n                            </style>"),a.appendChild(o),a},t.PlaybackUI=function(t,o){var r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"path");a.setAttributeNS(null,"d","M0 0h24v24H0z"),a.setAttributeNS(null,"fill","none");var s=document.createElementNS(r,"path");s.setAttributeNS(null,"d","M8 5v14l11-7z"),s.setAttributeNS(null,"stroke","grey");var d=document.createElementNS(r,"svg");d.appendChild(a),d.appendChild(s);var c=document.createElement("div");c.id="playback_play",c.appendChild(d);var p=document.createElementNS(r,"path");p.setAttributeNS(null,"d","M0 0h24v24H0z"),p.setAttributeNS(null,"fill","none");var u=document.createElementNS(r,"path");u.setAttributeNS(null,"d","M6 19h4V5H6v14zm8-14v14h4V5h-4z"),u.setAttributeNS(null,"stroke","grey");var l=document.createElementNS(r,"svg");l.appendChild(p),l.appendChild(u);var h=document.createElement("div");h.id="playback_pause",h.appendChild(l),c.onclick=function(){try{o(),d.style.display="none",l.style.display=""}catch(t){i.logger.info("playbackPlay.onclick exception: ".concat(t.message))}},h.onclick=function(){try{t(),d.style.display="",l.style.display="none"}catch(t){i.logger.info("playbackPause.onclick exception: ".concat(t.message))}},!0?(d.style.display="none",l.style.display=""):(d.style.display="",l.style.display="none");var f=document.createElement("div");return f.id="playback_container",f.className=[e,n].join(" "),f.style.position="absolute",f.style.top="45%",f.style.bottom="45%",f.style.left="45%",f.style.right="45%",f.appendChild(c),f.appendChild(h),f},t.TimelineUI=function(t,n){var i=document.createElement("div");i.id="timeline_container",i.style.height="4px",i.style.width="0%",i.style.backgroundColor="#86c3f7",i.style.transition="all .3s linear",i.style.transitionDuration="1s",i.style.transitionTimingFunction="linear",i.style.transitionDelay="0s",i.style.transitionProperty="all";var o=document.createElement("div");o.style.position="absolute",o.className=[e].join(" "),o.style.width="100%",o.style.height="4px",o.style.backgroundColor="#a1a1a1",o.style.bottom="0",o.style.left="0",o.style.right="0",o.appendChild(i);var r=setInterval((function(){var e=100*(1-n()/t()).toFixed(2);i.style.width="".concat(e,"%"),e>=100&&clearInterval(r)}),1e3);return o},t.CloseUI=function(t){var n=document.createElement("div");return n.className=[e].join(" "),n.onclick=function(){t(),i.logger.debug("instrument close button click")},n.style.position="absolute",n.innerHTML='\n        <svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg">\n          <path d="M0 0h24v24H0z" fill="none"/>\n          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="grey" stroke="grey"/>\n        </svg>',n},t.VolumeUI=function(t,i){var o="volume_container",r=document.createElement("input");r.type="range",r.min="0",r.max="100",r.id="volume_line",r.style.background="none",r.style.width="50%",r.value=t(),r.oninput=function(){return t=i,e=+r.value/100,t(e),void f(e);var t,e};var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"path");s.setAttributeNS(null,"d","M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z");var d=document.createElementNS(a,"svg");d.id="volume_off",d.onclick=function(){return i(t=.5),r.value="".concat(t),void f(t);var t},d.appendChild(s);var c=document.createElementNS(a,"path");c.setAttributeNS(null,"d","M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z");var p=document.createElementNS(a,"svg");p.id="volume_on",p.onclick=function(){return i(t=0),r.value="".concat(t),void f(t);var t},p.appendChild(c);var u=document.createElementNS(a,"path");u.setAttributeNS(null,"d","M0 0h24v24H0z"),u.setAttributeNS(null,"fill","none");var l=document.createElementNS(a,"svg");l.setAttributeNS(null,"fill","white"),l.setAttributeNS(null,"viewBox","0 0 24 24"),l.setAttributeNS(null,"width","30"),l.setAttributeNS(null,"height","30"),l.appendChild(u),l.appendChild(p),l.appendChild(d);var h=document.createElement("div");function f(t){0===t?(p.style.display="none",d.style.display=null):(p.style.display=null,d.style.display="none")}return h.style.position="absolute",h.style.bottom="3%",h.style.left="2%",h.id=o,h.className=[e,n].join(" "),h.innerHTML="<style>\n                      #".concat(o," {\n                        -webkit-touch-callout: none; /* iOS Safari */\n                        -webkit-user-select: none; /* Safari */\n                        -khtml-user-select: none; /* Konqueror HTML */\n                        -moz-user-select: none; /* Old versions of Firefox */\n                        -ms-user-select: none; /* Internet Explorer/Edge */\n                        user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */\n                        display: flex;\n                        align-items: center;\n                      }\n\n                      input[type=range] {\n                        height: 2px;\n                        -webkit-appearance: none;\n                        width: 100%;\n                        border-radius: 2px;\n                        border: none;\n                      }\n\n                      input[type=range]:focus {\n                        outline: none;\n                      }\n\n                      input[type=range]::-webkit-slider-runnable-track {\n                        width: 100%;\n                        height: 2px;\n                        cursor: pointer;\n                        animate: 0.2s;\n                        box-shadow: 0px 0px 0px #000000;\n                        background: #ffffff;\n                        border-radius: 2px;\n                        border: none;\n                      }\n\n                      input[type=range]::-webkit-slider-thumb {\n                        box-shadow: 0px 0px 0px #000000;\n                        height: 12px;\n                        width: 12px;\n                        border-radius: 50%;\n                        background: #ffffff;\n                        cursor: pointer;\n                        -webkit-appearance: none;\n                        margin-top: -5px;\n                      }\n\n                      input[type=range]:focus::-webkit-slider-runnable-track {\n                        background: #ffffff;\n                      }\n\n                      input[type=range]::-moz-range-track {\n                        width: 100%;\n                        height: 2px;\n                        cursor: pointer;\n                        animate: 0.2s;\n                        box-shadow: 0px 0px 0px #000000;\n                        background: #ffffff;\n                        border-radius: 2px;\n                      }\n\n                      input[type=range]::-moz-range-thumb {\n                        box-shadow: 0px 0px 0px #000000;\n                        height: 12px;\n                        width: 12px;\n                        border-radius: 50%;\n                        background: #ffffff;\n                        cursor: pointer;\n                      }\n\n                      input[type=range]::-ms-track {\n                        width: 100%;\n                        height: 2px;\n                        cursor: pointer;\n                        animate: 0.2s;\n                        background: transparent;\n                        color: transparent;\n                      }\n\n                      input[type=range]::-ms-fill-lower {\n                        background: #ffffff;\n                        border-radius: 2px;\n                        box-shadow: 0px 0px 0px #000000;\n                      }\n\n                      input[type=range]::-ms-fill-upper {\n                        background: #ffffff;\n                        border-radius: 2px;\n                        box-shadow: 0px 0px 0px #000000;\n                      }\n\n                      input[type=range]::-ms-thumb {\n                        margin-top: 1px;\n                        box-shadow: 0px 0px 0px #000000;\n                        height: 12px;\n                        width: 12px;\n                        border-radius: 50%;\n                        background: #ffffff;\n                        cursor: pointer;\n                      }\n\n                      input[type=range]:focus::-ms-fill-lower {\n                        background: #ffffff;\n                      }\n\n                      input[type=range]:focus::-ms-fill-upper {\n                        background: #ffffff;\n                      }\n                    </style>"),h.appendChild(l),h.appendChild(r),f(t()),h},t.FullscreenUI=function(t,o,r){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"path");s.setAttributeNS(null,"d","M0 0h24v24H0z"),s.setAttributeNS(null,"fill","none");var d=document.createElementNS(a,"path");d.setAttributeNS(null,"d","M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"),d.setAttributeNS(null,"stroke","grey");var c=document.createElementNS(a,"svg");c.id="fullscreen_on",c.appendChild(s),c.appendChild(d);var p=document.createElementNS(a,"path");p.setAttributeNS(null,"d","M0 0h24v24H0z"),p.setAttributeNS(null,"fill","none");var u=document.createElementNS(a,"path");u.setAttributeNS(null,"d","M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"),u.setAttributeNS(null,"stroke","grey");var l=document.createElementNS(a,"svg");l.id="fullscreen_off",l.appendChild(p),l.appendChild(u),c.onclick=function(){try{o(),c.style.display="none",l.style.display=""}catch(t){i.logger.info("fullscreenOn.onclick ".concat(t.message))}},l.onclick=function(){try{r(),l.style.display="none",c.style.display=""}catch(t){i.logger.info("fullscreenOff.onclick ".concat(t.message))}};var h=document.createElementNS(a,"svg");h.style.position="absolute",h.setAttributeNS(null,"fill","white"),h.setAttributeNS(null,"viewBox","0 0 24 24"),h.setAttributeNS(null,"width","30"),h.setAttributeNS(null,"height","30"),h.appendChild(c),h.appendChild(l),function(t){t?(c.style.display="none",l.style.display=""):(l.style.display="none",c.style.display="")}(t());var f=document.createElement("div");return f.id="fullscreen_container",f.className=[e,n].join(" "),f.style.position="absolute",f.style.bottom="45%",f.style.left="2%",f.appendChild(h),f},t.Agency=function(){return document.createElement("a")},t.Advertisement=function(){var t=document.createElement("div");return t.className=[e].join(" "),t.style.position="absolute",t.style.top="0",t.style.right="10px",t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="70" height="20">\n          <defs>\n            <filter id="text-shadow" x="-20%" y="-20%" width="140%" height="140%">\n              <feOffset result="offOut" in="SourceAlpha" dx="1" dy="1" />\n              <feGaussianBlur result="blurOut" in="offOut" stdDeviation="1" />\n              <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n            </filter>\n          </defs>\n          <rect width="100%" height="100%" fill="none" />\n          <text x="0" y="13" font-size="0.8em" font-family= "Montserrat,Arial,Helvetica,sans-serif" fill="white" filter="url(#text-shadow)">\n            <tspan x="10" dy="0">&#x440;&#x435;&#x43A;&#x43B;&#x430;&#x43C;&#x430;</tspan>\n          </text>\n        </svg>',t};var e="control",n="control_fadeable";t.Init=function(){var t=document.createElement("style");return t.innerHTML="\n            .".concat(n," { opacity: 0 }\n        "),t},t.SelectorFadeable=function(){return"."+n},t.SelectorControl=function(){return"."+e},t.FadeIn=function(t){t.style.setProperty("opacity","1"),t.style.setProperty("transition","opacity 0.1s linear")},t.FadeOut=function(t){t.style.setProperty("opacity","0"),t.style.setProperty("transition","opacity 0.1s linear")}}(e.Controls||(e.Controls={}))},2651:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStore=void 0;var i,o,r=n(5449),a=n(2910),s=function(){function t(){this.store={},this.DEFAULT_ADVERT_COUNT_FOR_VAST_VPAID_INSTRUMENT=1,this.DEFAULT_ADVERT_COUNT_FOR_CONTENT_ROLL_INSTRUMENT=0,this.tracks={},this.cookies={"903586990269a05c8dfa":1,ea6e66a46c7968303fd1:1,"599119df90fd38dd4718":1,f3cf29ad4b9788c12027:1,"6492dd60a072cb72593d":1,d2fc49edc86e14e832d6:1,"9565881d1d98d665d864":1}}return t.prototype.set=function(t,e){a.logger.info('AdParameters set parameter "'.concat(t," => ").concat(e,'"')),this.store[t]=e},t.prototype.get=function(t){return this.store[t]},t.prototype.Init=function(t){var e=this;return new Promise((function(n,s){a.logger.info('AdParameters parse "'.concat(t,'"'));try{var d=JSON.parse(t);for(var c in d)switch(c){case o.advertCount:e.set(i.ADVERT_COUNT,d[c]);break;case i.Slot:var p=d[c].toLocaleLowerCase();d[c]=r.TraficTypeSlot[p],void 0===d[c]&&(d[c]=r.TraficTypeSlot.pre),e.set(c,d[c]);break;default:e.set(c,d[c])}a.logger.info("AdParameters full:",e.store)}catch(e){a.logger.info('AdParameters parse exception: "'.concat(t,'" ').concat(e.message))}n()}))},t.prototype.SetBackend=function(t){this.set(i.Backend,t)},t.prototype.GetBackend=function(){return this.get(i.Backend)},t.prototype.SetCurrentWorker=function(t){this.set(i.Worker,t)},t.prototype.GetCurrentWorker=function(){return this.get(i.Worker)},t.prototype.SetVersion=function(t){this.set(i.Version,t)},t.prototype.GetVersion=function(){return this.get(i.Version)},t.prototype.SetInstrument=function(t){this.set(i.Instrument,t)},t.prototype.GetInstrument=function(){return this.get(i.Instrument)},t.prototype.GetInstrumentName=function(){return r.TraficTypeInstrument[this.GetInstrument()]},t.prototype.SetSlot=function(t){this.set(i.Slot,t)},t.prototype.GetSlot=function(){return this.get(i.Slot)},t.prototype.GetSlotName=function(){return r.TraficTypeSlot[this.GetSlot()]},t.prototype.SetPlacement=function(t){this.set(i.Placement,t)},t.prototype.GetPlacement=function(){return+this.get(i.Placement)},t.prototype.GetInitialVolumeLevel=function(){var t=this.get(i.Volume);if(void 0!==t){if(!isNaN(+t))return t}else if(this.get(i.Slot)===r.TraficTypeSlot.pre)return 1;return 0},t.prototype.SetSiteID=function(t){this.set(i.SiteID,t)},t.prototype.GetSiteID=function(){return this.get(i.SiteID)},t.prototype.SetUserUid=function(t){this.set(i.UserUid,t)},t.prototype.GetUserUid=function(){var t=this.get(i.UserUid);return t||""},t.prototype.GetMacrosReferer=function(){var t=this.get(i.MacrosReferer);return t||(t=""),t},t.prototype.GetMacrosSite=function(){var t=this.get(i.MacrosReferer);return t||(t=""),(t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0].split("?")[0]},t.prototype.GetMacrosWebmaster=function(){return this.get(i.MacrosWebmaster)},t.prototype.SetAdvertCount=function(t){this.set(i.ADVERT_COUNT,t)},t.prototype.GetAdvertCount=function(){var t=this.get(i.ADVERT_COUNT);if(isNaN(t)||t<0)switch(this.GetInstrument()){case r.TraficTypeInstrument.VastVPaid:return this.DEFAULT_ADVERT_COUNT_FOR_VAST_VPAID_INSTRUMENT;case r.TraficTypeInstrument.ContentRoll:return this.DEFAULT_ADVERT_COUNT_FOR_CONTENT_ROLL_INSTRUMENT;default:return 0}return t},t.prototype.SetTrackCall=function(t,e){this.tracks[t+e]=!0},t.prototype.FinishTrackCall=function(t,e){delete this.tracks[t+e]},t.prototype.IsTrackCallStackEmpty=function(){return 0===Object.keys(this.tracks).length},t.Instance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t.prototype.IsTestUser=function(){return!!this.cookies[this.GetUserUid()]},t.prototype.SetTestUserForce=function(){for(var t in this.cookies){this.SetUserUid(t);break}},t}();e.GlobalStore=s,function(t){t.Backend="backend",t.Worker="worker",t.Version="version",t.Placement="placement",t.Volume="volume",t.Instrument="instrument",t.Slot="slot",t.UserUid="user_uid",t.SiteID="site_id",t.MacrosReferer="referer",t.MacrosWebmaster="user_id",t.ADVERT_COUNT="advert_count"}(i||(i={})),function(t){t.advertCount="advertCount"}(o||(o={}))},8503:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Helpers=void 0;var i=n(5449),o=n(2651);!function(t){var e=["fwgt5d.moe.video","fwgt5d.moe.video","eycknz.moe.video","eycknz.moe.video","ysdu01.moe.video","ysdu01.moe.video","0sabxq.moe.video","0sabxq.moe.video","omfn2u.moe.video","omfn2u.moe.video","hq5f7q.moe.video","hq5f7q.moe.video","kfh5lw.moe.video","kfh5lw.moe.video","bxiw7c.moe.video","bxiw7c.moe.video","lcnsxw.moe.video","lcnsxw.moe.video","rhqsy4.moe.video","rhqsy4.moe.video","9n9p66.moe.video","9n9p66.moe.video","odtbh7.moe.video","odtbh7.moe.video","japuin.moe.video","japuin.moe.video","28ww21.moe.video","28ww21.moe.video","doraqi.moe.video","doraqi.moe.video","ijji9k.moe.video","ijji9k.moe.video","qlch4v.moe.video","qlch4v.moe.video","y3lwic.moe.video","y3lwic.moe.video","3ncaqg.moe.video","3ncaqg.moe.video","dt3znf.moe.video","dt3znf.moe.video","gfrnlw.moe.video","gfrnlw.moe.video","7j5kcv.moe.video","7j5kcv.moe.video","hu3sge.moe.video","hu3sge.moe.video","e8jpkr.moe.video","e8jpkr.moe.video","9ro1e4.moe.video","9ro1e4.moe.video","ikj06v.moe.video","ikj06v.moe.video","amqxwe.moe.video","amqxwe.moe.video","j0nkd5.moe.video","j0nkd5.moe.video","aog79z.moe.video","aog79z.moe.video","xygcyf.moe.video","xygcyf.moe.video","kue8qa.moe.video","kue8qa.moe.video","b5iaxq.moe.video","b5iaxq.moe.video","r0ozg2.moe.video","r0ozg2.moe.video","0h84ew.moe.video","0h84ew.moe.video","21p1mr.moe.video","21p1mr.moe.video","66s3q0.moe.video","66s3q0.moe.video","kol6fn.moe.video","kol6fn.moe.video","086voa.moe.video","086voa.moe.video","tsqxw5.moe.video","tsqxw5.moe.video","i0zn99.moe.video","i0zn99.moe.video","w1cugy.moe.video","w1cugy.moe.video","nkzren.moe.video","nkzren.moe.video","bvnbck.moe.video","bvnbck.moe.video","za1tcf.moe.video","za1tcf.moe.video","mu9bwz.moe.video","mu9bwz.moe.video","j2dr9p.moe.video","j2dr9p.moe.video","j2dr9p.moe.video","gchcbr.moe.video","gchcbr.moe.video","gchcbr.moe.video","bezno3.moe.video","bezno3.moe.video","bezno3.moe.video","pc564n.moe.video","pc564n.moe.video","x0g6du.moe.video","j9b7ka.moe.video","5luy4u.moe.video","qxyvgd.moe.video","txf8ha.moe.video","hcm6yj.moe.video","53jk5a.moe.video","j0dryp.moe.video","sj4zza.moe.video","njovzg.moe.video","lvlirf.moe.video","81dnpp.moe.video","vhm45r.moe.video","6q4zky.moe.video","d3s428.moe.video","grewqd.moe.video"];t.GetReferer=function(){return location.ancestorOrigins.length>0?location.ancestorOrigins[location.ancestorOrigins.length-1]:location.href},t.BackendURI=function(){return"wss://".concat(o.GlobalStore.Instance().GetCurrentWorker())},t.GetPlayerWorker=function(){for(var t=0;t<e.length;t++)if(o.GlobalStore.Instance().GetCurrentWorker()===e[t])return o.GlobalStore.Instance().GetCurrentWorker();return e[Math.floor(Math.random()*e.length)]},t.Size=function(t,e){return t&&e?(t=t.toString(10).replace("px",""),e=e.toString(10).replace("px",""),Math.ceil(t)+"x"+Math.ceil(e)):"0x0"},t.PixelAsNumber=function(t){return+t.toString(10).replace("px","")},t.PixelAsString=function(t){return+t.toString(10).replace("px","")+"px"},t.ConvertSizeToBannerSlot=function(t,e){var n=+(null==t?void 0:t.replace("px","")),o=+(null==e?void 0:e.replace("px",""));return 300===n&&250===o?i.TraficTypeSlot.banner_300x250:300===n&&600===o?i.TraficTypeSlot.banner_300x600:240===n&&400===o?i.TraficTypeSlot.banner_240x400:720===n&&90===o?i.TraficTypeSlot.banner_720x90:i.TraficTypeSlot.banner_300x600},t.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},t.RandString=function(t){t<=0&&(t=1);for(var e="",n=0;n<t;n++)e+=(Math.floor(100*Math.random())%16).toString(16);return e},t.isMobile=function(){return document.body.clientWidth<700}}(e.Helpers||(e.Helpers={}))},2910:function(t,e,n){"use strict";var i=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0;var o=n(2651);!function(t){var e;!function(t){t[t.NO=0]="NO",t[t.BACKEND=1]="BACKEND",t[t.ERROR=2]="ERROR",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"}(e=t.Level||(t.Level={}));var n=e.BACKEND,r=[];function a(t,e){r.push([t,e])}t.backend=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];n>=e.BACKEND&&a("MoeVideo Backend (".concat(o.GlobalStore.Instance().GetInstrumentName(),"-").concat(o.GlobalStore.Instance().GetSlotName(),") (").concat(d(),"): ")+t,i)},t.error=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];n>=e.ERROR&&a("MoeVideo Error (".concat(o.GlobalStore.Instance().GetInstrumentName(),"-").concat(o.GlobalStore.Instance().GetSlotName(),") (").concat(d(),"): ")+t,i)},t.info=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];n>=e.INFO&&a("MoeVideo Info (".concat(o.GlobalStore.Instance().GetInstrumentName(),"-").concat(o.GlobalStore.Instance().GetSlotName(),") (").concat(d(),"): ")+t,i)},t.debug=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];n>=e.DEBUG&&a("MoeVideo Debug (".concat(o.GlobalStore.Instance().GetInstrumentName(),"-").concat(o.GlobalStore.Instance().GetSlotName(),") (").concat(d(),"): ")+t,i)};var s=Date.now();function d(){return((Date.now()-s)/1e3).toFixed(2)+"s"}var c=setInterval((function(){if(!(o.GlobalStore.Instance().GetUserUid().length<=0))if(o.GlobalStore.Instance().IsTestUser())for(;r.length>0;){var t=r.shift();console.log.apply(console,i([t[0]],t[1],!1))}else clearInterval(c)}),50)}(e.logger||(e.logger={}))},6607:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixel=void 0;var i=n(4536),o=n(2651);!function(t){var e={1:"https://moevideo-sync.rutarget.ru/sync",2:"https://ad.adriver.ru/cgi-bin/rle.cgi?sid=1&ad=719570&bt=21&bn=719570",3:"https://sync.bumlam.com/?src=mvn&uid=[user_uid]",4:"https://sync.dsp.solta.io/match/moevideo_direct?id=[user_uid]",5:"https://sync.dsp.solta.io/match/moevideo_direct_piratka_ssp?id=[user_uid]",6:"https://exchange.buzzoola.com/cookiesync/redirect/moevideo?redirect_url=https%3A%2F%2Frtb.moe.video%2Fcs%3Fd%3D6%26b%3D%24%7BUUID%7D",7:"https://ads.betweendigital.com/match?bidder_id=42837&callback_url=https%3A%2F%2Frtb.moe.video%2Fcs%3Fd%3D7%26b%3D%24%7BUSER_ID%7D",8:"https://dm-eu.hybrid.ai/match?id=117",9:"https://px.adhigh.net/p/cm/moevideo",10:"https://sync.upravel.com/moevideo/sync",11:"https://sm.rtb.mts.ru/p?ssp=moevideo&id=[user_uid]",12:"https://sync.dmp.otm-r.com/match/moevideo",13:"https://sync.adspend.space/moevideo?uid=[user_uid]",14:"https://ssp.afp.ai/api/sync/myvideo",15:"https://match.qtarget.tech/userbind?src=moevideo&id=[user_uid]",17:"https://sync.programmatica.com/match/MoeVideo?id=[user_uid]",18:"https://a.adsource.tech/sync?id=[user_uid]&ssp=MoeVideo",19:"https://match.new-programmatic.com/userbind?src=moevideo&id=[user_uid]",20:"https://www.acint.net/rmatch?dp=115&r=https%3A%2F%2Frtb.moe.video%2Fcs%3Fd%3D20%26b%3D%24%7BUSER_ID%7D"};t.CallRTBPixel=function(t){var n=e[t];n&&setTimeout((function(){n=i.Macros.replace(n,{user_uid:o.GlobalStore.Instance().GetUserUid()}),fetch(n,{mode:"no-cors",credentials:"include"})}),1e3)}}(e.Pixel||(e.Pixel={}))},9836:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdvertWrapperParser=e.AdvertParser=void 0;var i=n(4042),o=n(9110),r=function(){function t(t,e,n){this.parser=t,this.rootAd=e,this.parentAd=n}return t.prototype.parse=function(){var t=this;return this.parser.getVastElements(["Ad"]).map((function(e,n){var o,r,a=e.childs[0];if(a){var s=new i.Advert({id:e.attrs.id,system:null===(o=a.getChilds("AdSystem")[0])||void 0===o?void 0:o.content,title:null===(r=a.getChilds("Title")[0])||void 0===r?void 0:r.content,type:i.VastType[a.getName()],controls:t.parseControls(a),options:t.parseOptions(a),ord:t.getOrd(a)||void 0});return t.parentAd&&s.setParentAdvert(t.parentAd),t.rootAd&&s.setRootAdvert(t.rootAd),{element:a,advert:s}}}))},t.prototype.parseControls=function(t){var e,n,i,o,r,a,s,d,c,p,u,l,h,f=null===(e=t.getChilds("Extensions")[0])||void 0===e?void 0:e.getChilds("Extension");if(void 0!==f)return{fullscreen:"true"===(null===(i=null===(n=f[0])||void 0===n?void 0:n.getChilds("Controls")[0])||void 0===i?void 0:i.getAttr("fullscreen")),volume:"true"===(null===(r=null===(o=f[0])||void 0===o?void 0:o.getChilds("Controls")[0])||void 0===r?void 0:r.getAttr("volume")),timeline:"true"===(null===(s=null===(a=f[0])||void 0===a?void 0:a.getChilds("Controls")[0])||void 0===s?void 0:s.getAttr("timeline")),playback:"true"===(null===(c=null===(d=f[0])||void 0===d?void 0:d.getChilds("Controls")[0])||void 0===c?void 0:c.getAttr("playback")),skip:"true"===(null===(u=null===(p=f[0])||void 0===p?void 0:p.getChilds("Controls")[0])||void 0===u?void 0:u.getAttr("skip")),agency:"true"===(null===(h=null===(l=f[0])||void 0===l?void 0:l.getChilds("Controls")[0])||void 0===h?void 0:h.getAttr("agency")),payedEvent:null}},t.prototype.parseOptions=function(t){var e,n,i,o,r,a,c,p,u,l,h,f,v,g,A,y,m,I=null===(e=t.getChilds("Extensions")[0])||void 0===e?void 0:e.getChilds("Extension");if(void 0!==I){var E=(null===(i=null===(n=I[0])||void 0===n?void 0:n.getChilds("Player")[0])||void 0===i?void 0:i.getAttr("showLimit"))||null,V=(null===(r=null===(o=I[0])||void 0===o?void 0:o.getChilds("Player")[0])||void 0===r?void 0:r.getAttr("skipOffset"))||null,P=(null===(c=null===(a=I[0])||void 0===a?void 0:a.getChilds("Player")[0])||void 0===c?void 0:c.getAttr("startToClick"))||null,C=(null===(u=null===(p=I[0])||void 0===p?void 0:p.getChilds("Player")[0])||void 0===u?void 0:u.getAttr("iframePlayer"))||"",S=(null===(h=null===(l=I[0])||void 0===l?void 0:l.getChilds("Player")[0])||void 0===h?void 0:h.getAttr("timeoutLimit"))||null,b=(null===(v=null===(f=I[0])||void 0===f?void 0:f.getChilds("Integration")[0])||void 0===v?void 0:v.getAttr("type"))||null,D=+(null===(A=null===(g=I[0])||void 0===g?void 0:g.getChilds("Integration")[0])||void 0===A?void 0:A.getAttr("dsp"));isNaN(D)&&(D=void 0);var T=(null===(m=null===(y=I[0])||void 0===y?void 0:y.getChilds("PayEvent")[0])||void 0===m?void 0:m.getAttr("id"))||d,k=s[T];return k||(k=d),{showLimit:Number(E),skipOffset:Number(V),startToClick:"true"===P,iframePlayer:C.length>0?C:null,timeoutLimit:Number(S),integrationType:+b,rtb:{dsp:D},payPlayerEvent:k}}},t.prototype.getOrd=function(t){var e,n,i=null===(e=t.getChilds("Extensions")[0])||void 0===e?void 0:e.getChilds("Extension");if(void 0===i)return"";var o=null===(n=i[0])||void 0===n?void 0:n.getChilds("Ord")[0];return(null==o?void 0:o.getAttr("content"))||""},t}();e.AdvertParser=r;var a=function(){function t(t,e,n){this.advert=t,this.advertRootElement=e,this.rootAdvert=n}return t.prototype.parse=function(){if("Wrapper"===this.advertRootElement.getName()){var t=this.advertRootElement.getChilds("VASTAdTagURI")[0].content;if(t)return{url:t,advert:this.advert,rootAdvert:this.rootAdvert?this.rootAdvert:this.advert}}},t}();e.AdvertWrapperParser=a;var s={0:"duration_3",1:"duration_30",10:o.VPAIDEvent.AdLog,11:o.VPAIDEvent.AdTime,12:o.VPAIDEvent.AdError,13:o.VPAIDEvent.AdPaused,14:o.VPAIDEvent.AdLoaded,15:o.VPAIDEvent.AdPlaying,16:o.VPAIDEvent.AdStarted,17:o.VPAIDEvent.AdStopped,18:o.VPAIDEvent.AdSkipped,19:o.VPAIDEvent.AdUserClose,20:o.VPAIDEvent.AdClickThru,21:o.VPAIDEvent.AdVideoStart,22:o.VPAIDEvent.AdImpression,23:o.VPAIDEvent.AdSizeChange,24:o.VPAIDEvent.AdInteraction,25:o.VPAIDEvent.AdVolumeChange,26:o.VPAIDEvent.AdUserMinimize,27:o.VPAIDEvent.AdLinearChange,28:o.VPAIDEvent.AdVideoMidpoint,29:o.VPAIDEvent.AdVideoComplete,30:o.VPAIDEvent.AdDurationChange,31:o.VPAIDEvent.AdExpandedChange,32:o.VPAIDEvent.AdVideoFirstQuartile,33:o.VPAIDEvent.AdVideoThirdQuartile,34:o.VPAIDEvent.AdRemainingTimeChange,35:o.VPAIDEvent.AdSkippableStateChange,36:o.VPAIDEvent.AdUserAcceptInvitation},d=s[0]},4362:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreativeParser=void 0;var i=n(336),o=function(){function t(t,e){this.adId=t,this.advertRootElement=e}return t.prototype.parse=function(){var t,e=this,n=null===(t=this.advertRootElement.getChilds("Creatives")[0])||void 0===t?void 0:t.getChilds("Creative");return n?n.map((function(t){var n,o=(null===(n=t.attrs)||void 0===n?void 0:n.sequence)?+t.attrs.sequence:0,r=e.parseCreativeRootElement(t),a=i.Format[r.name],s=e.parseCreativeClickUrl(r),d=e.parseCreativeDuration(r),c=e.parseCreativeSkipOffset(r);return{element:r,creative:new i.Creative(e.adId,{id:t.attrs.id,adId:t.attrs.adId,duration:d,clickUrl:s,format:a,sequence:o,skipOffset:c})}})):[]},t.prototype.convertStringToSeconds=function(t){if(t){var e=t.split(":");return 3600*parseInt(e[0])+60*parseInt(e[1])+parseInt(e[2])}},t.prototype.parseCreativeSkipOffset=function(t){var e=t.getAttr("skipoffset"),n=this.convertStringToSeconds(e);if(n)return n},t.prototype.parseCreativeDuration=function(t){var e,n=null===(e=t.getChilds("Duration")[0])||void 0===e?void 0:e.content;return this.convertStringToSeconds(n)},t.prototype.parseCreativeClickUrl=function(t){var e,n;return null===(n=null===(e=t.getChilds("VideoClicks")[0])||void 0===e?void 0:e.getChilds("ClickThrough")[0])||void 0===n?void 0:n.content},t.prototype.parseCreativeRootElement=function(t){var e=t.getChilds("Linear")[0];if(e)return e;var n=t.getChilds("NonLinearAds")[0];if(n)return n;var i=t.getChilds("CompanionAds")[0];return i||void 0},t}();e.CreativeParser=o},4536:function(t,e){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Macros=void 0;var i=function(){function t(){}return t.replace=function(t,e){void 0===e&&(e={});for(var i=0,r=o;i<r.length;i++){var a=r[i],s=t.match(a.regexp);if(s){var d=a.processor(s,n({},e));d&&(t=t.replace(a.regexp,d))}}return t},t}();e.Macros=i;var o=[{regexp:/\[height\]/,processor:function(t,e){return"height"in e?e.height:void 0}},{regexp:/\[width\]/,processor:function(t,e){return"width"in e?e.width:void 0}},{regexp:/\[user_id\]/,processor:function(t,e){return"user_id"in e?e.user_id:void 0}},{regexp:/\[user_uid\]/,processor:function(t,e){return"user_uid"in e?e.user_uid:void 0}},{regexp:/\[site\]/,processor:function(t,e){var n;return e.site?e.site:(null===(n=null===location||void 0===location?void 0:location.ancestorOrigins)||void 0===n?void 0:n.length)>0?location.ancestorOrigins[location.ancestorOrigins.length-1]:location.href}},{regexp:/\[site_id\]/g,processor:function(t,e){return"site_id"in e?e.site_id:void 0}},{regexp:/\[ua\]/,processor:function(t,e){return"ua"in e?e.ua:void 0}},{regexp:/\[ip\]/,processor:function(t,e){return"ip"in e?e.ip:void 0}},{regexp:/\[referer\]/,processor:function(t,e){var n="";return n=e.referer?e.referer:location.href,encodeURIComponent(n)}},{regexp:/\[frameref\]/,processor:function(t,e){return"frameref"in e?e.frameref:void 0}},{regexp:/\[truesite\]/,processor:function(t,e){var n,i="";if(null===(n=null===location||void 0===location?void 0:location.ancestorOrigins)||void 0===n?void 0:n.length){var o=document.createElement("a");o.href=location.ancestorOrigins[location.ancestorOrigins.length-1],i=o.hostname}else i=location.host;return i}},{regexp:/\[redservize_canplay\]/,processor:function(t,e){var n={"video/mp4":1,"video/webm":2,"video/x-flv":3,"application/x-shockwave-flash":4,"application/javascript":5},i={"application/javascript":!0},o=[];for(var r in n)n.hasOwnProperty(r)&&i.hasOwnProperty(r)&&o.push(n[r]);return o.join(",")}},{regexp:/\[hostname\]/,processor:function(t,e){return window.location.hostname}},{regexp:/\[ad_uid\]/,processor:function(t,e){return"ad_uid"in e?e.ad_uid:void 0}},{regexp:/\[ads_id\]/,processor:function(t,e){return"ads_id"in e?e.ads_id:void 0}},{regexp:/\[timestamp\]/,processor:function(t,e){return Date.now()/1e3}},{regexp:/\[random(\((\d+),(\d+)\))?\]/,processor:function(t,e){var n=0,i=1e7;return t[1]&&t[2]&&(n=parseInt(t[1],8),i=parseInt(t[2],8)),r(n,i)}},{regexp:/\[duration(\((\d+),(\d+)\))?\]/,processor:function(t,e){var n=60,i=260;return t[1]&&t[2]&&(n=parseInt(t[1],8),i=parseInt(t[2],8)),r(n,i)}}];function r(t,e){return void 0===t&&(t=0),void 0===e&&(e=Number.MAX_SAFE_INTEGER),Math.round(Math.random()*(e-t)+t)}},191:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediaFileParser=void 0;var i=n(1101),o=n(5369),r=n(8647),a=n(8904),s=function(){function t(t,e,n,i,o){this.advert=t,this.creativeModel=e,this.creativeRootElement=n,this.vpaidFilesUrl=i,this.advertRoot=o}return t.prototype.parse=function(){var t,e=this,n=null===(t=this.creativeRootElement.getChilds("MediaFiles")[0])||void 0===t?void 0:t.getChilds("MediaFile"),i=[];return n&&n.forEach((function(t){var n,o=t.getAttr("scalable"),r=!("false"===o||"1"===o),s=t.getAttr("type"),d=t.getAttr("height")?+t.getAttr("height"):void 0,c=t.getAttr("width")?+t.getAttr("width"):void 0,p=t.getAttr("bitrate")?+t.getAttr("bitrate"):void 0,u=t.getAttr("maxBitrate")?+t.getAttr("maxBitrate"):void 0,l=t.getAttr("minBitrate")?+t.getAttr("minBitrate"):void 0,h=t.getAttr("aspectRation")?t.getAttr("aspectRation"):void 0,f="VPAID"===t.getAttr("apiFramework"),v=f?null===(n=e.creativeRootElement.getChilds("AdParameters")[0])||void 0===n?void 0:n.content:void 0,g=new a.MediaFile({id:t.getAttr("id"),mimetype:f?"vpaid":s,url:t.getContent(),aspectRation:h,scalable:r,height:d,width:c,bitrate:p,maxBitrate:u,minBitrate:l,params:v});i.push(g)})),this.convertToVpaidContent(this.advert,i)},t.prototype.convertToVpaidContent=function(t,e){var n=this,a=e.filter((function(t){return i.VideoContentVpaid.getSupportMimeTypes().includes(t.vastData.mimetype)})),s=e.filter((function(t){return o.StreamContentVpaid.getSupportMimeTypes().includes(t.vastData.mimetype)})),d=e.filter((function(t){return r.NativeContentVpaid.getSupportMimeTypes().includes(t.vastData.mimetype)})),c=[];return a.length>0&&c.push(new i.VideoContentVpaid(t,this.creativeModel,a,this.vpaidFilesUrl)),s.length>0&&c.push(new o.StreamContentVpaid(t,this.creativeModel,s,this.vpaidFilesUrl)),d.forEach((function(e){c.push(new r.NativeContentVpaid(t,n.creativeModel,e))})),c},t}();e.MediaFileParser=s},4042:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VastType=e.Advert=void 0;var i,o=n(5877),r=function(){function t(t){this.id=(0,o.v4)(),this.data=t,void 0===this.data.id&&(this.data.id=this.id)}return t.prototype.getId=function(){return this.id},t.prototype.getData=function(){return this.data},t.prototype.getSkipOffset=function(){var t,e,n,i,o,r,a,s;return void 0!==(null===(t=this.data)||void 0===t?void 0:t.options)?null===(n=null===(e=this.data)||void 0===e?void 0:e.options)||void 0===n?void 0:n.skipOffset:void 0!==(null===(o=null===(i=this.parentAdvert)||void 0===i?void 0:i.data)||void 0===o?void 0:o.options)?null===(s=null===(a=null===(r=this.parentAdvert)||void 0===r?void 0:r.data)||void 0===a?void 0:a.options)||void 0===s?void 0:s.skipOffset:0},t.prototype.getVastId=function(){return this.data.id},t.prototype.setParentAdvert=function(t){this.parentAdvert=t},t.prototype.getParentId=function(){var t;return null===(t=this.parentAdvert)||void 0===t?void 0:t.getId()},t.prototype.getParentAdvert=function(){return this.parentAdvert},t.prototype.getRootAdId=function(){var t;return null===(t=this.rootAdvert)||void 0===t?void 0:t.getId()},t.prototype.setRootAdvert=function(t){this.rootAdvert=t},t.prototype.getControls=function(){var t;return this.rootAdvert?null===(t=this.rootAdvert)||void 0===t?void 0:t.getControls():this.data.controls},t.prototype.getOptions=function(){var t;return this.rootAdvert?null===(t=this.rootAdvert)||void 0===t?void 0:t.getOptions():this.data.options},t.prototype.getType=function(){return this.data.type},t.prototype.hash=function(){return JSON.stringify(this.data)},t.prototype.equals=function(t){return t.hash()===this.hash()},t.prototype.IsNeedForeignFrame=function(){return!!this.getOptions().iframePlayer},t.prototype.IsInline=function(){return this.getType()===i.InLine},t.prototype.isWrapper=function(){return this.getType()===i.Wrapper},t.prototype.getOrd=function(){var t;return this.rootAdvert?null===(t=this.rootAdvert)||void 0===t?void 0:t.getOrd():this.data.ord},t}();e.Advert=r,function(t){t.Wrapper="Wrapper",t.InLine="InLine"}(i=e.VastType||(e.VastType={}))},8737:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentVpaid=void 0;var i=n(5877),o=n(2568),r=function(){function t(){this.id=(0,i.v4)()}return t.prototype.getId=function(){return this.id},t.prototype.getControls=function(){return this.advert.getControls()},t.prototype.getDuration=function(){return this.creative.getDuration()},t.prototype.getScriptUrl=function(){return this.vpaidFilesUrl+"/"+this.getFileName()},t.prototype.crypt=function(t){return o(t)},t}();e.ContentVpaid=r},336:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Format=e.Creative=void 0;var i=n(5877),o=function(){function t(t,e){this.id=(0,i.v4)(),this.adId=t,this.data=e}return t.prototype.getId=function(){return this.id},t.prototype.getClickUrl=function(){return this.data.clickUrl},t.prototype.getAdId=function(){return this.adId},t.prototype.getVastCreative=function(){return this.data},t.prototype.getSkipOffset=function(){return this.data.skipOffset},t.prototype.setSkipOffset=function(t){this.data.skipOffset=t},t.prototype.getDuration=function(){return this.data.duration},t.prototype.getVastId=function(){return this.data.id},t.prototype.hash=function(){return JSON.stringify(this.data)},t.prototype.equals=function(t){return t.hash()===this.hash()},t}();e.Creative=o,function(t){t.Linear="Linear",t.NonLinearAds="NonLinearAds",t.CompanionAds="CompanionAds"}(e.Format||(e.Format={}))},8904:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MediaFile=void 0;var i=n(5877),o=function(){function t(t){this.id=(0,i.v4)(),this.vastMediaFile=t}return Object.defineProperty(t.prototype,"vastData",{get:function(){return this.vastMediaFile},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.hash=function(){return JSON.stringify(this.vastMediaFile)},t.prototype.equals=function(t){return t.hash()===this.hash()},t}();e.MediaFile=o},8647:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.NativeContentVpaid=void 0;var r=function(t){function e(e,n,i){var o=t.call(this)||this;return o.advert=e,o.creative=n,o.mediaFile=i,o}return o(e,t),e.getSupportMimeTypes=function(){return["vpaid"]},e.prototype.getAdId=function(){return this.advert.getId()},e.prototype.getSkipOffset=function(){return this.creative.getSkipOffset()},e.prototype.getCreativeId=function(){return this.creative.getId()},e.prototype.getClickUrl=function(){return this.creative.getClickUrl()},e.prototype.getParams=function(){return this.mediaFile.vastData.params},e.prototype.getFileName=function(){return""},e.prototype.getScriptUrl=function(){return this.mediaFile.vastData.url},e.prototype.equals=function(t){return this.hash()===t.hash()},e.prototype.hash=function(){return this.crypt(this.mediaFile.hash())},e.prototype.GetMediaFile=function(){return this.mediaFile},e}(n(8737).ContentVpaid);e.NativeContentVpaid=r},5369:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StreamContentVpaid=void 0;var r=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.advert=e,r.creative=n,r.mediaFileList=i,r.vpaidFilesUrl=o,r}return o(e,t),e.getSupportMimeTypes=function(){return["stream/hls"]},e.prototype.getAdId=function(){return this.advert.getId()},e.prototype.getCreativeId=function(){return this.creative.getId()},e.prototype.getClickUrl=function(){return this.creative.getClickUrl()},e.prototype.getSkipOffset=function(){return this.creative.getSkipOffset()},e.prototype.getParams=function(){return JSON.stringify({videos:this.mediaFileList})},e.prototype.getFileName=function(){return"stream.vpaid.js"},e.prototype.equals=function(t){return t.hash()==t.hash()},e.prototype.hash=function(){return this.crypt(this.mediaFileList.reduce((function(t,e){return t+e.hash()}),""))},e}(n(8737).ContentVpaid);e.StreamContentVpaid=r},1101:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VideoContentVpaid=void 0;var r=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.advert=e,r.creative=n,r.mediaFileList=i,r.vpaidFilesUrl=o,r}return o(e,t),e.getSupportMimeTypes=function(){return["video/mp4","video/mpeg","video/webm","video/ogg","video/3gpp"]},e.prototype.getAdId=function(){return this.advert.getId()},e.prototype.getCreativeId=function(){return this.creative.getId()},e.prototype.getClickUrl=function(){return this.creative.getClickUrl()},e.prototype.getSkipOffset=function(){return this.creative.getSkipOffset()},e.prototype.getParams=function(){return JSON.stringify({videos:this.mediaFileList.map((function(t){return t.vastData})),skipOffset:this.getSkipOffset()})},e.prototype.getFileName=function(){return"html5.vpaid.js"},e.prototype.equals=function(t){return t.hash()==t.hash()},e.prototype.hash=function(){return this.crypt(this.mediaFileList.reduce((function(t,e){return t+e.hash()}),""))},e.prototype.GetMediaFile=function(){return this.mediaFileList[0]},e}(n(8737).ContentVpaid);e.VideoContentVpaid=r},4705:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrackParser=void 0;var i=n(8812),o=function(){function t(){}return t.parseAdvertTrack=function(t,e){var n=[];return e.getChilds("Impression").forEach((function(e){n.push({adId:t.getId(),creativeId:void 0,offset:void 0,type:i.TrackType.impression,url:e.content})})),e.getChilds("Error").forEach((function(e){n.push({adId:t.getId(),creativeId:void 0,offset:void 0,type:i.TrackType.error,url:e.content})})),n},t.parseCreativeTrack=function(t,e,n){var o=[],r=n.getChilds("TrackingEvents")[0],a=n.getChilds("VideoClicks")[0];return r&&r.getChilds("Tracking").forEach((function(n){var i;o.push({adId:t.getId(),creativeId:e.getId(),offset:null===(i=n.attrs)||void 0===i?void 0:i.offset,type:n.attrs.event,url:n.content})})),a&&(a.getChilds("ClickTracking").forEach((function(n){var r;o.push({adId:t.getId(),creativeId:e.getId(),offset:null===(r=n.attrs)||void 0===r?void 0:r.offset,type:i.TrackType.clickTracking,url:n.content})})),a.getChilds("ClickThrough").forEach((function(n){var r;o.push({adId:t.getId(),creativeId:e.getId(),offset:null===(r=n.attrs)||void 0===r?void 0:r.offset,type:i.TrackType.clickThrough,url:n.content})}))),o},t}();e.TrackParser=o},9959:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vast=void 0;var i=n(5568),o=n(9836),r=n(4362),a=n(191),s=n(4705),d=n(4536),c=n(8812),p=n(5098),u=n(5589),l=n(1992),h=n(8647),f=n(263),v=n(9543),g=n(2910),A=n(2651),y=n(1101),m=n(5585);!function(t){t.Parse=function(t){e.parse(t)};var e=new(function(){function t(t){this.vpaidURI=t}return t.prototype.parse=function(t,e,i,o){void 0===o&&(o=!0),t&&(t=t.replace(/<!--.*-->/i,""));var r=new n(t,this.vpaidURI,i,e),a=r.getCreativeList().length>0,s=r.getAdvertList().length>0,d=r.getWrapperList().length>0,v=!a&&!d||!s;if(g.logger.info("vast parser is-vast-parse-error:".concat(v," is-have-wrappers:").concat(d," is-have-adverts:").concat(s," is-have-creatives:").concat(a)),g.logger.info("vast parser xml:".concat(t)),!(e&&i&&e.getId()===i.getId()&&v||v)){try{r.getAdvertList().forEach((function(t){var e=[];r.getCreativeList().forEach((function(n){var i=[];if(n.getAdId()===t.getId()){r.getTrackList().forEach((function(t){(t.creativeId===n.getId()||t.adId===n.getAdId())&&i.push(new c.Event(void 0,n.getId(),t.type,t.url,t.offset))}));var o,a=new c.TrackingEvents(i);r.getContentVpaidList().forEach((function(e){t.getId()==e.getAdId()&&(e instanceof h.NativeContentVpaid||e instanceof y.VideoContentVpaid?o=new p.Media(e.GetMediaFile().vastData):g.logger.error("vast parser error"))}));var s=new l.Creative(n.getId(),t.getVastId(),{id:n.getVastCreative().id,adId:n.getVastCreative().adId,sequence:n.getVastCreative().sequence,duration:n.getVastCreative().duration,skipOffset:n.getVastCreative().skipOffset,format:n.getVastCreative().format,clickUrl:n.getVastCreative().clickUrl},a,o);e.push(s)}}));var n=[];r.getTrackList().forEach((function(e){void 0===e.creativeId&&n.push(new c.Event(t.getId(),void 0,e.type,e.url,e.offset))}));var i=new u.Advert(t,e,new c.TrackingEvents(n));f.Queue.GetInstance().Append(i)}))}catch(t){g.logger.info("vast parser exception: ".concat(t.message),t)}this.loadWrapper(r.getWrapperList())}},t.prototype.loadWrapper=function(t){for(var e=0;e<t.length;e++)this.loadByHttp(t[e].url,t[e].advert,t[e].rootAdvert)},t.prototype.loadByHttp=function(t,e,n){var i=this;n===e&&m.Backend.GetInstance().SendMVAdvertiserRequest(+e.getData().id);var o,r={placement:A.GlobalStore.Instance().GetPlacement(),user_uid:A.GlobalStore.Instance().GetUserUid(),ads_id:e.getId(),user_id:A.GlobalStore.Instance().GetMacrosWebmaster(),frameref:e.getOptions().iframePlayer,referer:A.GlobalStore.Instance().GetMacrosReferer(),site:A.GlobalStore.Instance().GetMacrosSite(),site_id:A.GlobalStore.Instance().GetSiteID()};if(e.IsNeedForeignFrame()){var a=e.getOptions().iframePlayer;o=this.getVASTViaForeignFrame(t,r,a)}else o=this.getVASTViaDirectFetch(t,r);o.then((function(t){return i.parse(t,e,n)}))},t.prototype.getVASTViaForeignFrame=function(t,e,n){var i=u.Advert.GetOptionsProxyURI(n);return g.logger.info("vast parser get: ".concat(t," via ").concat(i)),v.URIProxy.fetch(i,d.Macros.replace(t,e))},t.prototype.getVASTViaDirectFetch=function(t,e){var n=d.Macros.replace(t,e);return g.logger.info("vast parser get: ".concat(n)),fetch(n,{credentials:"include"}).then((function(t){return t.text()})).catch((function(t){g.logger.error("VAST fetch exception:",n,t)}))},t}())("https://moevideo.com"),n=function(){function t(t,e,n,o){this.rootAdvert=n,this.parentAdvert=o,this.vpaidURI=e,this.advertList=[],this.wrapperList=[],this.creativeList=[],this.contentVpaidList=[],this.trackList=[],this.parser=new i.default,this.parser.addVastWithoutFetching(t),this.parseAdvert()}return t.prototype.getAdvertList=function(){return this.advertList},t.prototype.getWrapperList=function(){return this.wrapperList},t.prototype.getCreativeList=function(){return this.creativeList},t.prototype.getContentVpaidList=function(){return this.contentVpaidList},t.prototype.getTrackList=function(){return this.trackList},t.prototype.getIconList=function(){},t.prototype.parseAdvert=function(){var t=this,e=new o.AdvertParser(this.parser,this.rootAdvert,this.parentAdvert);this.advertList=e.parse().map((function(e){return t.parseWrapper(e.advert,e.element),t.parseCreative(e.advert,e.element),t.parseAdvertTrack(e.advert,e.element),e.advert})),g.logger.info("vast parser advert",this.advertList)},t.prototype.parseWrapper=function(t,e){var n=new o.AdvertWrapperParser(t,e,this.rootAdvert).parse();g.logger.info("vast parser wrapper",n),n&&this.wrapperList.push(n)},t.prototype.parseCreative=function(t,e){var n=this;new r.CreativeParser(t.getId(),e).parse().forEach((function(e){e.creative.getSkipOffset()<=0&&e.creative.setSkipOffset(t.getSkipOffset()),n.parseMediaFile(t,e.creative,e.element),n.parseCreativeTrack(t,e.creative,e.element),n.creativeList.push(e.creative)})),g.logger.info("vast parser creatives",this.creativeList)},t.prototype.parseMediaFile=function(t,e,n){var i,o=new a.MediaFileParser(t,e,n,this.vpaidURI,this.rootAdvert);(i=this.contentVpaidList).push.apply(i,o.parse())},t.prototype.parseCreativeTrack=function(t,e,n){var i;(i=this.trackList).push.apply(i,s.TrackParser.parseCreativeTrack(t,e,n))},t.prototype.parseAdvertTrack=function(t,e){var n;(n=this.trackList).push.apply(n,s.TrackParser.parseAdvertTrack(t,e)),g.logger.info("vast parser tracks",this.trackList)},t}()}(e.Vast||(e.Vast={}))},6269:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDBannerAPI=void 0;var i=n(2765),o=n(9110),r=n(2910),a=n(8503),s=function(){function t(t,e,n,o,r){var s=this;this.property={getAdLinear:!1,getAdWidth:0,getAdHeight:0,getAdExpanded:!1,getAdSkippableState:!1,getAdRemainingTime:0,getAdDuration:30,getAdCompanions:"",getAdVolume:0,getAdIcons:!1},this.parent=t,this.advert=e,this.wrapperName="vpaidWrapper_"+a.Helpers.RandString(10),this.container=document.createElement("div"),this.container.id=e+"_"+a.Helpers.RandString(10),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="absolute",this.container.style.top="0",this.container.style.left="0",this.Hide(),window[this.wrapperName]=new Promise((function(t,e){var d=document.createElement("video");d.id="video-slot_"+a.Helpers.RandString(10),d.width=a.Helpers.PixelAsNumber(r.width),d.height=a.Helpers.PixelAsNumber(r.height),d.style.top="0",d.style.left="0",d.style.position="absolute",d.muted=!0;var c=document.createElement("div");c.id="slot_"+a.Helpers.RandString(10),c.style.height="100%",c.appendChild(d);var p=document.createElement("script");p.src=n,p.onload=function(){var e=new i.VpaidClient(window,c,d,s,s.advert,r,o,{});s.property.getAdLinear=e.getAdLinear(),s.property.getAdWidth=e.getAdWidth(),s.property.getAdHeight=e.getAdHeight(),s.property.getAdExpanded=e.getAdExpanded(),s.property.getAdSkippableState=e.getAdSkippableState(),s.property.getAdRemainingTime=e.getAdRemainingTime(),s.property.getAdDuration=e.getAdDuration(),s.property.getAdCompanions=e.getAdCompanions(),s.property.getAdVolume=e.getAdVolume(),s.property.getAdIcons=e.getAdIcons(),setInterval((function(){s.property.getAdLinear=e.getAdLinear(),s.property.getAdWidth=e.getAdWidth(),s.property.getAdHeight=e.getAdHeight(),s.property.getAdExpanded=e.getAdExpanded(),s.property.getAdSkippableState=e.getAdSkippableState(),s.property.getAdRemainingTime=e.getAdRemainingTime(),s.property.getAdDuration=e.getAdDuration(),s.property.getAdCompanions=e.getAdCompanions(),s.property.getAdVolume=e.getAdVolume(),s.property.getAdIcons=e.getAdIcons()}),250),t(e)},s.container.append(p),s.container.append(c),s.container.style.margin="0"}))}return t.prototype.GetAdvertID=function(){return this.advert},t.prototype.GetContainer=function(){return this.container},t.prototype.Show=function(){this.container.style.display="block",this.container.style.opacity="1",this.container.style.height="100%",this.container.style.minHeight="100px"},t.prototype.Hide=function(){this.container.style.setProperty("opacity","0","important"),this.container.style.height="0"},t.prototype.Remove=function(){this.container.remove()},t.prototype.getAdLinear=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdLinear,'" ').concat(this.property.getAdLinear)),this.property.getAdLinear},t.prototype.getAdWidth=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdWidth,'" ').concat(this.property.getAdWidth)),this.property.getAdWidth},t.prototype.getAdHeight=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdHeight,'" ').concat(this.property.getAdHeight)),this.property.getAdHeight},t.prototype.getAdExpanded=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdExpanded,'" ').concat(this.property.getAdExpanded)),this.property.getAdExpanded},t.prototype.getAdSkippableState=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdSkippableState,'" ').concat(this.property.getAdSkippableState)),this.property.getAdSkippableState},t.prototype.getAdRemainingTime=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdRemainingTime,'" ').concat(this.property.getAdRemainingTime)),this.property.getAdRemainingTime},t.prototype.getAdDuration=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdDuration,'" ').concat(this.property.getAdDuration)),this.property.getAdDuration},t.prototype.getAdCompanions=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdCompanions,'" ').concat(this.property.getAdCompanions)),this.property.getAdCompanions},t.prototype.setAdVolume=function(t){var e=this;window[this.wrapperName].then((function(n){n.setAdVolume.apply(n,[t]),r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDProperty.setAdVolume,'" ').concat(t))}))},t.prototype.getAdVolume=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdVolume,'" ').concat(this.property.getAdVolume)),this.property.getAdVolume},t.prototype.getAdIcons=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdIcons,'" ').concat(this.property.getAdIcons)),this.property.getAdIcons},t.prototype.startAd=function(){var t=this;window[this.wrapperName].then((function(e){var n=e.startAd;r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.startAd,'"')),n.apply(e)}))},t.prototype.stopAd=function(){var t=this;window[this.wrapperName].then((function(e){r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.stopAd,'"')),e.stopAd.apply(e)}))},t.prototype.resizeAd=function(t,e,n){var i=this;window[this.wrapperName].then((function(a){r.logger.info('vpaid (id:"'.concat(i.advert,'") anonymous api "').concat(o.VPAIDEventRequest.resizeAd,'"')),a.resizeAd.apply(a,[t,e,n])}))},t.prototype.pauseAd=function(){var t=this;window[this.wrapperName].then((function(e){r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.pauseAd,'"')),e.pauseAd.apply(e)}))},t.prototype.resumeAd=function(){var t=this;window[this.wrapperName].then((function(e){r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.resumeAd,'"')),e.resumeAd.apply(e)}))},t.prototype.expandAd=function(){var t=this;window[this.wrapperName].then((function(e){r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.expandAd,'"')),e.expandAd.apply(e)}))},t.prototype.collapseAd=function(){var t=this;window[this.wrapperName].then((function(e){r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.collapseAd,'"')),e.collapseAd.apply(e)}))},t.prototype.skipAd=function(){var t=this;window[this.wrapperName].then((function(e){r.logger.info('vpaid (id:"'.concat(t.advert,'") anonymous api "').concat(o.VPAIDEventRequest.skipAd,'"')),e.skipAd.apply(e)}))},t.prototype.AdLoaded=function(){this.parent.AdLoaded(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdLoaded,'"'))},t.prototype.AdStarted=function(){this.parent.AdStarted(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdStarted,'"'))},t.prototype.AdStopped=function(){this.parent.AdStopped(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdStopped,'"'))},t.prototype.AdSkipped=function(){this.parent.AdSkipped(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdSkipped,'"'))},t.prototype.AdPaused=function(){this.parent.AdPaused(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdPaused,'"'))},t.prototype.AdSizeChange=function(){this.parent.AdSizeChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdSizeChange,'"'))},t.prototype.AdPlaying=function(){this.parent.AdPlaying(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdPlaying,'"'))},t.prototype.AdExpandedChange=function(){this.parent.AdExpandedChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdExpandedChange,'"'))},t.prototype.AdSkippableStateChange=function(){this.parent.AdSkippableStateChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdSkippableStateChange,'"'))},t.prototype.AdLinearChange=function(){this.parent.AdLinearChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdLinearChange,'"'))},t.prototype.AdVolumeChange=function(){this.parent.AdVolumeChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVolumeChange,'"'))},t.prototype.AdVideoStart=function(){this.parent.AdVideoStart(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoStart,'"'))},t.prototype.AdVideoFirstQuartile=function(){this.parent.AdVideoFirstQuartile(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoFirstQuartile,'"'))},t.prototype.AdVideoMidpoint=function(){this.parent.AdVideoMidpoint(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoMidpoint,'"'))},t.prototype.AdVideoThirdQuartile=function(){this.parent.AdVideoThirdQuartile(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoThirdQuartile,'"'))},t.prototype.AdVideoComplete=function(){this.parent.AdVideoComplete(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoComplete,'"'))},t.prototype.AdUserAcceptInvitation=function(){this.parent.AdUserAcceptInvitation(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdUserAcceptInvitation,'"'))},t.prototype.AdUserClose=function(){this.parent.AdUserClose(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdUserClose,'"'))},t.prototype.AdUserMinimize=function(){this.parent.AdUserMinimize(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdUserMinimize,'"'))},t.prototype.AdClickThru=function(){this.parent.AdClickThru(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdClickThru,'"'))},t.prototype.AdInteraction=function(){this.parent.AdInteraction(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdInteraction,'"'))},t.prototype.AdError=function(){this.parent.AdError(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdError,'"'))},t.prototype.AdLog=function(){this.parent.AdLog(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdLog,'"'))},t.prototype.AdDurationChange=function(){this.parent.AdDurationChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdDurationChange,'"'))},t.prototype.AdRemainingTimeChange=function(){this.parent.AdRemainingTimeChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdRemainingTimeChange,'"'))},t.prototype.AdImpression=function(){this.parent.AdImpression(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdImpression,'"'))},t}();e.VPAIDBannerAPI=s},5559:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDAnonymousAPI=void 0;var i=n(2765),o=n(9110),r=n(2910),a=n(8503),s=function(){function t(t,e,n,o,r,s){this.property={getAdLinear:!1,getAdWidth:0,getAdHeight:0,getAdExpanded:!1,getAdSkippableState:!1,getAdRemainingTime:0,getAdDuration:30,getAdCompanions:"",getAdVolume:0,getAdIcons:!1},this.parent=t,this.advert=e,this.frame=document.createElement("iframe"),this.frame.id=e,this.frame.width="100%",this.frame.height="100%",this.frame.frameBorder="0",this.frame.scrolling="no",this.frame.style.position="absolute",this.frame.style.top="0",this.frame.style.left="0",this.Hide(),this.frame.onload=function(){var t=this;this.frame.contentWindow.vpaidWrapper=new Promise((function(e,d){var c=document.createElement("video");c.id="video-slot_"+a.Helpers.RandString(10),c.width=a.Helpers.PixelAsNumber(r.width),c.height=a.Helpers.PixelAsNumber(r.height),c.style.top="0",c.style.left="0",c.style.position="absolute",c.muted=!0;var p=document.createElement("div");p.id="slot_"+a.Helpers.RandString(10),p.style.height="100%",p.appendChild(c);var u=document.createElement("script");u.src=n,u.onload=function(){var n=new i.VpaidClient(t.frame.contentWindow,p,c,t,t.advert,r,o,s);t.property.getAdLinear=n.getAdLinear(),t.property.getAdWidth=n.getAdWidth(),t.property.getAdHeight=n.getAdHeight(),t.property.getAdExpanded=n.getAdExpanded(),t.property.getAdSkippableState=n.getAdSkippableState(),t.property.getAdRemainingTime=n.getAdRemainingTime(),t.property.getAdDuration=n.getAdDuration(),t.property.getAdCompanions=n.getAdCompanions(),t.property.getAdVolume=n.getAdVolume(),t.property.getAdIcons=n.getAdIcons(),setInterval((function(){t.property.getAdLinear=n.getAdLinear(),t.property.getAdWidth=n.getAdWidth(),t.property.getAdHeight=n.getAdHeight(),t.property.getAdExpanded=n.getAdExpanded(),t.property.getAdSkippableState=n.getAdSkippableState(),t.property.getAdRemainingTime=n.getAdRemainingTime(),t.property.getAdDuration=n.getAdDuration(),t.property.getAdCompanions=n.getAdCompanions(),t.property.getAdVolume=n.getAdVolume(),t.property.getAdIcons=n.getAdIcons()}),250),e(n)},t.frame.contentDocument.head.appendChild(u),t.frame.contentDocument.body.appendChild(p),t.frame.contentDocument.body.style.margin="0"}))}.bind(this)}return t.prototype.GetAdvertID=function(){return this.advert},t.prototype.GetContainer=function(){return this.frame},t.prototype.Show=function(){this.frame.style.display="block",this.frame.style.opacity="1",this.frame.height="100%",this.frame.style.minHeight="100px"},t.prototype.Hide=function(){this.frame.style.setProperty("opacity","0","important"),this.frame.height="0"},t.prototype.Remove=function(){this.frame.remove()},t.prototype.getAdLinear=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdLinear,'" ').concat(this.property.getAdLinear)),this.property.getAdLinear},t.prototype.getAdWidth=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdWidth,'" ').concat(this.property.getAdWidth)),this.property.getAdWidth},t.prototype.getAdHeight=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdHeight,'" ').concat(this.property.getAdHeight)),this.property.getAdHeight},t.prototype.getAdExpanded=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdExpanded,'" ').concat(this.property.getAdExpanded)),this.property.getAdExpanded},t.prototype.getAdSkippableState=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdSkippableState,'" ').concat(this.property.getAdSkippableState)),this.property.getAdSkippableState},t.prototype.getAdRemainingTime=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdRemainingTime,'" ').concat(this.property.getAdRemainingTime)),this.property.getAdRemainingTime},t.prototype.getAdDuration=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdDuration,'" ').concat(this.property.getAdDuration)),this.property.getAdDuration},t.prototype.getAdCompanions=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdCompanions,'" ').concat(this.property.getAdCompanions)),this.property.getAdCompanions},t.prototype.setAdVolume=function(t){var e,n=this;null===(e=this.frame.contentWindow)||void 0===e||e.vpaidWrapper.then((function(e){e.setAdVolume.apply(e,[t]),r.logger.info('vpaid (id:"'.concat(n.advert,'") anonymous api "').concat(o.VPAIDProperty.setAdVolume,'" ').concat(t))}))},t.prototype.getAdVolume=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdVolume,'" ').concat(this.property.getAdVolume)),this.property.getAdVolume},t.prototype.getAdIcons=function(){return r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDProperty.getAdIcons,'" ').concat(this.property.getAdIcons)),this.property.getAdIcons},t.prototype.startAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){var n=t.startAd;r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.startAd,'"')),n.apply(t)}))},t.prototype.stopAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.stopAd,'"')),t.stopAd.apply(t)}))},t.prototype.resizeAd=function(t,e,n){var i,a=this;null===(i=this.frame.contentWindow)||void 0===i||i.vpaidWrapper.then((function(i){r.logger.info('vpaid (id:"'.concat(a.advert,'") anonymous api "').concat(o.VPAIDEventRequest.resizeAd,'"')),i.resizeAd.apply(i,[t,e,n])}))},t.prototype.pauseAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.pauseAd,'"')),t.pauseAd.apply(t)}))},t.prototype.resumeAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.resumeAd,'"')),t.resumeAd.apply(t)}))},t.prototype.expandAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.expandAd,'"')),t.expandAd.apply(t)}))},t.prototype.collapseAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.collapseAd,'"')),t.collapseAd.apply(t)}))},t.prototype.skipAd=function(){var t,e=this;null===(t=this.frame.contentWindow)||void 0===t||t.vpaidWrapper.then((function(t){r.logger.info('vpaid (id:"'.concat(e.advert,'") anonymous api "').concat(o.VPAIDEventRequest.skipAd,'"')),t.skipAd.apply(t)}))},t.prototype.AdLoaded=function(){this.parent.AdLoaded(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdLoaded,'"'))},t.prototype.AdStarted=function(){this.parent.AdStarted(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdStarted,'"'))},t.prototype.AdStopped=function(){this.parent.AdStopped(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdStopped,'"'))},t.prototype.AdSkipped=function(){this.parent.AdSkipped(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdSkipped,'"'))},t.prototype.AdPaused=function(){this.parent.AdPaused(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdPaused,'"'))},t.prototype.AdSizeChange=function(){this.parent.AdSizeChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdSizeChange,'"'))},t.prototype.AdPlaying=function(){this.parent.AdPlaying(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdPlaying,'"'))},t.prototype.AdExpandedChange=function(){this.parent.AdExpandedChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdExpandedChange,'"'))},t.prototype.AdSkippableStateChange=function(){this.parent.AdSkippableStateChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdSkippableStateChange,'"'))},t.prototype.AdLinearChange=function(){this.parent.AdLinearChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdLinearChange,'"'))},t.prototype.AdVolumeChange=function(){this.parent.AdVolumeChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVolumeChange,'"'))},t.prototype.AdVideoStart=function(){this.parent.AdVideoStart(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoStart,'"'))},t.prototype.AdVideoFirstQuartile=function(){this.parent.AdVideoFirstQuartile(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoFirstQuartile,'"'))},t.prototype.AdVideoMidpoint=function(){this.parent.AdVideoMidpoint(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoMidpoint,'"'))},t.prototype.AdVideoThirdQuartile=function(){this.parent.AdVideoThirdQuartile(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoThirdQuartile,'"'))},t.prototype.AdVideoComplete=function(){this.parent.AdVideoComplete(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdVideoComplete,'"'))},t.prototype.AdUserAcceptInvitation=function(){this.parent.AdUserAcceptInvitation(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdUserAcceptInvitation,'"'))},t.prototype.AdUserClose=function(){this.parent.AdUserClose(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdUserClose,'"'))},t.prototype.AdUserMinimize=function(){this.parent.AdUserMinimize(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdUserMinimize,'"'))},t.prototype.AdClickThru=function(){this.parent.AdClickThru(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdClickThru,'"'))},t.prototype.AdInteraction=function(){this.parent.AdInteraction(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdInteraction,'"'))},t.prototype.AdError=function(){this.parent.AdError(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdError,'"'))},t.prototype.AdLog=function(){this.parent.AdLog(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdLog,'"'))},t.prototype.AdDurationChange=function(){this.parent.AdDurationChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdDurationChange,'"'))},t.prototype.AdRemainingTimeChange=function(){this.parent.AdRemainingTimeChange(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdRemainingTimeChange,'"'))},t.prototype.AdImpression=function(){this.parent.AdImpression(this.advert),r.logger.info('vpaid (id:"'.concat(this.advert,'") anonymous api "').concat(o.VPAIDEvent.AdImpression,'"'))},t}();e.VPAIDAnonymousAPI=s},4251:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidApiWrapper=void 0;var i=n(1200),o=n(9110),r=n(5559),a=n(2910),s=n(6762),d=n(6269),c=n(8503),p=function(){function t(t,e,n,o){if(this.queue=t,this.advert=e.ID(),this.slot=n,null!==this.slot.slot){this.slot.slot.style.pointerEvents="none";var a=e.GetCreativeURL(),s=e.GetCreativeOptions(),p={isMobile:c.Helpers.isMobile()};if("https://cdn1.moe.video/integration/banner.vpaid.js"===e.GetCreativeURL())this.vpaid=new d.VPAIDBannerAPI(this,e.ID(),a,s,o);else if(e.IsNeedForeignFrame()){var u=e.GetOptionsFrameURI(a);this.vpaid=new i.VPAIDForeignAPI(this,e.ID(),u,s,o,p)}else this.vpaid=new r.VPAIDAnonymousAPI(this,e.ID(),a,s,o,p);this.slot.slot.append(this.vpaid.GetContainer())}}return t.prototype.GetAdvertID=function(){return this.vpaid.GetAdvertID()},t.prototype.GetFrame=function(){return this.vpaid.GetContainer()},t.prototype.ShowFrame=function(){this.vpaid.Show(),this.vpaid.GetContainer().setAttribute("in-play-state","true")},t.prototype.HideFrame=function(){this.vpaid.Hide(),this.vpaid.GetContainer().setAttribute("in-play-state",null)},t.prototype.RemoveFrame=function(){this.RemoveControls(),this.vpaid.Remove()},t.prototype.RemoveControls=function(){var t=this.slot.slot.querySelectorAll(s.Controls.SelectorControl());if(!(t.length<=0)){t.forEach((function(t){return t.remove()}));for(var e=0;e<t.length;e++)t[e].remove();var n=this.slot.slot.getElementsByTagName("style");if(!(n.length<=0))for(e=0;e<n.length;e++)n[e].remove()}},t.prototype.getAdLinear=function(){var t=this.vpaid.getAdLinear();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdLinear,'" ').concat(t)),t},t.prototype.getAdWidth=function(){var t=this.vpaid.getAdWidth();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdWidth,'" ').concat(t)),t},t.prototype.getAdHeight=function(){var t=this.vpaid.getAdHeight();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdHeight,'" ').concat(t)),t},t.prototype.getAdExpanded=function(){var t=this.vpaid.getAdExpanded();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdExpanded,'" ').concat(t)),t},t.prototype.getAdSkippableState=function(){var t=this.vpaid.getAdSkippableState();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdSkippableState,'" ').concat(t)),t},t.prototype.getAdRemainingTime=function(){var t=this.vpaid.getAdRemainingTime();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdRemainingTime,'" ').concat(t)),t},t.prototype.getAdDuration=function(){var t=this.vpaid.getAdDuration();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdDuration,'" ').concat(t)),t},t.prototype.getAdCompanions=function(){var t=this.vpaid.getAdCompanions();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdCompanions,'" ').concat(t)),t},t.prototype.setAdVolume=function(t){a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.setAdVolume,'", ').concat(t)),this.vpaid.setAdVolume(t)},t.prototype.getAdVolume=function(){var t=this.vpaid.getAdVolume();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdVolume,'" ').concat(t)),t},t.prototype.getAdIcons=function(){var t=this.vpaid.getAdIcons();return a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDProperty.getAdIcons,'" ').concat(t)),t},t.prototype.startAd=function(){this.ShowFrame(),this.vpaid.startAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.startAd,'"'))},t.prototype.stopAd=function(){this.vpaid.stopAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.stopAd,'"'))},t.prototype.resizeAd=function(t,e,n){this.vpaid.resizeAd(t,e,n),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.resizeAd,'" ').concat(t,", ").concat(e,", ").concat(n))},t.prototype.pauseAd=function(){this.vpaid.pauseAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.pauseAd,'"'))},t.prototype.resumeAd=function(){this.vpaid.resumeAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.resumeAd,'"'))},t.prototype.expandAd=function(){this.vpaid.expandAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.expandAd,'"'))},t.prototype.collapseAd=function(){this.vpaid.collapseAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.collapseAd,'"'))},t.prototype.skipAd=function(){this.vpaid.skipAd(),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEventRequest.skipAd,'"'))},t.prototype.AdImpression=function(t){this.queue.AdImpression(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdImpression,'" ').concat(t))},t.prototype.AdLoaded=function(t){this.queue.AdLoaded(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdLoaded,'" ').concat(t))},t.prototype.AdStarted=function(t){this.queue.AdStarted(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdStarted,'" ').concat(t))},t.prototype.AdRemainingTimeChange=function(t){this.queue.AdRemainingTimeChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdRemainingTimeChange,'" ').concat(t))},t.prototype.AdDurationChange=function(t){this.queue.AdDurationChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdDurationChange,'" ').concat(t))},t.prototype.AdLog=function(t){this.queue.AdLog(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdLog,'" ').concat(t))},t.prototype.AdTime=function(t){this.queue.AdTime(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdTime,'" ').concat(t))},t.prototype.AdError=function(t){this.queue.AdError(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdError,'" ').concat(t))},t.prototype.AdInteraction=function(t){this.queue.AdInteraction(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdInteraction,'" ').concat(t))},t.prototype.AdClickThru=function(t){this.queue.AdClickThru(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdClickThru,'" ').concat(t))},t.prototype.AdUserMinimize=function(t){this.queue.AdUserMinimize(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdUserMinimize,'" ').concat(t))},t.prototype.AdUserClose=function(t){this.queue.AdUserClose(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdUserClose,'" ').concat(t))},t.prototype.AdUserAcceptInvitation=function(t){this.queue.AdUserAcceptInvitation(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdUserAcceptInvitation,'" ').concat(t))},t.prototype.AdVideoFirstQuartile=function(t){this.queue.AdVideoFirstQuartile(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdVideoFirstQuartile,'" ').concat(t))},t.prototype.AdVideoMidpoint=function(t){this.queue.AdVideoMidpoint(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdVideoMidpoint,'" ').concat(t))},t.prototype.AdVideoThirdQuartile=function(t){this.queue.AdVideoThirdQuartile(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdVideoThirdQuartile,'" ').concat(t))},t.prototype.AdVideoComplete=function(t){this.queue.AdVideoComplete(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdVideoComplete,'" ').concat(t))},t.prototype.AdVideoStart=function(t){this.slot.slot.style.pointerEvents=null,this.queue.AdVideoStart(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdVideoStart,'" ').concat(t))},t.prototype.AdVolumeChange=function(t){this.queue.AdVolumeChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdVolumeChange,'" ').concat(t))},t.prototype.AdLinearChange=function(t){this.queue.AdLinearChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdLinearChange,'" ').concat(t))},t.prototype.AdSkippableStateChange=function(t){this.queue.AdSkippableStateChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdSkippableStateChange,'" ').concat(t))},t.prototype.AdExpandedChange=function(t){this.queue.AdExpandedChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdExpandedChange,'" ').concat(t))},t.prototype.AdPlaying=function(t){this.queue.AdPlaying(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdPlaying,'" ').concat(t))},t.prototype.AdPaused=function(t){this.queue.AdPaused(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdPaused,'" ').concat(t))},t.prototype.AdSizeChange=function(t){this.queue.AdSizeChange(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdSizeChange,'" ').concat(t))},t.prototype.AdSkipped=function(t){this.queue.AdSkipped(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdSkipped,'" ').concat(t))},t.prototype.AdStopped=function(t){this.queue.AdStopped(t),a.logger.info('vpaid (id:"'.concat(this.advert,'") api wrapper "').concat(o.VPAIDEvent.AdStopped,'" ').concat(t))},t}();e.VpaidApiWrapper=p},2765:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidClient=void 0;var i=n(2910),o=n(9110),r=n(2651),a=n(8503),s=function(){function t(t,e,n,i,o,r,s,d){this.parent=i,this.advert=o,this.options=s,this.slot=e,this.video=n,this.vpaidApi=t.getVPAIDAd(),this.subscribe(this.vpaidApi),this.video.width=a.Helpers.PixelAsNumber(r.width),this.video.heigth=a.Helpers.PixelAsNumber(r.height),this.vpaidApi.initAd(r.width,r.height,r.viewMode,r.bitrate,{AdParameters:this.options},{slot:this.slot,videoSlot:this.video,isMobile:null==d?void 0:d.isMobile}),this.initialVolumeBehaviour()}return t.prototype.initialVolumeBehaviour=function(){var t=r.GlobalStore.Instance().GetInitialVolumeLevel();this.vpaidApi.setAdVolume(t),i.logger.info('vpaid (id:"'.concat(this.advert,'") initial set "').concat(o.VPAIDProperty.setAdVolume,'" -> ').concat(t))},t.prototype.subscribe=function(t){for(var e in o.VPAIDEvent)t.subscribe(this[e],e,this)},t.prototype.getAdLinear=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdLinear);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdLinear,'" -> ').concat(t)),t},t.prototype.getAdWidth=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdWidth);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdWidth,'" -> ').concat(t)),t},t.prototype.getAdHeight=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdHeight);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdHeight,'" -> ').concat(t)),t},t.prototype.getAdExpanded=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdExpanded);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdExpanded,'" -> ').concat(t)),t},t.prototype.getAdSkippableState=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdSkippableState);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdSkippableState,'" -> ').concat(t)),t},t.prototype.getAdRemainingTime=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdRemainingTime);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdRemainingTime,'" -> ').concat(t)),t},t.prototype.getAdDuration=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdDuration);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdDuration,'" -> ').concat(t)),t},t.prototype.getAdCompanions=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdCompanions);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdCompanions,'" -> ').concat(t)),t},t.prototype.setAdVolume=function(t){i.logger.info('vpaid (id:"'.concat(this.advert,'") set "').concat(o.VPAIDProperty.setAdVolume,'" ').concat(t)),this.vpaidApi.setAdVolume(t)},t.prototype.getAdVolume=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdVolume);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdVolume,'" -> ').concat(t)),t},t.prototype.getAdIcons=function(){var t=this.callFuncVpaid.call(this.vpaidApi,this.vpaidApi.getAdIcons);return i.logger.info('vpaid (id:"'.concat(this.advert,'") get "').concat(o.VPAIDProperty.getAdIcons,'" -> ').concat(t)),t},t.prototype.startAd=function(){this.vpaidApi.startAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.startAd,'"}'))},t.prototype.stopAd=function(){this.vpaidApi.stopAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.stopAd,'"}'))},t.prototype.resizeAd=function(t,e,n){this.vpaidApi.resizeAd(t,e,n),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.resizeAd,'"} ').concat(t,", ").concat(e,", ").concat(n))},t.prototype.pauseAd=function(){this.vpaidApi.pauseAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.pauseAd,'"}'))},t.prototype.resumeAd=function(){this.vpaidApi.resumeAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.resumeAd,'"}'))},t.prototype.expandAd=function(){this.vpaidApi.expandAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.expandAd,'"}'))},t.prototype.collapseAd=function(){this.vpaidApi.collapseAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.collapseAd,'"}'))},t.prototype.skipAd=function(){this.vpaidApi.skipAd(),this.vpaidApi.stopAd(),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEventRequest.skipAd,'"}'))},t.prototype.AdStarted=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdStarted,'"}')),this.parent.AdStarted()},t.prototype.AdStopped=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdStopped,'"}')),this.parent.AdStopped()},t.prototype.AdSkipped=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdSkipped,'"}')),this.parent.AdSkipped()},t.prototype.AdRemainingTimeChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdRemainingTimeChange,'"}')),this.parent.AdRemainingTimeChange()},t.prototype.AdInteraction=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdInteraction,'"}')),this.parent.AdInteraction()},t.prototype.AdSkippableStateChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdSkippableStateChange,'"}')),this.parent.AdSkippableStateChange()},t.prototype.AdSizeChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdSizeChange,'"}')),this.parent.AdSizeChange()},t.prototype.AdLoaded=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdLoaded,'"}')),this.parent.AdLoaded()},t.prototype.AdLinearChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdLinearChange,'"}')),this.parent.AdLinearChange()},t.prototype.AdDurationChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdDurationChange,'"}')),this.parent.AdDurationChange()},t.prototype.AdExpandedChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdExpandedChange,'"}')),this.parent.AdExpandedChange()},t.prototype.AdVolumeChange=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdVolumeChange,'"}')),this.parent.AdVolumeChange()},t.prototype.AdImpression=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdImpression,'"}')),this.parent.AdImpression()},t.prototype.AdVideoStart=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdVideoStart,'"}')),this.parent.AdVideoStart()},t.prototype.AdVideoFirstQuartile=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdVideoFirstQuartile,'"}')),this.parent.AdVideoFirstQuartile()},t.prototype.AdVideoMidpoint=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdVideoMidpoint,'"}')),this.parent.AdVideoMidpoint()},t.prototype.AdVideoThirdQuartile=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdVideoThirdQuartile,'"}')),this.parent.AdVideoThirdQuartile()},t.prototype.AdVideoComplete=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdVideoComplete,'"}')),this.parent.AdVideoComplete()},t.prototype.AdClickThru=function(t,e,n){"string"==typeof t&&t.length>0&&window.open(t),i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdClickThru,'"} ').concat(t)),this.parent.AdClickThru()},t.prototype.AdUserAcceptInvitation=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdUserAcceptInvitation,'"}')),this.parent.AdUserAcceptInvitation()},t.prototype.AdUserMinimize=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdUserMinimize,'"}')),this.parent.AdUserMinimize()},t.prototype.AdUserClose=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdUserClose,'"}')),this.parent.AdUserClose()},t.prototype.AdPaused=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdPaused,'"}')),this.parent.AdPaused()},t.prototype.AdPlaying=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdPlaying,'"}')),this.parent.AdPlaying()},t.prototype.AdLog=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdLog,'"}')),this.parent.AdLog()},t.prototype.AdError=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdError,'"}')),this.parent.AdError()},t.prototype.AdTime=function(){i.logger.info('vpaid (id:"'.concat(this.advert,'") "').concat(o.VPAIDEvent.AdTime,'"}'))},t.prototype.callFuncVpaid=function(t){return"function"==typeof t?t.call(this):t},t}();e.VpaidClient=s},1200:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDForeignAPI=void 0;var i=n(9110),o=n(2910),r=function(){function t(e,n,r,a,s,d){var c=this;this.parent=e,this.advert=n,this.property={getAdDuration:"",getAdCompanions:"",getAdExpanded:!1,getAdIcons:!1,getAdLinear:!1,getAdSkippableState:!1,getAdWidth:0,getAdHeight:0,getAdVolume:0,getAdRemainingTime:0},this.container=document.createElement("iframe"),this.container.id=n,this.container.width="100%",this.container.height="100%",this.container.frameBorder="0",this.container.scrolling="no",this.container.style.overflow="hidden",this.container.style.border="0",this.container.src=t.appendToFrameSrc(r,"vast_id",n),this.container.style.position="absolute",this.container.style.top="0",this.container.style.left="0",this.Hide(),this.container.onload=function(){var t=i.VPAIDEventExtra.initAd,e=[s.width,s.height,s.viewMode,s.bitrate,a,d];c.container.contentWindow.postMessage(JSON.stringify([t,e]),"*"),window.addEventListener("message",(function(t){try{o.logger.debug('vpaid (id:"'.concat(c.advert,'") foreign api receive event from frame: "').concat(t.data,'"'));var e=JSON.parse(t.data),n=e[0],r=e[1],a=e[2];if(c.advert!==n)return void o.logger.debug('vpaid foreign api receive event from unknown frame "'.concat(n,'": "').concat(t.data,'"'));if(r===i.VPAIDEventExtra.initAd)for(var s in a)c.property[s]=a[s];else i.VPAIDProperty[r]?(o.logger.debug('vpaid (id:"'.concat(c.advert,'") foreign api property: "').concat(r,'" "').concat(a,'"')),c.property[r]=a):(o.logger.debug('vpaid (id:"'.concat(c.advert,'") foreign api call: "').concat(r,'"')),c[r]())}catch(e){o.logger.debug("vpaid foreign api exception:".concat(t.data,", ").concat(e.message))}}))}}return t.prototype.GetAdvertID=function(){return this.advert},t.prototype.GetContainer=function(){return this.container},t.prototype.Show=function(){this.container.style.display=null},t.prototype.Hide=function(){this.container.style.setProperty("display","none","important")},t.prototype.Remove=function(){this.container.remove()},t.prototype.getAdCompanions=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdCompanions,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdCompanions)),null===(e=this.property)||void 0===e?void 0:e.getAdCompanions},t.prototype.getAdDuration=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdDuration,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdDuration)),+(null===(e=this.property)||void 0===e?void 0:e.getAdDuration)},t.prototype.getAdExpanded=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdExpanded,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdExpanded)),null===(e=this.property)||void 0===e?void 0:e.getAdExpanded},t.prototype.getAdHeight=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdHeight,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdHeight)),null===(e=this.property)||void 0===e?void 0:e.getAdHeight},t.prototype.getAdIcons=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdIcons,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdIcons)),null===(e=this.property)||void 0===e?void 0:e.getAdIcons},t.prototype.getAdLinear=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdLinear,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdLinear)),null===(e=this.property)||void 0===e?void 0:e.getAdLinear},t.prototype.getAdRemainingTime=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdRemainingTime,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdRemainingTime)),null===(e=this.property)||void 0===e?void 0:e.getAdRemainingTime},t.prototype.getAdSkippableState=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdSkippableState,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdSkippableState)),null===(e=this.property)||void 0===e?void 0:e.getAdSkippableState},t.prototype.setAdVolume=function(t){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.setAdVolume,'" ').concat(t)),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDProperty.setAdVolume,[t]]),"*")},t.prototype.getAdVolume=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdVolume,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdVolume)),null===(e=this.property)||void 0===e?void 0:e.getAdVolume},t.prototype.getAdWidth=function(){var t,e;return o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDProperty.getAdWidth,'" ').concat(null===(t=this.property)||void 0===t?void 0:t.getAdWidth)),null===(e=this.property)||void 0===e?void 0:e.getAdWidth},t.prototype.collapseAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.collapseAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.collapseAd,[]]),"*")},t.prototype.expandAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.expandAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.expandAd,[]]),"*")},t.prototype.pauseAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.pauseAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.pauseAd,[]]),"*")},t.prototype.resizeAd=function(t,e,n){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.resizeAd," ").concat(t,", ").concat(e,", ").concat(n,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.resizeAd,[t,e,n]]),"*")},t.prototype.resumeAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.resumeAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.resumeAd,[]]),"*")},t.prototype.skipAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.skipAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.skipAd,[]]),"*")},t.prototype.startAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.startAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.startAd,[]]),"*")},t.prototype.stopAd=function(){o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEventRequest.stopAd,'"')),this.container.contentWindow.postMessage(JSON.stringify([i.VPAIDEventRequest.stopAd,[]]),"*")},t.prototype.AdClickThru=function(){this.parent.AdClickThru(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdClickThru,'"'))},t.prototype.AdDurationChange=function(){this.parent.AdDurationChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdDurationChange,'"'))},t.prototype.AdError=function(){this.parent.AdError(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdError,'"'))},t.prototype.AdExpandedChange=function(){this.parent.AdExpandedChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdExpandedChange,'"'))},t.prototype.AdImpression=function(){this.parent.AdImpression(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdImpression,'"'))},t.prototype.AdInteraction=function(){this.parent.AdInteraction(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdInteraction,'"'))},t.prototype.AdLinearChange=function(){this.parent.AdLinearChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdLinearChange,'"'))},t.prototype.AdLoaded=function(){this.parent.AdLoaded(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdLoaded,'"'))},t.prototype.AdLog=function(){this.parent.AdLog(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdLog,'"'))},t.prototype.AdPaused=function(){this.parent.AdPaused(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdPaused,'"'))},t.prototype.AdPlaying=function(){this.parent.AdPlaying(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdPlaying,'"'))},t.prototype.AdRemainingTimeChange=function(){this.parent.AdRemainingTimeChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdRemainingTimeChange,'"'))},t.prototype.AdSizeChange=function(){this.parent.AdSizeChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdSizeChange,'"'))},t.prototype.AdSkippableStateChange=function(){this.parent.AdSkippableStateChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdSkippableStateChange,'"'))},t.prototype.AdSkipped=function(){this.parent.AdSkipped(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdSkipped,'"'))},t.prototype.AdStarted=function(){this.parent.AdStarted(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdStarted,'"'))},t.prototype.AdStopped=function(){this.parent.AdStopped(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdStopped,'"'))},t.prototype.AdUserAcceptInvitation=function(){this.parent.AdUserAcceptInvitation(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdUserAcceptInvitation,'"'))},t.prototype.AdUserClose=function(){this.parent.AdUserClose(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdUserClose,'"'))},t.prototype.AdUserMinimize=function(){this.parent.AdUserMinimize(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdUserMinimize,'"'))},t.prototype.AdVideoComplete=function(){this.parent.AdVideoComplete(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdVideoComplete,'"'))},t.prototype.AdVideoFirstQuartile=function(){this.parent.AdVideoFirstQuartile(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdVideoFirstQuartile,'"'))},t.prototype.AdVideoMidpoint=function(){this.parent.AdVideoMidpoint(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdVideoMidpoint,'"'))},t.prototype.AdVideoStart=function(){this.parent.AdVideoStart(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdVideoStart,'"'))},t.prototype.AdVideoThirdQuartile=function(){this.parent.AdVideoThirdQuartile(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdVideoThirdQuartile,'"'))},t.prototype.AdVolumeChange=function(){this.parent.AdVolumeChange(this.advert),o.logger.info('vpaid (id:"'.concat(this.advert,'") foreign api "').concat(i.VPAIDEvent.AdVolumeChange,'"'))},t.appendToFrameSrc=function(t,e,n){return-1!==t.indexOf("?")?t+="&".concat(e,"=").concat(n):t+="/?".concat(e,"=").concat(n),t},t}();e.VPAIDForeignAPI=r},1302:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDMediator=void 0;var i=n(263),o=n(9628),r=n(5585),a=n(9110),s=n(2910),d=n(8503),c=n(2651),p=function(){function t(){}return t.prototype.initAd=function(t,e,n,a,s,p){r.Backend.GetInstance().SendMVInventory(d.Helpers.GetReferer(),c.GlobalStore.Instance().GetPlacement(),c.GlobalStore.Instance().GetInstrument(),c.GlobalStore.Instance().GetSlot(),d.Helpers.Size(t,e)),i.Queue.GetInstance().SetCurrentSlotHTMLElement(p.slot,p.videoSlot),i.Queue.GetInstance().SetCurrentSlotVideoParams({width:t,height:e,view:n,bitrate:a});var u=new o.VpaidMiddleToQueue;this.setMiddleToQueue(u),u.setQueue(i.Queue.GetInstance()),u.setMiddle(this),i.Queue.GetInstance().SetMiddle(u)},t.prototype.setInstrument=function(t){this.instrument=t},t.prototype.setMiddleToQueue=function(t){this.middleToQueue=t},t.prototype.GetAdLinear=function(){var t=this.middleToQueue.GetAdLinear();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdLinear,'" ').concat(t)),t},t.prototype.GetAdWidth=function(){var t=this.middleToQueue.GetAdWidth();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdWidth,'" ').concat(t)),t},t.prototype.GetAdHeight=function(){var t=this.middleToQueue.GetAdHeight();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdHeight,'" ').concat(t)),t},t.prototype.GetAdExpanded=function(){var t=this.middleToQueue.GetAdExpanded();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdExpanded,'" ').concat(t)),t},t.prototype.GetAdSkippableState=function(){var t=this.middleToQueue.GetAdSkippableState();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdSkippableState,'" ').concat(t)),t},t.prototype.GetAdRemainingTime=function(){var t=this.middleToQueue.GetAdRemainingTime();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdRemainingTime,'" ').concat(t)),t},t.prototype.GetAdDuration=function(){var t=this.middleToQueue.GetAdDuration();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdDuration,'" ').concat(t)),t},t.prototype.GetAdCompanions=function(){var t=this.middleToQueue.GetAdCompanions();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdCompanions,'" ').concat(t)),t},t.prototype.SetAdVolume=function(t){var e;s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.setAdVolume,'" ').concat(t)),null===(e=this.middleToQueue)||void 0===e||e.SetAdVolume(t)},t.prototype.GetAdVolume=function(){var t=this.middleToQueue.GetAdVolume();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdVolume,'" ').concat(t)),t},t.prototype.GetAdIcons=function(){var t=this.middleToQueue.GetAdIcons();return s.logger.info('vpaid mediator "'.concat(a.VPAIDProperty.getAdIcons,'" ').concat(t)),t},t.prototype.startAd=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.startAd,'"')),this.middleToQueue.startAd()},t.prototype.stopAd=function(){var t;s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.stopAd,'"')),null===(t=this.middleToQueue)||void 0===t||t.stopAd()},t.prototype.resizeAd=function(t,e,n){var i;s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.resizeAd," ").concat(t,", ").concat(e,", ").concat(n,'"')),null===(i=this.middleToQueue)||void 0===i||i.resizeAd(t,e,n)},t.prototype.pauseAd=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.pauseAd,'"')),this.middleToQueue.pauseAd()},t.prototype.resumeAd=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.resumeAd,'"')),this.middleToQueue.resumeAd()},t.prototype.expandAd=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.expandAd,'"')),this.middleToQueue.expandAd()},t.prototype.collapseAd=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.collapseAd,'"')),this.middleToQueue.collapseAd()},t.prototype.skipAd=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventRequest.skipAd,'"')),this.middleToQueue.skipAd()},t.prototype.AdLoaded=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdLoaded,'"')),this.instrument.AdLoaded.call(this.instrument,!0)},t.prototype.AdStarted=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdStarted,'"')),this.instrument.AdStarted.call(this.instrument,!0)},t.prototype.AdStopped=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdStopped,'"')),this.instrument.AdStopped.call(this.instrument,!0)},t.prototype.AdSkipped=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdSkipped,'"')),this.instrument.AdSkipped.call(this.instrument,!0)},t.prototype.AdPaused=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdPaused,'"')),this.instrument.AdPaused.call(this.instrument,!0)},t.prototype.AdSizeChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdSizeChange,'"')),this.instrument.AdSizeChange.call(this.instrument,!0)},t.prototype.AdPlaying=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdPlaying,'"')),this.instrument.AdPlaying.call(this.instrument,!0)},t.prototype.AdExpandedChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdExpandedChange,'"')),this.instrument.AdExpandedChange.call(this.instrument,!0)},t.prototype.AdSkippableStateChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdSkippableStateChange,'"')),this.instrument.AdSkippableStateChange.call(this.instrument,!0)},t.prototype.AdLinearChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdLinearChange,'"')),this.instrument.AdLinearChange.call(this.instrument,!0)},t.prototype.AdVolumeChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdVolumeChange,'"')),this.instrument.AdVolumeChange.call(this.instrument,!0)},t.prototype.AdVideoStart=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdVideoStart,'"')),this.instrument.AdVideoStart.call(this.instrument,!0)},t.prototype.AdVideoFirstQuartile=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdVideoFirstQuartile,'"')),this.instrument.AdVideoFirstQuartile.call(this.instrument,!0)},t.prototype.AdVideoMidPoint=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdVideoMidpoint,'"')),this.instrument.AdVideoMidPoint.call(this.instrument,!0)},t.prototype.AdVideoThirdQuartile=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdVideoThirdQuartile,'"')),this.instrument.AdVideoThirdQuartile.call(this.instrument,!0)},t.prototype.AdVideoComplete=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdVideoComplete,'"')),this.instrument.AdVideoComplete.call(this.instrument,!0)},t.prototype.AdUserAcceptInvitation=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdUserAcceptInvitation,'"')),this.instrument.AdUserAcceptInvitation.call(this.instrument,!0)},t.prototype.AdUserClose=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdUserClose,'"')),this.instrument.AdUserClose.call(this.instrument,!0)},t.prototype.AdUserMinimize=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdUserMinimize,'"')),this.instrument.AdUserMinimize.call(this.instrument,!0)},t.prototype.AdClickThru=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdClickThru,'"')),this.instrument.AdClickThru.call(this.instrument,!0)},t.prototype.AdInteraction=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdInteraction,'"')),this.instrument.AdInteraction.call(this.instrument,!0)},t.prototype.AdError=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdError,'"')),this.instrument.AdError.call(this.instrument,!0)},t.prototype.AdErrorEmpty=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEventExtra.AdErrorEmpty,'"')),this.instrument.AdErrorEmpty.call(this.instrument,!0)},t.prototype.AdLog=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdLog,'"')),this.instrument.AdLog.call(this.instrument,!0)},t.prototype.AdDurationChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdDurationChange,'"')),this.instrument.AdDurationChange.call(this.instrument,!0)},t.prototype.AdRemainingTimeChange=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdRemainingTimeChange,'"')),this.instrument.AdRemainingTimeChange.call(this.instrument,!0)},t.prototype.AdImpression=function(){s.logger.info('vpaid mediator "'.concat(a.VPAIDEvent.AdImpression,'"')),this.instrument.AdImpression.call(this.instrument,!0)},t}();e.VPAIDMediator=p},9628:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VpaidMiddleToQueue=void 0;var n=function(){function t(){}return t.prototype.setMiddle=function(t){this.mediator=t},t.prototype.setQueue=function(t){this.queue=t},t.prototype.GetAdLinear=function(){return this.queue.getAdLinear()},t.prototype.GetAdWidth=function(){return this.queue.getAdWidth()},t.prototype.GetAdHeight=function(){return this.queue.getAdHeight()},t.prototype.GetAdExpanded=function(){return this.queue.getAdExpanded()},t.prototype.GetAdSkippableState=function(){return this.queue.getAdSkippableState()},t.prototype.GetAdRemainingTime=function(){return this.queue.getAdRemainingTime()},t.prototype.GetAdDuration=function(){return this.queue.getAdDuration()},t.prototype.GetAdCompanions=function(){return this.queue.getAdCompanions()},t.prototype.SetAdVolume=function(t){this.queue.setAdVolume(t)},t.prototype.GetAdVolume=function(){return this.queue.getAdVolume()},t.prototype.GetAdIcons=function(){return this.queue.getAdIcons()},t.prototype.startAd=function(){this.queue.startAd()},t.prototype.stopAd=function(){this.queue.stopAd()},t.prototype.resizeAd=function(t,e,n){this.queue.resizeAd(t,e,n)},t.prototype.pauseAd=function(){this.queue.pauseAd()},t.prototype.resumeAd=function(){this.queue.resumeAd()},t.prototype.expandAd=function(){this.queue.expandAd()},t.prototype.collapseAd=function(){this.queue.collapseAd()},t.prototype.skipAd=function(){this.queue.skipAd()},t.prototype.QueueAdLoaded=function(){this.mediator.AdLoaded()},t.prototype.QueueAdImpression=function(){this.mediator.AdImpression()},t.prototype.QueueAdStarted=function(){this.mediator.AdStarted()},t.prototype.QueueAdRemainingTimeChange=function(){this.mediator.AdRemainingTimeChange()},t.prototype.QueueAdDurationChange=function(){this.mediator.AdDurationChange()},t.prototype.QueueAdLog=function(){this.mediator.AdLog()},t.prototype.QueueAdError=function(){this.mediator.AdError()},t.prototype.QueueAdErrorEmpty=function(){this.mediator.AdErrorEmpty()},t.prototype.QueueAdInteraction=function(){this.mediator.AdInteraction()},t.prototype.QueueAdClickThru=function(){this.mediator.AdClickThru()},t.prototype.QueueAdUserMinimize=function(){this.mediator.AdUserMinimize()},t.prototype.QueueAdUserClose=function(){this.mediator.AdUserClose()},t.prototype.QueueAdUserAcceptInvitation=function(){this.mediator.AdUserAcceptInvitation()},t.prototype.QueueAdVideoComplete=function(){this.mediator.AdVideoComplete()},t.prototype.QueueAdVideoThirdQuartile=function(){this.mediator.AdVideoThirdQuartile()},t.prototype.QueueAdVideoMidPoint=function(){this.mediator.AdVideoMidPoint()},t.prototype.QueueAdVideoFirstQuartile=function(){this.mediator.AdVideoFirstQuartile()},t.prototype.QueueAdVideoStart=function(){this.mediator.AdVideoStart()},t.prototype.QueueAdVolumeChange=function(){this.mediator.AdVolumeChange()},t.prototype.QueueAdLinearChange=function(){this.mediator.AdLinearChange()},t.prototype.QueueAdSkippableStateChange=function(){this.mediator.AdSkippableStateChange()},t.prototype.QueueAdExpandedChange=function(){this.mediator.AdExpandedChange()},t.prototype.QueueAdPlaying=function(){this.mediator.AdPlaying()},t.prototype.QueueAdSizeChange=function(){this.mediator.AdSizeChange()},t.prototype.QueueAdPaused=function(){this.mediator.AdPaused()},t.prototype.QueueAdSkipped=function(){this.mediator.AdSkipped()},t.prototype.QueueAdStopped=function(){this.mediator.AdStopped()},t}();e.VpaidMiddleToQueue=n},9110:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPAIDViewMode=e.VPAIDEventExtra=e.VPAIDProperty=e.VPAIDEventRequest=e.VPAIDEvent=void 0,function(t){t.AdLog="AdLog",t.AdTime="AdTime",t.AdError="AdError",t.AdPaused="AdPaused",t.AdLoaded="AdLoaded",t.AdPlaying="AdPlaying",t.AdStarted="AdStarted",t.AdStopped="AdStopped",t.AdSkipped="AdSkipped",t.AdUserClose="AdUserClose",t.AdClickThru="AdClickThru",t.AdVideoStart="AdVideoStart",t.AdImpression="AdImpression",t.AdSizeChange="AdSizeChange",t.AdInteraction="AdInteraction",t.AdVolumeChange="AdVolumeChange",t.AdUserMinimize="AdUserMinimize",t.AdLinearChange="AdLinearChange",t.AdVideoMidpoint="AdVideoMidpoint",t.AdVideoComplete="AdVideoComplete",t.AdDurationChange="AdDurationChange",t.AdExpandedChange="AdExpandedChange",t.AdVideoFirstQuartile="AdVideoFirstQuartile",t.AdVideoThirdQuartile="AdVideoThirdQuartile",t.AdRemainingTimeChange="AdRemainingTimeChange",t.AdSkippableStateChange="AdSkippableStateChange",t.AdUserAcceptInvitation="AdUserAcceptInvitation"}(e.VPAIDEvent||(e.VPAIDEvent={})),function(t){t.startAd="startAd",t.stopAd="stopAd",t.resizeAd="resizeAd",t.pauseAd="pauseAd",t.resumeAd="resumeAd",t.expandAd="expandAd",t.collapseAd="collapseAd",t.skipAd="skipAd"}(e.VPAIDEventRequest||(e.VPAIDEventRequest={})),function(t){t.getAdLinear="getAdLinear",t.getAdWidth="getAdWidth",t.getAdHeight="getAdHeight",t.getAdExpanded="getAdExpanded",t.getAdSkippableState="getAdSkippableState",t.getAdRemainingTime="getAdRemainingTime",t.getAdDuration="getAdDuration",t.getAdCompanions="getAdCompanions",t.setAdVolume="setAdVolume",t.getAdVolume="getAdVolume",t.getAdIcons="getAdIcons"}(e.VPAIDProperty||(e.VPAIDProperty={})),function(t){t.initAd="initAd",t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.AdErrorEmpty="AdErrorEmpty",t.AdORD="AdORD"}(e.VPAIDEventExtra||(e.VPAIDEventExtra={})),function(t){t.normal="normal",t.thumbnail="thumbnail",t.fullscreen="fullscreen"}(e.VPAIDViewMode||(e.VPAIDViewMode={}))},5877:(t,e,n)=>{var i=n(3570),o=n(1171),r=o;r.v1=i,r.v4=o,t.exports=r},5327:t=>{for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);t.exports=function(t,n){var i=n||0,o=e;return[o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],"-",o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]],o[t[i++]]].join("")}},5217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},3570:(t,e,n)=>{var i,o,r=n(5217),a=n(5327),s=0,d=0;t.exports=function(t,e,n){var c=e&&n||0,p=e||[],u=(t=t||{}).node||i,l=void 0!==t.clockseq?t.clockseq:o;if(null==u||null==l){var h=r();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==l&&(l=o=16383&(h[6]<<8|h[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:d+1,g=f-s+(v-d)/1e4;if(g<0&&void 0===t.clockseq&&(l=l+1&16383),(g<0||f>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,d=v,o=l;var A=(1e4*(268435455&(f+=122192928e5))+v)%4294967296;p[c++]=A>>>24&255,p[c++]=A>>>16&255,p[c++]=A>>>8&255,p[c++]=255&A;var y=f/4294967296*1e4&268435455;p[c++]=y>>>8&255,p[c++]=255&y,p[c++]=y>>>24&15|16,p[c++]=y>>>16&255,p[c++]=l>>>8|128,p[c++]=255&l;for(var m=0;m<6;++m)p[c+m]=u[m];return e||a(p)}},1171:(t,e,n)=>{var i=n(5217),o=n(5327);t.exports=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[r+s]=a[s];return e||o(a)}},9881:t=>{t.exports={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}}},7888:(t,e,n)=>{var i=n(1229),o=n(1388),r=n(6501),a=n(4673);t.exports={xml2js:i,xml2json:o,js2xml:r,json2xml:a}},6501:(t,e,n)=>{var i,o,r=n(4740),a=n(9881).isArray;function s(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function d(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,o,i));var r,a,d,c,p=[];for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(c=e.noQuotesForNativeAttributes&&"string"!=typeof t[r]?"":'"',a=(a=""+t[r]).replace(/"/g,"&quot;"),d="attributeNameFn"in e?e.attributeNameFn(r,a,o,i):r,p.push(e.spaces&&e.indentAttributes?s(e,n+1,!1):" "),p.push(d+"="+c+("attributeValueFn"in e?e.attributeValueFn(a,r,o,i):a)+c));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&p.push(s(e,n,!1)),p.join("")}function c(t,e,n){return i=t,o="xml",e.ignoreDeclaration?"":"<?xml"+d(t[e.attributesKey],e,n)+"?>"}function p(t,e,n){if(e.ignoreInstruction)return"";var r;for(r in t)if(t.hasOwnProperty(r))break;var a="instructionNameFn"in e?e.instructionNameFn(r,t[r],o,i):r;if("object"==typeof t[r])return i=t,o=a,"<?"+a+d(t[r][e.attributesKey],e,n)+"?>";var s=t[r]?t[r]:"";return"instructionFn"in e&&(s=e.instructionFn(s,r,o,i)),"<?"+a+(s?" "+s:"")+"?>"}function u(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,o,i):t)+"--\x3e"}function l(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,o,i):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,o,i):t)+">"}function f(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,o,i):t)}function v(t,e,n,r){return t.reduce((function(t,a){var c=s(e,n,r&&!t);switch(a.type){case"element":return t+c+function(t,e,n){i=t,o=t.name;var r=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;r.push("<"+a),t[e.attributesKey]&&r.push(d(t[e.attributesKey],e,n));var s=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement),s?(r.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(r.push(v(t[e.elementsKey],e,n+1)),i=t,o=t.name),r.push(e.spaces&&function(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;default:return!0}return!1}(t,e)?"\n"+Array(n+1).join(e.spaces):""),r.push("</"+a+">")):r.push("/>"),r.join("")}(a,e,n);case"comment":return t+c+u(a[e.commentKey],e);case"doctype":return t+c+h(a[e.doctypeKey],e);case"cdata":return t+(e.indentCdata?c:"")+l(a[e.cdataKey],e);case"text":return t+(e.indentText?c:"")+f(a[e.textKey],e);case"instruction":var g={};return g[a[e.nameKey]]=a[e.attributesKey]?a:a[e.instructionKey],t+(e.indentInstruction?c:"")+p(g,e,n)}}),"")}function g(t,e,n){var i;for(i in t)if(t.hasOwnProperty(i))switch(i){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function A(t,e,n,r,a){i=t,o=e;var c="elementNameFn"in n?n.elementNameFn(e,t):e;if(null==t||""===t)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+c+"></"+c+">":"<"+c+"/>";var p=[];if(e){if(p.push("<"+c),"object"!=typeof t)return p.push(">"+f(t,n)+"</"+c+">"),p.join("");t[n.attributesKey]&&p.push(d(t[n.attributesKey],n,r));var u=g(t,n,!0)||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"];if(u||(u="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(e,t):n.fullTagEmptyElement),!u)return p.push("/>"),p.join("");p.push(">")}return p.push(y(t,n,r+1,!1)),i=t,o=e,e&&p.push((a?s(n,r,!1):"")+"</"+c+">"),p.join("")}function y(t,e,n,i){var o,r,d,v=[];for(r in t)if(t.hasOwnProperty(r))for(d=a(t[r])?t[r]:[t[r]],o=0;o<d.length;++o){switch(r){case e.declarationKey:v.push(c(d[o],e,n));break;case e.instructionKey:v.push((e.indentInstruction?s(e,n,i):"")+p(d[o],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:v.push((e.indentText?s(e,n,i):"")+f(d[o],e));break;case e.cdataKey:v.push((e.indentCdata?s(e,n,i):"")+l(d[o],e));break;case e.doctypeKey:v.push(s(e,n,i)+h(d[o],e));break;case e.commentKey:v.push(s(e,n,i)+u(d[o],e));break;default:v.push(s(e,n,i)+A(d[o],r,e,n,g(d[o],e)))}i=i&&!v.length}return v.join("")}t.exports=function(t,e){e=function(t){var e=r.copyOptions(t);return r.ensureFlagExists("ignoreDeclaration",e),r.ensureFlagExists("ignoreInstruction",e),r.ensureFlagExists("ignoreAttributes",e),r.ensureFlagExists("ignoreText",e),r.ensureFlagExists("ignoreComment",e),r.ensureFlagExists("ignoreCdata",e),r.ensureFlagExists("ignoreDoctype",e),r.ensureFlagExists("compact",e),r.ensureFlagExists("indentText",e),r.ensureFlagExists("indentCdata",e),r.ensureFlagExists("indentAttributes",e),r.ensureFlagExists("indentInstruction",e),r.ensureFlagExists("fullTagEmptyElement",e),r.ensureFlagExists("noQuotesForNativeAttributes",e),r.ensureSpacesExists(e),"number"==typeof e.spaces&&(e.spaces=Array(e.spaces+1).join(" ")),r.ensureKeyExists("declaration",e),r.ensureKeyExists("instruction",e),r.ensureKeyExists("attributes",e),r.ensureKeyExists("text",e),r.ensureKeyExists("comment",e),r.ensureKeyExists("cdata",e),r.ensureKeyExists("doctype",e),r.ensureKeyExists("type",e),r.ensureKeyExists("name",e),r.ensureKeyExists("elements",e),r.checkFnExists("doctype",e),r.checkFnExists("instruction",e),r.checkFnExists("cdata",e),r.checkFnExists("comment",e),r.checkFnExists("text",e),r.checkFnExists("instructionName",e),r.checkFnExists("elementName",e),r.checkFnExists("attributeName",e),r.checkFnExists("attributeValue",e),r.checkFnExists("attributes",e),r.checkFnExists("fullTagEmptyElement",e),e}(e);var n=[];return i=t,o="_root_",e.compact?n.push(y(t,e,0,!0)):(t[e.declarationKey]&&n.push(c(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(v(t[e.elementsKey],e,0,!n.length))),n.join("")}},4673:(t,e,n)=>{var i=n(6501);t.exports=function(t,e){t instanceof Buffer&&(t=t.toString());var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch(t){throw new Error("The JSON structure is invalid")}else n=t;return i(n,e)}},4740:(t,e,n)=>{var i=n(9881).isArray;t.exports={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||"number"!=typeof t.spaces&&"string"!=typeof t.spaces)&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||i(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}},1229:(t,e,n)=>{var i,o,r=n(6099),a=n(4740),s=n(9881).isArray;function d(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}function c(t,e){var n;if(i.compact){if(!o[i[t+"Key"]]&&(s(i.alwaysArray)?-1!==i.alwaysArray.indexOf(i[t+"Key"]):i.alwaysArray)&&(o[i[t+"Key"]]=[]),o[i[t+"Key"]]&&!s(o[i[t+"Key"]])&&(o[i[t+"Key"]]=[o[i[t+"Key"]]]),t+"Fn"in i&&"string"==typeof e&&(e=i[t+"Fn"](e,o)),"instruction"===t&&("instructionFn"in i||"instructionNameFn"in i))for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in i)e[n]=i.instructionFn(e[n],n,o);else{var r=e[n];delete e[n],e[i.instructionNameFn(n,r,o)]=r}s(o[i[t+"Key"]])?o[i[t+"Key"]].push(e):o[i[t+"Key"]]=e}else{o[i.elementsKey]||(o[i.elementsKey]=[]);var a={};if(a[i.typeKey]=t,"instruction"===t){for(n in e)if(e.hasOwnProperty(n))break;a[i.nameKey]="instructionNameFn"in i?i.instructionNameFn(n,e,o):n,i.instructionHasAttributes?(a[i.attributesKey]=e[n][i.attributesKey],"instructionFn"in i&&(a[i.attributesKey]=i.instructionFn(a[i.attributesKey],n,o))):("instructionFn"in i&&(e[n]=i.instructionFn(e[n],n,o)),a[i.instructionKey]=e[n])}else t+"Fn"in i&&(e=i[t+"Fn"](e,o)),a[i[t+"Key"]]=e;i.addParent&&(a[i.parentKey]=o),o[i.elementsKey].push(a)}}function p(t){var e;if("attributesFn"in i&&t&&(t=i.attributesFn(t,o)),(i.trim||"attributeValueFn"in i||"attributeNameFn"in i||i.nativeTypeAttributes)&&t)for(e in t)if(t.hasOwnProperty(e)&&(i.trim&&(t[e]=t[e].trim()),i.nativeTypeAttributes&&(t[e]=d(t[e])),"attributeValueFn"in i&&(t[e]=i.attributeValueFn(t[e],e,o)),"attributeNameFn"in i)){var n=t[e];delete t[e],t[i.attributeNameFn(e,t[e],o)]=n}return t}function u(t){var e={};if(t.body&&("xml"===t.name.toLowerCase()||i.instructionHasAttributes)){for(var n,r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=r.exec(t.body));)e[n[1]]=n[2]||n[3]||n[4];e=p(e)}if("xml"===t.name.toLowerCase()){if(i.ignoreDeclaration)return;o[i.declarationKey]={},Object.keys(e).length&&(o[i.declarationKey][i.attributesKey]=e),i.addParent&&(o[i.declarationKey][i.parentKey]=o)}else{if(i.ignoreInstruction)return;i.trim&&(t.body=t.body.trim());var a={};i.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][i.attributesKey]=e):a[t.name]=t.body,c("instruction",a)}}function l(t,e){var n;if("object"==typeof t&&(e=t.attributes,t=t.name),e=p(e),"elementNameFn"in i&&(t=i.elementNameFn(t,o)),i.compact){var r;if(n={},!i.ignoreAttributes&&e&&Object.keys(e).length)for(r in n[i.attributesKey]={},e)e.hasOwnProperty(r)&&(n[i.attributesKey][r]=e[r]);!(t in o)&&(s(i.alwaysArray)?-1!==i.alwaysArray.indexOf(t):i.alwaysArray)&&(o[t]=[]),o[t]&&!s(o[t])&&(o[t]=[o[t]]),s(o[t])?o[t].push(n):o[t]=n}else o[i.elementsKey]||(o[i.elementsKey]=[]),(n={})[i.typeKey]="element",n[i.nameKey]=t,!i.ignoreAttributes&&e&&Object.keys(e).length&&(n[i.attributesKey]=e),i.alwaysChildren&&(n[i.elementsKey]=[]),o[i.elementsKey].push(n);n[i.parentKey]=o,o=n}function h(t){i.ignoreText||(t.trim()||i.captureSpacesBetweenElements)&&(i.trim&&(t=t.trim()),i.nativeType&&(t=d(t)),i.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",t))}function f(t){i.ignoreComment||(i.trim&&(t=t.trim()),c("comment",t))}function v(t){var e=o[i.parentKey];i.addParent||delete o[i.parentKey],o=e}function g(t){i.ignoreCdata||(i.trim&&(t=t.trim()),c("cdata",t))}function A(t){i.ignoreDoctype||(t=t.replace(/^ /,""),i.trim&&(t=t.trim()),c("doctype",t))}function y(t){t.note=t}t.exports=function(t,e){var n=r.parser(!0,{}),s={};if(o=s,i=function(t){return i=a.copyOptions(t),a.ensureFlagExists("ignoreDeclaration",i),a.ensureFlagExists("ignoreInstruction",i),a.ensureFlagExists("ignoreAttributes",i),a.ensureFlagExists("ignoreText",i),a.ensureFlagExists("ignoreComment",i),a.ensureFlagExists("ignoreCdata",i),a.ensureFlagExists("ignoreDoctype",i),a.ensureFlagExists("compact",i),a.ensureFlagExists("alwaysChildren",i),a.ensureFlagExists("addParent",i),a.ensureFlagExists("trim",i),a.ensureFlagExists("nativeType",i),a.ensureFlagExists("nativeTypeAttributes",i),a.ensureFlagExists("sanitize",i),a.ensureFlagExists("instructionHasAttributes",i),a.ensureFlagExists("captureSpacesBetweenElements",i),a.ensureAlwaysArrayExists(i),a.ensureKeyExists("declaration",i),a.ensureKeyExists("instruction",i),a.ensureKeyExists("attributes",i),a.ensureKeyExists("text",i),a.ensureKeyExists("comment",i),a.ensureKeyExists("cdata",i),a.ensureKeyExists("doctype",i),a.ensureKeyExists("type",i),a.ensureKeyExists("name",i),a.ensureKeyExists("elements",i),a.ensureKeyExists("parent",i),a.checkFnExists("doctype",i),a.checkFnExists("instruction",i),a.checkFnExists("cdata",i),a.checkFnExists("comment",i),a.checkFnExists("text",i),a.checkFnExists("instructionName",i),a.checkFnExists("elementName",i),a.checkFnExists("attributeName",i),a.checkFnExists("attributeValue",i),a.checkFnExists("attributes",i),i}(e),n.opt={strictEntities:!0},n.onopentag=l,n.ontext=h,n.oncomment=f,n.onclosetag=v,n.onerror=y,n.oncdata=g,n.ondoctype=A,n.onprocessinginstruction=u,n.write(t).close(),s[i.elementsKey]){var d=s[i.elementsKey];delete s[i.elementsKey],s[i.elementsKey]=d,delete s.text}return s}},1388:(t,e,n)=>{var i=n(4740),o=n(1229);t.exports=function(t,e){var n,r,a;return n=function(t){var e=i.copyOptions(t);return i.ensureSpacesExists(e),e}(e),r=o(t,n),a="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(r,(function(t,e){return t===a?"_":e}),n.spaces):JSON.stringify(r,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},9224:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isNull=function(t){return null==t}},3262:(t,e)=>{"use strict";function n(t){var e=t.url,i=t.onError,o=t.onSuccess,r=t.retries,a=void 0===r?2:r,s=t.headers;if(0!==a){for(var d=new XMLHttpRequest,c=0,p=Object.entries(s||{});c<p.length;c++){var u=p[c],l=u[0],h=u[1];d.setRequestHeader(l,h)}d.open("GET",e,!0),d.onerror=function(){n({onError:i,onSuccess:o,retries:a-1,url:e})},d.onload=function(t){o(t.responseText)},d.send()}else i(e+" fetch failed after 3 attempts")}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchUrl=function(t){var e=t.url,i=t.loadCallback,o=void 0===i?function(){}:i,r=t.syncInBrowser,a=void 0!==r&&r;if(!e)throw new Error("'url' is undefined");if(a)return function(t){for(var e=t.url,n=t.retries,i=void 0===n?2:n,o=0,r=[];o++<i;){var a=void 0;try{if((a=new XMLHttpRequest).open("GET",e,!1),a.send(),a.status>=200&&a.status<400)return a.responseText}catch(t){r.push("REQ #"+o+" message : "+t.message),t.name&&r.push("REQ #"+o+" name : "+t.name),t.code&&r.push("REQ #"+o+" code : "+t.code)}a&&a.status&&r.push("REQ #"+o+" status : "+a.status)}throw new Error(e+" fetch failed after "+o+" attempts. "+r.join(", "))}({url:e});n({onError:function(){throw new Error(e+" fetch failed")},onSuccess:o,url:e})}},5028:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="[33mVAST-LIBRARY [31mERROR[33m:[0m",i="[33mVAST-LIBRARY WARNING:[0m";function o(t){try{console.error(n+" "+t)}catch(e){console.log(n+" "+t)}}function r(t){try{console.warn(i+" "+t)}catch(e){console.log(i+" "+t)}}e.warnOrThrow=function(t,e,n){if(void 0===n&&(n=!1),e.logWarn&&(n?o(t):r(t)),n&&e.throwOnError)throw new Error(t)},e.logError=o,e.logWarn=r},7362:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stripCDATA=function(t){return t.replace("<![CDATA[","").replace("]]>","").trim()},e.hasCDATA=function(t){return t&&-1!==t.indexOf("<![CDATA[")}},9893:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=n(7888),r=n(7131),a=n(3262),s=n(5028);function d(t,e){if(t&&t.elements)if(1===t.elements.length&&(t.elements[0].text||t.elements[0].cdata)){var n=t.elements[0],i=String(n.text||n.cdata);e.content=i}else for(var o=0;o<t.elements.length;o++){d(n=t.elements[o],e.attachCustomTag(n.name,n.attributes))}}function c(t,e){var n;void 0===e&&(e={}),e=i({logWarn:!1},e);try{n=o.xml2js(t)}catch(t){s.warnOrThrow("Error during the vast parsing, it seems not valid XML",e)}return function(t,e){void 0===e&&(e={});e=i({logWarn:!1},e);var n=new r.default;return n.parseOptions(e),d(t,n),n}(n,{vastRawCode:t})}function p(t,e){return void 0===e&&(e=[]),e.reduce((function(t,e){var n=e.key,i=e.value;return t.replace(new RegExp("(#{|\\[)"+n+"(}|\\])"),i)}),t)}e.buildVast=d,e.createVastWithBuilder=c,e.downloadVastAndWrappersSync=function(t,e){var n,i=[];do{if(n=c(a.fetchUrl({url:p(t,e.macrosToReplace),syncInBrowser:!0})),i.push(n),n.isWrapper()){var o=n.get(["VASTAdTagURI"])[0];o&&(t=o.getContent())}}while(n.isWrapper());return i},e.replaceMacros=p,e.downloadVastAndWrappersAsync=function t(e,n,i,o){var r,s=o||[],d=p(e,n.macrosToReplace);n.urlWrapper&&(d=n.urlWrapper+encodeURIComponent(d)),a.fetchUrl({headers:n.headers,loadCallback:function(o,a){if(a)return i(s,a);if(r=c(o),s.push(r),r.isWrapper()){var d=r.get(["VASTAdTagURI"])[0];d&&(e=d.getContent()),t(e,n,i,s)}else i(s,a)},syncInBrowser:!0,timeout:n.timeout,url:d})}},7131:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(2521),s=n(7888),d=n(5028),c=n(7362),p={_declaration:{_attributes:{encoding:"utf-8",version:"1.0"}}},u=function(){function t(t,e,n,i,o){void 0===t&&(t="root"),void 0===e&&(e=null),void 0===n&&(n={attrs:[]}),this.parent=e,this.name=t,"string"==typeof i?(c.hasCDATA(i)&&(this.cdataThisOne=!0),this.content=c.stripCDATA(i),this.attrs=o||{}):(this.content=null,this.attrs=i||{}),this.childs=[],this.infos={attrs:n.attrs||[]},this.parseOptions(e&&e.options||{})}return t.prototype.getName=function(){return this.name},t.prototype.getParent=function(){return this.and()},t.prototype.getContent=function(){return this.content},t.prototype.getInfos=function(){return this.infos},t.prototype.getAttr=function(t){var e=this.getValidAttrs();return Object.keys(this.getValidAttrs()).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{})[t.toLowerCase()]},t.prototype.getValidAttrs=function(){var t=this;return"all"===this.infos.attrs?this.attrs:Object.keys(this.attrs).reduce((function(e,n){var i;return-1!==t.infos.attrs.indexOf(n)?r({},e,((i={})[n]=t.attrs[n],i)):(d.warnOrThrow('WARNING: the attribute "'+n+'" does not exists in "'+t.name+'" Tag. It was ignored.\n            Here is the allowed list: '+t.infos.attrs,t.options),e)}),{})},t.prototype.getAttrs=function(){return d.logWarn("getAttrs() method is deprecated, use getValidAttrs() instead."),this.getValidAttrs()},t.prototype.and=function(){return this.parent},t.prototype.back=function(){return this.and().and()},t.prototype.cdata=function(){return this.cdataThisOne=!0,this},t.prototype.text=function(){return this.cdataThisOne=!1,this},t.prototype.attachCustomTag=function(e,n,i){var o=new t(e,this,{attrs:"all"},n,i);return this.childs.push(o),o},t.prototype.addCustomTag=function(t,e,n){return this.attachCustomTag(t,e,n).and()},t.prototype.hasAttrs=function(){return Object.keys(this.attrs).length>0},t.prototype.getJson=function(){var t={};this.childs.forEach((function(e){t[e.name]=t[e.name]||[];var n=e.getJson();Object.keys(n).length>0&&t[e.name].push(n)}));var e={};return this.hasAttrs()&&(e._attributes=this.getValidAttrs()),this.content&&(!0===this.cdataThisOne||!1!==this.cdataThisOne&&this.options.cdata?e._cdata=this.content:e._text=this.content),r({},e,t)},t.prototype.getRoot=function(){for(var t=this.parent||this;t.parent;)t=t.parent;return t},t.prototype.toXml=function(){return s.js2xml(r({},p,this.getRoot().getJson()),r({compact:!0},this.options))},t.prototype.getVastVersion=function(){return parseInt(this.getVersionRaw())},t.prototype.getVastSnakeVersion=function(){return this.getVersionRaw().replace(".","_")},t.prototype.getChilds=function(t){return this.childs.filter((function(e){return e.name===t}))},t.prototype.get=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=!0),0===t.length)return[this];var n=[],i=e?this.getRoot():this;return Object.keys(i.childs).forEach((function(e){var o=i.childs[e];o.name===t[0]?1===t.length?n.push(o):n.push(o.get(t.slice(1),!1)):n.push(o.get(t,!1))})),a(n)},t.prototype.getCustom=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=!0),this.get(t,e)},t.prototype.isWrapper=function(){return this.get(["Wrapper"]).length>0},t.prototype.parseOptions=function(t){this.options=r({cdata:!0,logWarn:!0,spaces:2,throwOnError:!1,vastRawCode:t.vastRawCode},t)},t.prototype.getVastRawCode=function(){return this.options.vastRawCode},t.prototype.getVersionRaw=function(){return this.getRoot().getChilds("VAST")[0].getAttr("version")},t}();e.default=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.and=function(){return this},e}(u);e.VastElementRoot=l},5568:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2521),o=n(3818),r=n(9224),a=n(5028),s=n(9893),d=function(){function t(t){void 0===t&&(t={}),this.options=t,this.vasts=[]}return t.prototype.addVastWithoutFetching=function(t){this.vasts.push(s.createVastWithBuilder(t))},t.prototype.parseAsync=function(t,e){var n=this;this.cleanVasts(),s.downloadVastAndWrappersAsync(t,this.options,(function(t,i){n.vasts=t,e(n,i)}))},t.prototype.parseSync=function(t){if(this.cleanVasts(),o.isNode)throw new Error("parseSync is only available in a browser context");return this.vasts=s.downloadVastAndWrappersSync(t,this.options),this},t.prototype.getVasts=function(){return this.vasts},t.prototype.getVastElements=function(t){return i(this.vasts.map((function(e){return e.get(t,!0)})))},t.prototype.getVastsRaw=function(){return this.vasts.map((function(t){return t.getVastRawCode()}))},t.prototype.getCustomVastElements=function(t){return this.getVastElements(t)},t.prototype.getContents=function(t){var e=this;return this.getVastElements(t).map((function(t){return r.isNull(t.content)&&a.warnOrThrow(t.name+" does not have content",e.options),t.content})).filter((function(t){return t}))},t.prototype.getCustomContents=function(t){return this.getContents(t)},t.prototype.getAttributes=function(t,e){var n=this;return this.getVastElements(t).map((function(t){var i={};return Object.keys(t.attrs).forEach((function(e){i[e.toLowerCase()]=t.attrs[e]})),r.isNull(i[e.toLowerCase()])&&a.warnOrThrow(t.name+" does not have attribute "+e,n.options),i[e.toLowerCase()]})).filter((function(t){return t}))},t.prototype.getCustomAttributes=function(t,e){return this.getAttributes(t,e)},t.prototype.cleanVasts=function(){this.vasts=[]},t}();e.default=d},8003:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const i="object"==typeof global&&global&&global.Object===Object&&global;var o="object"==typeof self&&self&&self.Object===Object&&self;const r=i||o||Function("return this")()},9111:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var i=n(7226),o=n(8003);const r=function(){return o.Z.Date.now()};var a=n(4666),s=Math.max,d=Math.min;const c=function(t,e,n){var o,c,p,u,l,h,f=0,v=!1,g=!1,A=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=o,i=c;return o=c=void 0,f=e,u=t.apply(i,n)}function m(t){return f=t,l=setTimeout(E,e),v?y(t):u}function I(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-f>=p}function E(){var t=r();if(I(t))return V(t);l=setTimeout(E,function(t){var n=e-(t-h);return g?d(n,p-(t-f)):n}(t))}function V(t){return l=void 0,A&&o?y(t):(o=c=void 0,u)}function P(){var t=r(),n=I(t);if(o=arguments,c=this,h=t,n){if(void 0===l)return m(h);if(g)return clearTimeout(l),l=setTimeout(E,e),y(h)}return void 0===l&&(l=setTimeout(E,e)),u}return e=(0,a.Z)(e)||0,(0,i.Z)(n)&&(v=!!n.leading,p=(g="maxWait"in n)?s((0,a.Z)(n.maxWait)||0,e):p,A="trailing"in n?!!n.trailing:A),P.cancel=function(){void 0!==l&&clearTimeout(l),f=0,o=h=c=l=void 0},P.flush=function(){return void 0===l?u:V(r())},P}},7226:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2807:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var i=n(4666),o=1/0;const r=function(t){return t?(t=(0,i.Z)(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};const a=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0};const s=function(t,e){var n;if("function"!=typeof e)throw new TypeError("Expected a function");return t=a(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}};const d=function(t){return s(2,t)}},4666:(t,e,n)=>{"use strict";n.d(e,{Z:()=>C});var i=/\s/;const o=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e};var r=/^\s+/;const a=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t};var s=n(7226);const d=n(8003).Z.Symbol;var c=Object.prototype,p=c.hasOwnProperty,u=c.toString,l=d?d.toStringTag:void 0;const h=function(t){var e=p.call(t,l),n=t[l];try{t[l]=void 0;var i=!0}catch(t){}var o=u.call(t);return i&&(e?t[l]=n:delete t[l]),o};var f=Object.prototype.toString;const v=function(t){return f.call(t)};var g=d?d.toStringTag:void 0;const A=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?h(t):v(t)};const y=function(t){return null!=t&&"object"==typeof t};const m=function(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==A(t)};var I=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,V=/^0o[0-7]+$/i,P=parseInt;const C=function(t){if("number"==typeof t)return t;if(m(t))return NaN;if((0,s.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,s.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=a(t);var n=E.test(t);return n||V.test(t)?P(t.slice(2),n?2:8):I.test(t)?NaN:+t}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};n(8519)})();