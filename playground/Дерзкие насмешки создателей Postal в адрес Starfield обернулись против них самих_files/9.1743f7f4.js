(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{nD0S:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("i6So")),s=r(a("Xucg")),o=a("pIdu");function r(e){return e&&e.__esModule?e:{default:e}}const d=document.querySelector("#tzrContainer"),i=()=>JSON.parse(window.localStorage.getItem("hiddenTeaserIds"))||[],l=e=>{const t=i();t.push(e),localStorage.setItem("hiddenTeaserIds",JSON.stringify(t))};t.default=()=>{let e,t,a=!1;const r=()=>{const r=+localStorage.getItem("lastTimeShowTeaser")||0,c=Date.now(),u=r+3e5>c?3e5-(c-r):0;null==t&&(t=setTimeout(()=>{null==e&&(e=setTimeout(async()=>{let e=new URLSearchParams;null!=window.teaserGameId&&e.append("game_id",window.teaserGameId);const t=(e=>{const t=i(),a=e.filter(({id:e})=>!t.includes(e));if(!a.length)return null;let n=0;a.forEach(e=>{n+=e.weight,e.sort=n});const s=a.sort((e,t)=>e.sort>t.sort),o=Math.random()*n;return s.find(({sort:e})=>o<=e)})(await n.default.get("tzr.get_float_teasers",e));t&&(({id:e,text:t,image:a,is_targeted_game:r})=>{if(d){let i=!1;window.addEventListener("scroll",()=>{if(document.querySelector("#contentLayout").getBoundingClientRect().top<=80&&!1===i){const c=r,u=document.createElement("div"),m=document.createElement("a"),w=document.createElement("button");if(m.href=(0,s.default)("teaser.redirect",{teaser_id:e}),m.classList.add("float-teaser-title"),m.innerText=t,a){const e=document.createElement("img");e.src=(0,o.getImageUri)(a),e.style.marginRight="10px",m.prepend(e)}u.classList.add("float-teaser"),w.classList.add("close"),(0,o.subscribe)(w,"click",()=>{l(e),u.remove()}),m.addEventListener("click",()=>l(e)),u.appendChild(m),u.appendChild(w),c?d.append(u):d.prepend(u),n.default.post("tzr.show",{teaser_id:e}),localStorage.setItem("lastTimeShowTeaser",String(Date.now())),i=!0}},{passive:!0})}})(t),a=!0},u))},1))};r(),window.addEventListener("focus",()=>{a||r()}),window.addEventListener("blur",()=>{a||(clearTimeout(e),clearTimeout(t))})}}}]);