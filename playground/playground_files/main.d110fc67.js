(window.webpackJsonp=window.webpackJsonp||[]).push([["comments/main","components/report"],{"7YvC":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifyClearBtn=function(e){e.addEventListener("click",()=>{if(!confirm("Точно удалить?"))return!1;const{entityType:t}=e.dataset,{entityId:i}=e.dataset,a={entity_type:t,entity_id:i};p.default.post("report.clear",a).then(()=>{e.closest("tr").remove()}).catch(e=>{let t="Сервер не отвечает. Попробуйте повторить позднее.";e.message&&(t=e.message),notification("error","Ошибка",t)})})},t.default=void 0;var a,p=(a=i("i6So"))&&a.__esModule?a:{default:a},n=i("yb5b"),s=i("pIdu");var o=function(e){(0,s.subscribe)(e,"click",e=>{const{entityType:t,entityId:i}=e.dataset,a=function(e,t){const i=document.createElement("div");i.classList.add("modal"),i.id="dynamicModal",i.setAttribute("data-entity-type",e),i.setAttribute("data-entity-id",t),i.setAttribute("role","dialog"),i.setAttribute("aria-labelledby","confirm-modal"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const a=document.createElement("div");a.classList.add("modal-dialog","modal-md");const p=document.createElement("div");p.classList.add("modal-content");const s=document.createElement("div");s.classList.add("modal-header");const o=document.createElement("h3");o.classList.add("modal-title"),o.innerText="Причина жалобы",s.appendChild(o),p.appendChild(s);const r=document.createElement("div");r.classList.add("modal-body");const y=document.createElement("ul");y.classList.add("list-unstyled","report-dropdown"),Object.keys(n.reportTypes[e]).forEach(t=>{const i=document.createElement("li");i.classList.add("violation-report-item");const a=document.createElement("a");a.classList.add("js-report-item"),a.setAttribute("data-type-id",t),a.href="#report-"+t,a.innerText=n.reportTypes[e][t],i.appendChild(a),y.appendChild(i)}),r.appendChild(y),p.appendChild(r);const c=document.createElement("div");c.classList.add("modal-footer");const l=document.createElement("span");return l.classList.add("btn","btn-default"),l.setAttribute("data-dismiss","modal"),l.innerText="Отмена",c.appendChild(l),p.appendChild(c),a.appendChild(p),i.appendChild(a),i}(t,i);document.body.appendChild(a),jQuery(a).modal("show"),function(e){jQuery(e).on("hidden.bs.modal",(function(e){jQuery(this).remove()}));const{entityType:t}=e.dataset,{entityId:i}=e.dataset,a=e.getElementsByClassName("js-report-item");Array.from(a).forEach(a=>{a.addEventListener("click",a=>{a.preventDefault();const{typeId:n}=a.target.dataset,s={entity_type:t,entity_id:i,type_id:n};p.default.post("report.add",s).then(()=>{notification("success","Благодарим за бдительность","Сообщение отправлено модератору",void 0,"stack-center"),$(e).modal("hide")}).catch(e=>{let t="Сервер не отвечает. Попробуйте повторить позднее.";e.message&&(t=e.message),notification("error","Ошибка",t)})})})}(a)})};t.default=o},Pexr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.transformCommentItem=void 0;var a=u(i("Dg9s")),p=u(i("wu1j")),n=i("QfNq"),s=u(i("i6So")),o=u(i("xLjr")),r=u(i("7YvC")),y=i("pIdu"),c=u(i("cV2D")),l=u(i("ZIXM")),m=i("yb5b");function u(e){return e&&e.__esModule?e:{default:e}}const d={mainLimit:null},g=document.getElementById("comments-wrapper"),{userId:v}=g.dataset,{isModerator:w}=g.dataset,{post:T}=g.dataset,{postPublished:x}=g.dataset;function k(e,t){const i=(0,o.default)(e,{comment:a.default.convertKeysToCamelCase(t),user:{id:v}}),p=document.createElement("div");p.innerHTML=i;const n=p.firstElementChild,s=n.querySelectorAll(".js-comments-item");return Array.from(s).forEach(e=>f(e)),n}function h(e){e.classList.add("deleted");const t=e.querySelector(".js-comments-item-main"),i=document.createElement("div");i.classList.add("comments-item-content"),i.innerHTML="Комментарий удален",t.innerHTML="",t.appendChild(i),e.querySelector(".js-comments-item-sidebar").remove()}function b(e){const t=e.getElementsByClassName("js-comment-item-rating-btn");Array.from(t).forEach(e=>function(e){const t=e.closest(".js-comments-item"),{commentId:i}=t.dataset;e.addEventListener("click",e=>{const{currentTarget:a}=e;if("BUTTON"!==a.tagName)return;if(!v)return dataLayer.push({authModalTrigger:"Рейтинг комментария"}),void jQuery("#signinModalWindow").modal();e.preventDefault();const{value:p}=a.dataset;let n=t.querySelector(".js-comments-item-rating"),{userRating:o}=n.dataset,r=0===Number(o)?Number(p):0;const c={comment_id:i,value:r};s.default.post("comment.vote",c).then(()=>{n=t.querySelector(".js-comments-item-rating"),o=n.dataset.userRating,r=0===Number(o)?Number(p):0,n.setAttribute("data-user-rating",r);const e=r-o,i=n.querySelector(".active"),s=n.querySelector(".js-comment-item-rating-value");s.classList.remove("positive","negative");const y=+s.textContent+e;s.innerHTML=y,y>0?s.classList.add("positive"):y<0&&s.classList.add("negative"),null!==i?i.classList.toggle("active"):a.classList.toggle("active")}).catch(y.showError)})}(e));const p=e.querySelector(".js-reply-btn");null!==p&&p.addEventListener("click",()=>{x&&(v?Promise.all([i.e(0),i.e(2),i.e(3),i.e("comments/index")]).then(i.t.bind(null,"igkT",7)).then(({createEditorByBtn:e})=>e(p)):(dataLayer.push({authModalTrigger:"Ответ на комментарий"}),jQuery("#signinModalWindow").modal()))});const n=e.querySelector(".js-edit-btn");null!==n&&n.addEventListener("click",()=>{x&&Promise.all([i.e(0),i.e(2),i.e(3),i.e("comments/index")]).then(i.t.bind(null,"igkT",7)).then(({createEditorByBtn:e})=>e(n,!0))});const c=e.querySelector(".js-delete-btn");null!==c&&function(e){if(!x)return;const t=e.closest(".js-comments-item"),{commentId:i}=t.dataset;e.addEventListener("click",()=>{BootstrapDialog.show({title:"Подтвердите действие",message:"Вы уверены, что хотите удалить этот комментарий?",buttons:[{label:"Удалить",cssClass:"btn-danger",action(a){const p={comment_id:i};e.classList.add("spinner"),s.default.post("comment.delete",p).then(()=>{t.classList.add("deleted"),h(t),e.classList.remove("spinner")}).catch(t=>{e.classList.remove("spinner"),(0,y.showError)(t)}),a.close()}},{label:"Отмена",action(e){e.close()}}]})})}(c);const m=e.querySelector(".js-comments-copy-link");var u;null!==m&&(u=m).addEventListener("click",e=>{e.preventDefault();const t=u.dataset.link;navigator.clipboard.writeText(t).then(()=>(0,y.showMessage)({message:"Ссылка скопирована",title:"Копирование ссылки"})).catch(()=>(0,y.showError)("Ошибка при копировании ссылки","Копирование ссылки"))});const d=e.parentElement.querySelector(".js-comments-answers-loader-btn");null!==d&&function(e){e.addEventListener("click",t=>{const{commentId:i}=e.parentElement.querySelector(".js-comments-item").dataset;t.preventDefault(),e.classList.add("spinner");const p={comment_id:i};s.default.get("comment.replies",p).then(t=>{const i=e.parentElement.querySelector(".js-comments-answers");i.innerHTML="",t.list.forEach(e=>{const t=(0,o.default)(l.default,{comment:a.default.convertKeysToCamelCase(e),user:{id:v}}),p=document.createElement("div");p.innerHTML=t;const n=p.firstElementChild;f(n),i.append(n);const s=new CustomEvent("render_comment",{detail:{comment:n}});document.dispatchEvent(s)}),e.remove()}).catch(t=>{e.classList.remove("spinner"),(0,y.showError)(t)})})}(d);const g=e.querySelector(".js-comments-report-link");null!==g&&(0,r.default)(g);e.querySelector(".js-parent-anchor")}const f=e=>{b(e),w&&function(e){var t;const i=null!==(t=e.dataset.commentId)&&void 0!==t?t:null,a=document.createElement("div");a.classList.add("comments-moder-checkbox");const p=document.createElement("input");p.type="checkbox",p.value=i,p.id="moder-checkbox-"+i,p.classList.add("admin-comment","css-checkbox");const n=document.createElement("label");n.classList.add("css-label"),n.htmlFor="moder-checkbox-"+i,n.addEventListener("click",e=>{e.target.parentNode.querySelector("input").checked?document.getElementById("selectedCommentsCount").value=+document.getElementById("selectedCommentsCount").value-1:document.getElementById("selectedCommentsCount").value=+document.getElementById("selectedCommentsCount").value+1,document.getElementById("selectedCommentsCount").value>0?document.getElementById("commentsAdminPanel").style.display="block":document.getElementById("commentsAdminPanel").style.display="none"}),a.appendChild(p),a.appendChild(n);const s=e.querySelector(".js-comments-item-header");null!==s&&s.appendChild(a)}(e),(0,n.handleLinks)(e),(0,n.addRedirects)(e.querySelectorAll("a")),jQuery(e).find("figure a").fancybox({})};function E(e,t){e.list.forEach(e=>{const i=k(c.default,e);t.append(i);const a=new CustomEvent("render_comment",{detail:{comment:i}});document.dispatchEvent(a)});const i=document.getElementById("comments-counter");i.setAttribute("data-main-total",e.comments_main_total),i.setAttribute("data-total",e.comments_total),i.innerHTML="КОММЕНТАРИИ: "+e.comments_total;const a=document.getElementById("post-comment-count");null!==a&&(a.innerHTML=""+e.comments_total)}function j(e){e.addEventListener("click",t=>{t.preventDefault();const i=document.getElementById("sort-active");e.classList.add("spinner");const{sort:a}=i.dataset,p={post_id:T,sort:a,offset:d.mainLimit,limit:5e3};s.default.get("comment.list",p).then(t=>{const i=document.getElementsByClassName("js-anchor-comment");Array.from(i).forEach(e=>e.remove()),t.list=t.list.filter(e=>null===document.getElementById("comment-"+e.id));E(t,document.getElementById("comments-container")),e.remove()}).catch(t=>{e.classList.remove("spinner"),(0,y.showError)(t)})})}t.transformCommentItem=f;const _=document.getElementsByClassName("js-comments-item");Array.from(_).forEach(e=>f(e));const L=document.querySelector(".js-comments-loader-btn");L&&j(L);t.default=e=>{const{limit:t}=e.dataset;d.mainLimit=parseInt(t,10),document.getElementById("comments-sort").addEventListener("click",e=>{const{target:t}=e;if("A"!==t.tagName)return;e.preventDefault();const{sort:i}=t.dataset,a=t.text,n={post_id:T,sort:i,offset:0,limit:d.mainLimit};s.default.get("comment.list",n).then(e=>{const n=document.getElementById("comments-container");n.innerHTML="",E(e,n);const s=document.querySelector(".js-comments-loader-btn"),o=e.comments_total,r=e.comments_main_total;if(r>d.mainLimit&&null===s){const e=document.getElementById("comments-wrapper"),t=document.createElement("div");t.classList.add("comments-loader-btn","js-comments-loader-btn"),t.innerHTML="ЗАГРУЗИТЬ ВСЕ КОММЕНТАРИИ",j(t),e.appendChild(t)}const y=document.getElementById("sort-active");t.setAttribute("data-sort",y.dataset.sort),t.innerHTML=y.innerText,y.setAttribute("data-sort",i),y.innerHTML=a;const c=document.getElementById("comments-counter");c.setAttribute("data-main-total",r),c.setAttribute("data-total",o);const l=document.getElementById("post-comment-count");null!==l&&(l.innerHTML=""+o),null!==document.getElementById("selectedCommentsCount")&&(document.getElementById("selectedCommentsCount").value=0,document.getElementById("commentsAdminPanel").style.display="none"),p.default.setCookie(m.commentsSortingCookieKey,i,{"max-age":15768e4})}).catch(y.showError)}),function(){const e=document.getElementById("deleteSelected");null!==e&&e.addEventListener("click",()=>{BootstrapDialog.show({title:"Подтвердите действие",message:"Вы уверены, что хотите удалить выделенные комментарии?",buttons:[{label:"Удалить",cssClass:"btn-danger",action(e){const t=document.querySelectorAll("input:checked"),i=[];t.forEach(e=>{const t=e.value;i.push(t)}),0!==i.length&&(s.default.post("comment.multi_delete",{comment_ids:i}).then(()=>{i.forEach(e=>{h(document.getElementById("comment-"+e))})}).catch(e=>{(0,y.showError)(e),document.getElementById("selectedCommentsCount").value=+document.getElementById("selectedCommentsCount").value+i.length,document.getElementById("commentsAdminPanel").style.display="block"}),e.close(),document.getElementById("selectedCommentsCount").value=0,document.getElementById("commentsAdminPanel").style.display="none")}},{label:"Отмена",action(e){e.close()}}]})})}(),function(){const e=window.location.hash.replace("#",""),t=document.getElementById(e);if(e&&null===t){const t={comment_id:e.replace("comment-","")};s.default.get("comment.branch",t).then(t=>{if(0===Object.keys(t).length)return;const i=document.getElementById("comment-"+t.id),a=k(c.default,t);null!==i?i.closest(".js-comments-block").parentNode.replaceChild(a,i.closest(".js-comments-block")):(a.classList.add("js-anchor-comment"),document.getElementById("comments-container").appendChild(a));const p=new CustomEvent("render_comment",{detail:{comment:a}});document.dispatchEvent(p);document.getElementById(e)})}}();const a=document.getElementById("fake-comment-editor");a&&(v?(a.addEventListener("click",()=>{const e=document.querySelector(".comments-warning"),t=a.closest(".js-comments-block");e||t.insertAdjacentHTML("afterbegin",'<div class="comments-warning">Проявление <a href="https://ru.wikipedia.org/wiki/Ксенофобия" target="_blank">ксенофобии</a> и обсуждение политики  в комментариях недопустимы.</div>')}),Promise.all([i.e(0),i.e(2),i.e(3),i.e("comments/index")]).then(i.t.bind(null,"igkT",7)).then(({default:e})=>e(a))):a.addEventListener("click",()=>{dataLayer.push({authModalTrigger:"Новый комментарий"}),jQuery("#signinModalWindow").modal()}))}},cV2D:function(e,t,i){var a=(0,i("uorI").twig)({id:"$resolved:4e616f1bbc139383153bb7f8307aae8669aa7af19631d2016d1fe7addbbe46142f247d423498d0cbe3397baf7e3e9f6c741685daf1707290899bda3b6a915fe6:main_item.html.twig",data:[{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"raw",value:"  "},{type:"logic",token:{type:"Twig.logic.type.set",key:"user",expression:[{type:"Twig.expression.type.variable",value:"app",match:["app"]},{type:"Twig.expression.type.key.period",key:"user"}]}}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.test",filter:"defined",modifier:"not"}],output:[{type:"raw",value:"  "},{type:"logic",token:{type:"Twig.logic.type.set",key:"user",expression:[{type:"Twig.expression.type.null",value:null}]}}]}},{type:"raw",value:'<div class="comments-block js-comments-block">\n  '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"last",match:["last"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"last",match:["last"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:' <div id="last_comment"></div>'}]}},{type:"raw",value:'  <div id="comment-'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"\n    class="comments-item js-comments-item\n'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" comment-owner "}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"rejected"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" deleted"}]}},{type:"raw",value:'"\n       data-post="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"postId"}]},{type:"raw",value:'"\n       data-comment-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"\n  >\n    <div class="comments-item-aside js-comments-item-aside">\n      <div class="comments-item-avatar" id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n        '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"rejected"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'            <img\n              class="comments-avatar-image"\n              src="https://www.playground.ru/img/avatar-blank.jpg"\n              alt=""\n              width="50"\n              height="50"\n            />\n          </span>\n        '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'          <a href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user.item"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"user_slug"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n            <span  id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"></span>\n              <img\n                alt=""\n                class="comments-avatar-image"\n                width="50"\n                height="50"\n                src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"image"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"default_image",match:["default_image"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"image",match:["|image","image"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.number",value:50,match:["50",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.number",value:50,match:["50",null]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'"\n                loading="lazy"\n              >\n            '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"online"}],output:[{type:"raw",value:'              <div class="comments-item-user-status"></div>\n            '}]}},{type:"raw",value:"          </a>\n        "}]}},{type:"raw",value:'      </div>\n    </div>\n\n    <div class="comments-item-main js-comments-item-main">\n      '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"rejected"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'        <div class="comments-item-content js-comments-item-content">\n          Комментарий удален\n        </div>\n      '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'        <div class="comments-item-header js-comments-item-header">\n          <a class="comments-item-author"\n             href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user.item"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"user_slug"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'\n          </a>\n          <a href="#'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <time class="comments-item-timestamp" datetime="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"createdAt"},{type:"Twig.expression.type.filter",value:"date",match:["|date","date"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"c"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n              '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"createdAt"},{type:"Twig.expression.type.filter",value:"ago",match:["|ago","ago"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n            </time>\n          </a>\n        </div>\n        <div class="comments-item-content js-comments-item-content">\n\n          '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"text"},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:'\n        </div>\n        <div class="comments-item-footer">\n          '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userAccess"},{type:"Twig.expression.type.key.period",key:"update"}],output:[{type:"raw",value:'            <button class="btn edit-btn js-edit-btn">редактировать</button>\n            <button class="btn delete-btn js-delete-btn">удалить</button>\n          '}]}},{type:"raw",value:"          "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"post_closed",match:["post_closed"]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"}],output:[{type:"raw",value:'            <button class="btn reply-btn js-reply-btn">ответить</button>\n          '}]}},{type:"raw",value:'          <div class="dropdown">\n            <button\n              class="btn dropdown-trigger"\n              type="button"\n              data-toggle="dropdown"\n            >\n              <span class="glyphicon glyphicon-option-horizontal"></span>\n            </button>\n            <ul class="dropdown-menu" aria-labelledby="dLabel">\n              <li>\n                <a\n                  class="comments-report-link js-comments-report-link"\n                  href="#report"\n                  data-entity-type="comment"\n                  data-entity-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"\n                ><span class="svg-icon-bg alert-svg_icon"></span>пожаловаться</a>\n              </li>\n              <li>\n                <a\n                  data-link="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"link"}]},{type:"raw",value:'"\n                  class="js-comments-copy-link"\n                  href="#copy-link"\n                ><span class="svg-icon-bg link"></span>скопировать ссылку</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      '}]}},{type:"raw",value:"    </div>\n    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"published"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'      <div class="comments-item-sidebar js-comments-item-sidebar">\n        <div class="comments-item-rating js-comments-item-rating" data-user-rating="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userRating"}]},{type:"raw",value:'">\n\n          <button '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" disabled "}]}},{type:"raw",value:'\n            class="comment-item-rating-btn js-comment-item-rating-btn '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userRating"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}],output:[{type:"raw",value:"active"}]}},{type:"raw",value:'"\n            data-value="1">\n            <span class="svg-icon-bg chevron-up"></span>\n          </button>\n\n          '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"up"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"down"},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.set",key:"ratingClass",expression:[{type:"Twig.expression.type.string",value:"positive"}]}},{type:"raw",value:"          "}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"up"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"down"},{type:"Twig.expression.type.operator.binary",value:"<",precidence:8,associativity:"leftToRight",operator:"<"}],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.set",key:"ratingClass",expression:[{type:"Twig.expression.type.string",value:"negative"}]}},{type:"raw",value:"          "}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.set",key:"ratingClass",expression:[{type:"Twig.expression.type.string",value:""}]}},{type:"raw",value:"          "}]}},{type:"raw",value:'          <div class="comment-item-rating-value js-comment-item-rating-value '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"ratingClass",match:["ratingClass"]}]},{type:"raw",value:'">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"up"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"down"},{type:"Twig.expression.type.operator.binary",value:"-",precidence:6,associativity:"leftToRight",operator:"-"}]},{type:"raw",value:"\n          </div>\n\n\n          <button "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" disabled "}]}},{type:"raw",value:'            class="comment-item-rating-btn js-comment-item-rating-btn '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userRating"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"<",precidence:8,associativity:"leftToRight",operator:"<"}],output:[{type:"raw",value:"active"}]}},{type:"raw",value:'"\n            data-value="-1">\n            <span class="svg-icon-bg chevron-down"></span>\n          </button>\n\n        </div>\n      </div>\n    '}]}},{type:"raw",value:'  </div>\n\n  <div class="comments-answers js-comments-answers">\n    '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replies"}],output:[{type:"raw",value:"      "},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"reply",expression:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replies"}],output:[{type:"raw",value:"        "},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"include",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"_dynamic/comment/reply_item.html.twig"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"comment"},{type:"Twig.expression.type.variable",value:"reply",match:["reply"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"user"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"post_closed"},{type:"Twig.expression.type.variable",value:"post_closed",match:["post_closed"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n      "}]}},{type:"raw",value:"    "}]}},{type:"raw",value:"  </div>\n\n  "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replyCount"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replyCount"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replies"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'    <button class="btn btn-block btn-default comments-answers-loader-btn js-comments-answers-loader-btn">\n      Загрузить все ответы\n    </button>\n  '}]}},{type:"raw",value:"</div>\n"}],allowInlineIncludes:!0,rethrow:!0});e.exports=function(e){return a.render(e)},e.exports.tokens=[{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"raw",value:"  "},{type:"logic",token:{type:"Twig.logic.type.set",key:"user",expression:[{type:"Twig.expression.type.variable",value:"app",match:["app"]},{type:"Twig.expression.type.key.period",key:"user"}]}}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.test",filter:"defined",modifier:"not"}],output:[{type:"raw",value:"  "},{type:"logic",token:{type:"Twig.logic.type.set",key:"user",expression:[{type:"Twig.expression.type.null",value:null}]}}]}},{type:"raw",value:'<div class="comments-block js-comments-block">\n  '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"last",match:["last"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.test",filter:"defined"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"last",match:["last"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:' <div id="last_comment"></div>'}]}},{type:"raw",value:'  <div id="comment-'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"\n    class="comments-item js-comments-item\n'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" comment-owner "}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"rejected"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:" deleted"}]}},{type:"raw",value:'"\n       data-post="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"postId"}]},{type:"raw",value:'"\n       data-comment-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"\n  >\n    <div class="comments-item-aside js-comments-item-aside">\n      <div class="comments-item-avatar" id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n        '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"rejected"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'            <img\n              class="comments-avatar-image"\n              src="https://www.playground.ru/img/avatar-blank.jpg"\n              alt=""\n              width="50"\n              height="50"\n            />\n          </span>\n        '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'          <a href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user.item"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"user_slug"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n            <span  id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"></span>\n              <img\n                alt=""\n                class="comments-avatar-image"\n                width="50"\n                height="50"\n                src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"image"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"default_image",match:["default_image"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"image",match:["|image","image"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.number",value:50,match:["50",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.number",value:50,match:["50",null]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'"\n                loading="lazy"\n              >\n            '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"online"}],output:[{type:"raw",value:'              <div class="comments-item-user-status"></div>\n            '}]}},{type:"raw",value:"          </a>\n        "}]}},{type:"raw",value:'      </div>\n    </div>\n\n    <div class="comments-item-main js-comments-item-main">\n      '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"rejected"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'        <div class="comments-item-content js-comments-item-content">\n          Комментарий удален\n        </div>\n      '}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'        <div class="comments-item-header js-comments-item-header">\n          <a class="comments-item-author"\n             href="'},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"path",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"user.item"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"user_slug"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'\n          </a>\n          <a href="#'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'">\n            <time class="comments-item-timestamp" datetime="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"createdAt"},{type:"Twig.expression.type.filter",value:"date",match:["|date","date"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"c"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n              '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"createdAt"},{type:"Twig.expression.type.filter",value:"ago",match:["|ago","ago"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n            </time>\n          </a>\n        </div>\n        <div class="comments-item-content js-comments-item-content">\n\n          '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"text"},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:'\n        </div>\n        <div class="comments-item-footer">\n          '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userAccess"},{type:"Twig.expression.type.key.period",key:"update"}],output:[{type:"raw",value:'            <button class="btn edit-btn js-edit-btn">редактировать</button>\n            <button class="btn delete-btn js-delete-btn">удалить</button>\n          '}]}},{type:"raw",value:"          "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"post_closed",match:["post_closed"]},{type:"Twig.expression.type.operator.unary",value:"not",precidence:3,associativity:"rightToLeft",operator:"not"}],output:[{type:"raw",value:'            <button class="btn reply-btn js-reply-btn">ответить</button>\n          '}]}},{type:"raw",value:'          <div class="dropdown">\n            <button\n              class="btn dropdown-trigger"\n              type="button"\n              data-toggle="dropdown"\n            >\n              <span class="glyphicon glyphicon-option-horizontal"></span>\n            </button>\n            <ul class="dropdown-menu" aria-labelledby="dLabel">\n              <li>\n                <a\n                  class="comments-report-link js-comments-report-link"\n                  href="#report"\n                  data-entity-type="comment"\n                  data-entity-id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"id"}]},{type:"raw",value:'"\n                ><span class="svg-icon-bg alert-svg_icon"></span>пожаловаться</a>\n              </li>\n              <li>\n                <a\n                  data-link="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"link"}]},{type:"raw",value:'"\n                  class="js-comments-copy-link"\n                  href="#copy-link"\n                ><span class="svg-icon-bg link"></span>скопировать ссылку</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      '}]}},{type:"raw",value:"    </div>\n    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"status"},{type:"Twig.expression.type.string",value:"published"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'      <div class="comments-item-sidebar js-comments-item-sidebar">\n        <div class="comments-item-rating js-comments-item-rating" data-user-rating="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userRating"}]},{type:"raw",value:'">\n\n          <button '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" disabled "}]}},{type:"raw",value:'\n            class="comment-item-rating-btn js-comment-item-rating-btn '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userRating"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}],output:[{type:"raw",value:"active"}]}},{type:"raw",value:'"\n            data-value="1">\n            <span class="svg-icon-bg chevron-up"></span>\n          </button>\n\n          '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"up"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"down"},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"}],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.set",key:"ratingClass",expression:[{type:"Twig.expression.type.string",value:"positive"}]}},{type:"raw",value:"          "}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"up"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"down"},{type:"Twig.expression.type.operator.binary",value:"<",precidence:8,associativity:"leftToRight",operator:"<"}],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.set",key:"ratingClass",expression:[{type:"Twig.expression.type.string",value:"negative"}]}},{type:"raw",value:"          "}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"            "},{type:"logic",token:{type:"Twig.logic.type.set",key:"ratingClass",expression:[{type:"Twig.expression.type.string",value:""}]}},{type:"raw",value:"          "}]}},{type:"raw",value:'          <div class="comment-item-rating-value js-comment-item-rating-value '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"ratingClass",match:["ratingClass"]}]},{type:"raw",value:'">\n            '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"up"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"rating"},{type:"Twig.expression.type.key.period",key:"down"},{type:"Twig.expression.type.operator.binary",value:"-",precidence:6,associativity:"leftToRight",operator:"-"}]},{type:"raw",value:"\n          </div>\n\n\n          <button "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type._function",fn:"is_granted",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"ROLE_USER"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"user"},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:" disabled "}]}},{type:"raw",value:'            class="comment-item-rating-btn js-comment-item-rating-btn '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"userRating"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"<",precidence:8,associativity:"leftToRight",operator:"<"}],output:[{type:"raw",value:"active"}]}},{type:"raw",value:'"\n            data-value="-1">\n            <span class="svg-icon-bg chevron-down"></span>\n          </button>\n\n        </div>\n      </div>\n    '}]}},{type:"raw",value:'  </div>\n\n  <div class="comments-answers js-comments-answers">\n    '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replies"}],output:[{type:"raw",value:"      "},{type:"logic",token:{type:"Twig.logic.type.for",keyVar:null,valueVar:"reply",expression:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replies"}],output:[{type:"raw",value:"        "},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"include",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"_dynamic/comment/reply_item.html.twig"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"comment"},{type:"Twig.expression.type.variable",value:"reply",match:["reply"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"user"},{type:"Twig.expression.type.variable",value:"user",match:["user"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"post_closed"},{type:"Twig.expression.type.variable",value:"post_closed",match:["post_closed"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n      "}]}},{type:"raw",value:"    "}]}},{type:"raw",value:"  </div>\n\n  "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replyCount"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replyCount"},{type:"Twig.expression.type.variable",value:"comment",match:["comment"]},{type:"Twig.expression.type.key.period",key:"replies"},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.operator.binary",value:"and",precidence:13,associativity:"leftToRight",operator:"and"}],output:[{type:"raw",value:'    <button class="btn btn-block btn-default comments-answers-loader-btn js-comments-answers-loader-btn">\n      Загрузить все ответы\n    </button>\n  '}]}},{type:"raw",value:"</div>\n"}]},wu1j:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("yb5b");var p=class{static getCookie(e){const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}static setCookie(e,t,i={}){(i={path:"/",domain:a.cookieDomain,samesite:"lax",secure:!0,...i}).expires instanceof Date&&(i.expires=i.expires.toUTCString());let p=`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;Object.entries(i).forEach(([e,t])=>{p+="; "+e,!0!==t&&(p+="="+t)}),document.cookie=p}static deleteCookie(e){this.setCookie(e,"",{"max-age":-1})}};t.default=p}}]);