!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){var e={exports:{}};return t(e,e.exports),e.exports}var r=function(t){return t&&t.Math==Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")(),o=function(t){try{return!!t()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u={f:s&&!a.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:a},c=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,f=function(t){return l.call(t).slice(8,-1)},h="".split,d=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==f(t)?h.call(t,""):Object(t)}:Object,p=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return d(p(t))},v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},y=function(t,e){if(!v(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!v(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!v(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!v(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,_=function(t,e){return m.call(t,e)},b=n.document,w=v(b)&&v(b.createElement),S=function(t){return w?b.createElement(t):{}},C=!i&&!o((function(){return 7!=Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a})),O=Object.getOwnPropertyDescriptor,A={f:i?O:function(t,e){if(t=g(t),e=y(e,!0),C)try{return O(t,e)}catch(t){}if(_(t,e))return c(!u.f.call(t,e),t[e])}},E=function(t){if(!v(t))throw TypeError(String(t)+" is not an object");return t},x=Object.defineProperty,P={f:i?x:function(t,e,r){if(E(t),e=y(e,!0),E(r),C)try{return x(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},I=i?function(t,e,r){return P.f(t,e,c(1,r))}:function(t,e,r){return t[e]=r,t},T=function(t,e){try{I(n,t,e)}catch(r){n[t]=e}return e},L="__core-js_shared__",j=n[L]||T(L,{}),k=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(t){return k.call(t)});var M,R,U,D=j.inspectSource,N=n.WeakMap,F="function"==typeof N&&/native code/.test(D(N)),$=e((function(t){(t.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.10.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),B=0,G=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++B+G).toString(36)},K=$("keys"),Q=function(t){return K[t]||(K[t]=V(t))},z={},W=n.WeakMap;if(F){var H=j.state||(j.state=new W),J=H.get,q=H.has,Y=H.set;M=function(t,e){return e.facade=t,Y.call(H,t,e),e},R=function(t){return J.call(H,t)||{}},U=function(t){return q.call(H,t)}}else{var X=Q("state");z[X]=!0,M=function(t,e){return e.facade=t,I(t,X,e),e},R=function(t){return _(t,X)?t[X]:{}},U=function(t){return _(t,X)}}var Z,tt,et={set:M,get:R,has:U,enforce:function(t){return U(t)?R(t):M(t,{})},getterFor:function(t){return function(e){var r;if(!v(e)||(r=R(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},rt=e((function(t){var e=et.get,r=et.enforce,o=String(String).split("String");(t.exports=function(t,e,i,a){var s,u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||I(i,"name",e),(s=r(i)).source||(s.source=o.join("string"==typeof e?e:""))),t!==n?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:I(t,e,i)):c?t[e]=i:T(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),nt=n,ot=function(t){return"function"==typeof t?t:void 0},it=function(t,e){return arguments.length<2?ot(nt[t])||ot(n[t]):nt[t]&&nt[t][e]||n[t]&&n[t][e]},at=Math.ceil,st=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?st:at)(t)},ct=Math.min,lt=function(t){return t>0?ct(ut(t),9007199254740991):0},ft=Math.max,ht=Math.min,dt=function(t,e){var r=ut(t);return r<0?ft(r+e,0):ht(r,e)},pt=function(t){return function(e,r,n){var o,i=g(e),a=lt(i.length),s=dt(n,a);if(t&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},gt={includes:pt(!0),indexOf:pt(!1)},vt=gt.indexOf,yt=function(t,e){var r,n=g(t),o=0,i=[];for(r in n)!_(z,r)&&_(n,r)&&i.push(r);for(;e.length>o;)_(n,r=e[o++])&&(~vt(i,r)||i.push(r));return i},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=mt.concat("length","prototype"),bt={f:Object.getOwnPropertyNames||function(t){return yt(t,_t)}},wt={f:Object.getOwnPropertySymbols},St=it("Reflect","ownKeys")||function(t){var e=bt.f(E(t)),r=wt.f;return r?e.concat(r(t)):e},Ct=function(t,e){for(var r=St(e),n=P.f,o=A.f,i=0;i<r.length;i++){var a=r[i];_(t,a)||n(t,a,o(e,a))}},Ot=/#|\.prototype\./,At=function(t,e){var r=xt[Et(t)];return r==It||r!=Pt&&("function"==typeof e?o(e):!!e)},Et=At.normalize=function(t){return String(t).replace(Ot,".").toLowerCase()},xt=At.data={},Pt=At.NATIVE="N",It=At.POLYFILL="P",Tt=At,Lt=A.f,jt=function(t,e){var r,o,i,a,s,u=t.target,c=t.global,l=t.stat;if(r=c?n:l?n[u]||T(u,{}):(n[u]||{}).prototype)for(o in e){if(a=e[o],i=t.noTargetGet?(s=Lt(r,o))&&s.value:r[o],!Tt(c?o:u+(l?".":"#")+o,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;Ct(a,i)}(t.sham||i&&i.sham)&&I(a,"sham",!0),rt(r,o,a,t)}},kt=n.Promise,Mt=function(t,e,r){for(var n in e)rt(t,n,e[n],r);return t},Rt="process"==f(n.process),Ut=it("navigator","userAgent")||"",Dt=n.process,Nt=Dt&&Dt.versions,Ft=Nt&&Nt.v8;Ft?tt=(Z=Ft.split("."))[0]+Z[1]:Ut&&(!(Z=Ut.match(/Edge\/(\d+)/))||Z[1]>=74)&&(Z=Ut.match(/Chrome\/(\d+)/))&&(tt=Z[1]);var $t=tt&&+tt,Bt=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(Rt?38===$t:$t>37&&$t<41)})),Gt=Bt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Vt=$("wks"),Kt=n.Symbol,Qt=Gt?Kt:Kt&&Kt.withoutSetter||V,zt=function(t){return _(Vt,t)&&(Bt||"string"==typeof Vt[t])||(Bt&&_(Kt,t)?Vt[t]=Kt[t]:Vt[t]=Qt("Symbol."+t)),Vt[t]},Wt=P.f,Ht=zt("toStringTag"),Jt=function(t,e,r){t&&!_(t=r?t:t.prototype,Ht)&&Wt(t,Ht,{configurable:!0,value:e})},qt=zt("species"),Yt=function(t){var e=it(t),r=P.f;i&&e&&!e[qt]&&r(e,qt,{configurable:!0,get:function(){return this}})},Xt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Zt=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},te={},ee=zt("iterator"),re=Array.prototype,ne=function(t){return void 0!==t&&(te.Array===t||re[ee]===t)},oe=function(t,e,r){if(Xt(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ie={};ie[zt("toStringTag")]="z";var ae="[object z]"===String(ie),se=zt("toStringTag"),ue="Arguments"==f(function(){return arguments}()),ce=ae?f:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),se))?r:ue?f(e):"Object"==(n=f(e))&&"function"==typeof e.callee?"Arguments":n},le=zt("iterator"),fe=function(t){if(null!=t)return t[le]||t["@@iterator"]||te[ce(t)]},he=function(t){var e=t.return;if(void 0!==e)return E(e.call(t)).value},de=function(t,e){this.stopped=t,this.result=e},pe=function(t,e,r){var n,o,i,a,s,u,c,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),p=oe(e,l,1+f+d),g=function(t){return n&&he(n),new de(!0,t)},v=function(t){return f?(E(t),d?p(t[0],t[1],g):p(t[0],t[1])):d?p(t,g):p(t)};if(h)n=t;else{if("function"!=typeof(o=fe(t)))throw TypeError("Target is not iterable");if(ne(o)){for(i=0,a=lt(t.length);a>i;i++)if((s=v(t[i]))&&s instanceof de)return s;return new de(!1)}n=o.call(t)}for(u=n.next;!(c=u.call(n)).done;){try{s=v(c.value)}catch(t){throw he(n),t}if("object"==typeof s&&s&&s instanceof de)return s}return new de(!1)},ge=zt("iterator"),ve=!1;try{var ye=0,me={next:function(){return{done:!!ye++}},return:function(){ve=!0}};me[ge]=function(){return this},Array.from(me,(function(){throw 2}))}catch(t){}var _e,be,we,Se=function(t,e){if(!e&&!ve)return!1;var r=!1;try{var n={};n[ge]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Ce=zt("species"),Oe=function(t,e){var r,n=E(t).constructor;return void 0===n||null==(r=E(n)[Ce])?e:Xt(r)},Ae=it("document","documentElement"),Ee=/(iphone|ipod|ipad).*applewebkit/i.test(Ut),xe=n.location,Pe=n.setImmediate,Ie=n.clearImmediate,Te=n.process,Le=n.MessageChannel,je=n.Dispatch,ke=0,Me={},Re="onreadystatechange",Ue=function(t){if(Me.hasOwnProperty(t)){var e=Me[t];delete Me[t],e()}},De=function(t){return function(){Ue(t)}},Ne=function(t){Ue(t.data)},Fe=function(t){n.postMessage(t+"",xe.protocol+"//"+xe.host)};Pe&&Ie||(Pe=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return Me[++ke]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},_e(ke),ke},Ie=function(t){delete Me[t]},Rt?_e=function(t){Te.nextTick(De(t))}:je&&je.now?_e=function(t){je.now(De(t))}:Le&&!Ee?(we=(be=new Le).port2,be.port1.onmessage=Ne,_e=oe(we.postMessage,we,1)):n.addEventListener&&"function"==typeof postMessage&&!n.importScripts&&xe&&"file:"!==xe.protocol&&!o(Fe)?(_e=Fe,n.addEventListener("message",Ne,!1)):_e=Re in S("script")?function(t){Ae.appendChild(S("script"))[Re]=function(){Ae.removeChild(this),Ue(t)}}:function(t){setTimeout(De(t),0)});var $e,Be,Ge,Ve,Ke,Qe,ze,We,He={set:Pe,clear:Ie},Je=/web0s(?!.*chrome)/i.test(Ut),qe=A.f,Ye=He.set,Xe=n.MutationObserver||n.WebKitMutationObserver,Ze=n.document,tr=n.process,er=n.Promise,rr=qe(n,"queueMicrotask"),nr=rr&&rr.value;nr||($e=function(){var t,e;for(Rt&&(t=tr.domain)&&t.exit();Be;){e=Be.fn,Be=Be.next;try{e()}catch(t){throw Be?Ve():Ge=void 0,t}}Ge=void 0,t&&t.enter()},Ee||Rt||Je||!Xe||!Ze?er&&er.resolve?(ze=er.resolve(void 0),We=ze.then,Ve=function(){We.call(ze,$e)}):Ve=Rt?function(){tr.nextTick($e)}:function(){Ye.call(n,$e)}:(Ke=!0,Qe=Ze.createTextNode(""),new Xe($e).observe(Qe,{characterData:!0}),Ve=function(){Qe.data=Ke=!Ke}));var or,ir,ar,sr,ur=nr||function(t){var e={fn:t,next:void 0};Ge&&(Ge.next=e),Be||(Be=e,Ve()),Ge=e},cr=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Xt(e),this.reject=Xt(r)},lr={f:function(t){return new cr(t)}},fr=function(t,e){if(E(t),v(e)&&e.constructor===t)return e;var r=lr.f(t);return(0,r.resolve)(e),r.promise},hr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},dr=He.set,pr=zt("species"),gr="Promise",vr=et.get,yr=et.set,mr=et.getterFor(gr),_r=kt,br=n.TypeError,wr=n.document,Sr=n.process,Cr=it("fetch"),Or=lr.f,Ar=Or,Er=!!(wr&&wr.createEvent&&n.dispatchEvent),xr="function"==typeof PromiseRejectionEvent,Pr="unhandledrejection",Ir=Tt(gr,(function(){if(!(D(_r)!==String(_r))){if(66===$t)return!0;if(!Rt&&!xr)return!0}if($t>=51&&/native code/.test(_r))return!1;var t=_r.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[pr]=e,!(t.then((function(){}))instanceof e)})),Tr=Ir||!Se((function(t){_r.all(t).catch((function(){}))})),Lr=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},jr=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;ur((function(){for(var n=t.value,o=1==t.state,i=0;r.length>i;){var a,s,u,c=r[i++],l=o?c.ok:c.fail,f=c.resolve,h=c.reject,d=c.domain;try{l?(o||(2===t.rejection&&Ur(t),t.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),u=!0)),a===c.promise?h(br("Promise-chain cycle")):(s=Lr(a))?s.call(a,f,h):f(a)):h(n)}catch(t){d&&!u&&d.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Mr(t)}))}},kr=function(t,e,r){var o,i;Er?((o=wr.createEvent("Event")).promise=e,o.reason=r,o.initEvent(t,!1,!0),n.dispatchEvent(o)):o={promise:e,reason:r},!xr&&(i=n["on"+t])?i(o):t===Pr&&function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},Mr=function(t){dr.call(n,(function(){var e,r=t.facade,n=t.value;if(Rr(t)&&(e=hr((function(){Rt?Sr.emit("unhandledRejection",n,r):kr(Pr,r,n)})),t.rejection=Rt||Rr(t)?2:1,e.error))throw e.value}))},Rr=function(t){return 1!==t.rejection&&!t.parent},Ur=function(t){dr.call(n,(function(){var e=t.facade;Rt?Sr.emit("rejectionHandled",e):kr("rejectionhandled",e,t.value)}))},Dr=function(t,e,r){return function(n){t(e,n,r)}},Nr=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,jr(t,!0))},Fr=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw br("Promise can't be resolved itself");var n=Lr(e);n?ur((function(){var r={done:!1};try{n.call(e,Dr(Fr,r,t),Dr(Nr,r,t))}catch(e){Nr(r,e,t)}})):(t.value=e,t.state=1,jr(t,!1))}catch(e){Nr({done:!1},e,t)}}};Ir&&(_r=function(t){Zt(this,_r,gr),Xt(t),or.call(this);var e=vr(this);try{t(Dr(Fr,e),Dr(Nr,e))}catch(t){Nr(e,t)}},(or=function(t){yr(this,{type:gr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Mt(_r.prototype,{then:function(t,e){var r=mr(this),n=Or(Oe(this,_r));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Rt?Sr.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&jr(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),ir=function(){var t=new or,e=vr(t);this.promise=t,this.resolve=Dr(Fr,e),this.reject=Dr(Nr,e)},lr.f=Or=function(t){return t===_r||t===ar?new ir(t):Ar(t)},"function"==typeof kt&&(sr=kt.prototype.then,rt(kt.prototype,"then",(function(t,e){var r=this;return new _r((function(t,e){sr.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Cr&&jt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return fr(_r,Cr.apply(n,arguments))}}))),jt({global:!0,wrap:!0,forced:Ir},{Promise:_r}),Jt(_r,gr,!1),Yt(gr),ar=it(gr),jt({target:gr,stat:!0,forced:Ir},{reject:function(t){var e=Or(this);return e.reject.call(void 0,t),e.promise}}),jt({target:gr,stat:!0,forced:Ir},{resolve:function(t){return fr(this,t)}}),jt({target:gr,stat:!0,forced:Tr},{all:function(t){var e=this,r=Or(e),n=r.resolve,o=r.reject,i=hr((function(){var r=Xt(e.resolve),i=[],a=0,s=1;pe(t,(function(t){var u=a++,c=!1;i.push(void 0),s++,r.call(e,t).then((function(t){c||(c=!0,i[u]=t,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=Or(e),n=r.reject,o=hr((function(){var o=Xt(e.resolve);pe(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var $r,Br=Object.keys||function(t){return yt(t,mt)},Gr=i?Object.defineProperties:function(t,e){E(t);for(var r,n=Br(e),o=n.length,i=0;o>i;)P.f(t,r=n[i++],e[r]);return t},Vr="prototype",Kr="script",Qr=Q("IE_PROTO"),zr=function(){},Wr=function(t){return"<"+Kr+">"+t+"</"+Kr+">"},Hr=function(){try{$r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Hr=$r?function(t){t.write(Wr("")),t.close();var e=t.parentWindow.Object;return t=null,e}($r):(e=S("iframe"),r="java"+Kr+":",e.style.display="none",Ae.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Wr("document.F=Object")),t.close(),t.F);for(var n=mt.length;n--;)delete Hr[Vr][mt[n]];return Hr()};z[Qr]=!0;var Jr=Object.create||function(t,e){var r;return null!==t?(zr[Vr]=E(t),r=new zr,zr[Vr]=null,r[Qr]=t):r=Hr(),void 0===e?r:Gr(r,e)},qr=zt("unscopables"),Yr=Array.prototype;null==Yr[qr]&&P.f(Yr,qr,{configurable:!0,value:Jr(null)});var Xr=function(t){Yr[qr][t]=!0},Zr=gt.includes;jt({target:"Array",proto:!0},{includes:function(t){return Zr(this,t,arguments.length>1?arguments[1]:void 0)}}),Xr("includes");var tn=!!kt&&o((function(){kt.prototype.finally.call({then:function(){}},(function(){}))}));jt({target:"Promise",proto:!0,real:!0,forced:tn},{finally:function(t){var e=Oe(this,it("Promise")),r="function"==typeof t;return this.then(r?function(r){return fr(e,t()).then((function(){return r}))}:t,r?function(r){return fr(e,t()).then((function(){throw r}))}:t)}}),"function"!=typeof kt||kt.prototype.finally||rt(kt.prototype,"finally",it("Promise").prototype.finally),"function"!=typeof Promise.prototype.finally&&(Promise.prototype.finally=function(t){return this.then((e=>this.constructor.resolve(t()).then((()=>e)))).catch((e=>this.constructor.resolve(t()).then((()=>{throw e}))))}),window.__knownBlocker=!!function(){try{const t=["OPR","n !im","sByTa","1003447LuLqWg","dow","sibil","ing","Opera","style","565qdizXE","getEl","232331sDoJoU","18LCDgxI","cssTe","8949RXqNfR","s: 43","play:","porta","nt; o","tInto","Conte","mport","1gfBELn","ock","getOw","textC","toStr","ntWin","ement","sheet","ortan","injec","lengt","hidde","ant; ","nProp","ptor","dbl","type","89029nRIyjx","ertyD","index","get","1153xndIzo","349hFSaxZ","3toLzmo"," none","gName","conte","proto","1DNflRb","1153390UmUDUA","8264wGiSvY"];function e(e,r){return t[e-=493]}return function(t,r){const n=e;for(;;)try{if(700794===-parseInt(n(504))*parseInt(n(505))+parseInt(n(497))*-parseInt(n(516))+parseInt(n(510))*-parseInt(n(529))+parseInt(n(518))*parseInt(n(499))+parseInt(n(521))*-parseInt(n(519))+parseInt(n(493))+parseInt(n(506))*parseInt(n(498)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(t),function(){const t=e,r="a"+t(544)+t(530),n=Object[t(531)+t(542)+t(494)+"escri"+t(543)](HTMLIFrameElement[t(503)+t(545)],t(502)+t(534)+"dow");if(n&&n[t(496)]){if(-1!==n[t(496)][t(533)+t(513)]()[t(495)+"Of"](t(538)+t(526)+t(527)+t(534)+t(511)))return r}const o=navigator.userAgent;if(-1!==o[t(495)+"Of"](t(514))||-1!==o[t(495)+"Of"](t(507))){const e=document[t(517)+t(535)+t(509)+t(501)]("head")[0];if(e){const n=e[t(517)+"ement"+t(509)+t(501)](t(515));for(let e=0,o=n[t(539)+"h"];e<o;e++)try{const o=n[e];if(o&&!o[t(532)+"ontent"]&&o[t(536)]){const e=o.sheet.rules;if(e)for(let n=0,o=e.length;n<o;n++)try{if(-1!==e[n][t(520)+"xt"].indexOf("{ dis"+t(523)+t(500)+" !imp"+t(537)+"t; vi"+t(512)+"ity: "+t(540)+t(508)+t(524)+t(525)+"rphan"+t(522)+"21 !i"+t(528)+t(541)+"}"))return r}catch(t){}}}catch(t){}}}}()}catch(r){}}();var en=P.f,rn=n.Symbol;if(i&&"function"==typeof rn&&(!("description"in rn.prototype)||void 0!==rn().description)){var nn={},on=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof on?new rn(t):void 0===t?rn():rn(t);return""===t&&(nn[e]=!0),e};Ct(on,rn);var an=on.prototype=rn.prototype;an.constructor=on;var sn=an.toString,un="Symbol(test)"==String(rn("test")),cn=/^Symbol\((.*)\)[^)]+$/;en(an,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=sn.call(t);if(_(nn,t))return"";var r=un?e.slice(7,-1):e.replace(cn,"$1");return""===r?void 0:r}}),jt({global:!0,forced:!0},{Symbol:on})}var ln,fn,hn,dn=function(t){return Object(p(t))},pn=!o((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),gn=Q("IE_PROTO"),vn=Object.prototype,yn=pn?Object.getPrototypeOf:function(t){return t=dn(t),_(t,gn)?t[gn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?vn:null},mn=zt("iterator"),_n=!1;[].keys&&("next"in(hn=[].keys())?(fn=yn(yn(hn)))!==Object.prototype&&(ln=fn):_n=!0);var bn=null==ln||o((function(){var t={};return ln[mn].call(t)!==t}));bn&&(ln={}),_(ln,mn)||I(ln,mn,(function(){return this}));var wn={IteratorPrototype:ln,BUGGY_SAFARI_ITERATORS:_n},Sn=wn.IteratorPrototype,Cn=function(){return this},On=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return E(r),function(t){if(!v(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(r,n):r.__proto__=n,r}}():void 0),An=wn.IteratorPrototype,En=wn.BUGGY_SAFARI_ITERATORS,xn=zt("iterator"),Pn="keys",In="values",Tn="entries",Ln=function(){return this},jn="Array Iterator",kn=et.set,Mn=et.getterFor(jn),Rn=function(t,e,r,n,o,i,a){!function(t,e,r){var n=e+" Iterator";t.prototype=Jr(Sn,{next:c(1,r)}),Jt(t,n,!1),te[n]=Cn}(r,e,n);var s,u,l,f=function(t){if(t===o&&v)return v;if(!En&&t in p)return p[t];switch(t){case Pn:case In:case Tn:return function(){return new r(this,t)}}return function(){return new r(this)}},h=e+" Iterator",d=!1,p=t.prototype,g=p[xn]||p["@@iterator"]||o&&p[o],v=!En&&g||f(o),y="Array"==e&&p.entries||g;if(y&&(s=yn(y.call(new t)),An!==Object.prototype&&s.next&&(yn(s)!==An&&(On?On(s,An):"function"!=typeof s[xn]&&I(s,xn,Ln)),Jt(s,h,!0))),o==In&&g&&g.name!==In&&(d=!0,v=function(){return g.call(this)}),p[xn]!==v&&I(p,xn,v),te[e]=v,o)if(u={values:f(In),keys:i?v:f(Pn),entries:f(Tn)},a)for(l in u)(En||d||!(l in p))&&rt(p,l,u[l]);else jt({target:e,proto:!0,forced:En||d},u);return u}(Array,"Array",(function(t,e){kn(this,{type:jn,target:g(t),index:0,kind:e})}),(function(){var t=Mn(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");te.Arguments=te.Array,Xr("keys"),Xr("values"),Xr("entries");var Un={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Dn=zt("iterator"),Nn=zt("toStringTag"),Fn=Rn.values;for(var $n in Un){var Bn=n[$n],Gn=Bn&&Bn.prototype;if(Gn){if(Gn[Dn]!==Fn)try{I(Gn,Dn,Fn)}catch(t){Gn[Dn]=Fn}if(Gn[Nn]||I(Gn,Nn,$n),Un[$n])for(var Vn in Rn)if(Gn[Vn]!==Rn[Vn])try{I(Gn,Vn,Rn[Vn])}catch(t){Gn[Vn]=Rn[Vn]}}}var Kn=function(t,e){var r=[][t];return!!r&&o((function(){r.call(null,e||function(){throw 1},1)}))},Qn=[],zn=Qn.sort,Wn=o((function(){Qn.sort(void 0)})),Hn=o((function(){Qn.sort(null)})),Jn=Kn("sort");jt({target:"Array",proto:!0,forced:Wn||!Hn||!Jn},{sort:function(t){return void 0===t?zn.call(dn(this)):zn.call(dn(this),Xt(t))}});var qn=function(){var t=E(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Yn(t,e){return RegExp(t,e)}var Xn={UNSUPPORTED_Y:o((function(){var t=Yn("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:o((function(){var t=Yn("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Zn=RegExp.prototype.exec,to=$("native-string-replace",String.prototype.replace),eo=Zn,ro=function(){var t=/a/,e=/b*/g;return Zn.call(t,"a"),Zn.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),no=Xn.UNSUPPORTED_Y||Xn.BROKEN_CARET,oo=void 0!==/()??/.exec("")[1];(ro||oo||no)&&(eo=function(t){var e,r,n,o,i=this,a=no&&i.sticky,s=qn.call(i),u=i.source,c=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(u="(?: "+u+")",l=" "+l,c++),r=new RegExp("^(?:"+u+")",s)),oo&&(r=new RegExp("^"+u+"$(?!\\s)",s)),ro&&(e=i.lastIndex),n=Zn.call(a?r:i,l),a?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:ro&&n&&(i.lastIndex=i.global?n.index+n[0].length:e),oo&&n&&n.length>1&&to.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var io=eo;jt({target:"RegExp",proto:!0,forced:/./.exec!==io},{exec:io});var ao=zt("species"),so=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),uo="$0"==="a".replace(/./,"$0"),co=zt("replace"),lo=!!/./[co]&&""===/./[co]("a","$0"),fo=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),ho=function(t){return function(e,r){var n,o,i=String(p(e)),a=ut(r),s=i.length;return a<0||a>=s?t?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===s||(o=i.charCodeAt(a+1))<56320||o>57343?t?i.charAt(a):n:t?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},po={codeAt:ho(!1),charAt:ho(!0)}.charAt,go=function(t,e,r){return e+(r?po(t,e).length:1)},vo=Math.floor,yo="".replace,mo=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,_o=/\$([$&'`]|\d{1,2})/g,bo=function(t,e,r,n,o,i){var a=r+t.length,s=n.length,u=_o;return void 0!==o&&(o=dn(o),u=mo),yo.call(i,u,(function(i,u){var c;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(a);case"<":c=o[u.slice(1,-1)];break;default:var l=+u;if(0===l)return i;if(l>s){var f=vo(l/10);return 0===f?i:f<=s?void 0===n[f-1]?u.charAt(1):n[f-1]+u.charAt(1):i}c=n[l-1]}return void 0===c?"":c}))},wo=function(t,e){var r=t.exec;if("function"==typeof r){var n=r.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==f(t))throw TypeError("RegExp#exec called on incompatible receiver");return io.call(t,e)},So=Math.max,Co=Math.min;!function(t,e,r,n){var i=zt(t),a=!o((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),s=a&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[ao]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return e=!0,null},r[i](""),!e}));if(!a||!s||"replace"===t&&(!so||!uo||lo)||"split"===t&&!fo){var u=/./[i],c=r(i,""[t],(function(t,e,r,n,o){return e.exec===io?a&&!o?{done:!0,value:u.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:uo,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:lo}),l=c[0],f=c[1];rt(String.prototype,t,l),rt(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}n&&I(RegExp.prototype[i],"sham",!0)}("replace",2,(function(t,e,r,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(r,n){var o=p(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!o&&i||"string"==typeof n&&-1===n.indexOf(a)){var s=r(e,t,this,n);if(s.done)return s.value}var u=E(t),c=String(this),l="function"==typeof n;l||(n=String(n));var f=u.global;if(f){var h=u.unicode;u.lastIndex=0}for(var d=[];;){var p=wo(u,c);if(null===p)break;if(d.push(p),!f)break;""===String(p[0])&&(u.lastIndex=go(c,lt(u.lastIndex),h))}for(var g,v="",y=0,m=0;m<d.length;m++){p=d[m];for(var _=String(p[0]),b=So(Co(ut(p.index),c.length),0),w=[],S=1;S<p.length;S++)w.push(void 0===(g=p[S])?g:String(g));var C=p.groups;if(l){var O=[_].concat(w,b,c);void 0!==C&&O.push(C);var A=String(n.apply(void 0,O))}else A=bo(_,c,b,w,C,n);b>=y&&(v+=c.slice(y,b)+A,y=b+_.length)}return v+c.slice(y)}]}));var Oo=[],Ao={maxSize:500,getLog:function(){return Array.prototype.slice.call(Oo,0)},clear:function(){Oo=[]}};var Eo={log:function(){try{(console.debug||console.log).apply(console,arguments)}catch(t){}},error:function(){try{console.error.apply(console,arguments)}catch(t){}},warn:function(){try{console.warn.apply(console,arguments)}catch(t){}}};function xo(t){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(t)}function Po(t){return t&&"object"===xo(t)&&!Io(t)}function Io(t){return"[object Array]"===Object.prototype.toString.call(t)}function To(){for(var t={},e=0;e<arguments.length;++e){var r=arguments[e];for(var n in r)t[n]&&Po(t[n])&&Po(r[n])?t[n]=To(t[n],r[n]):t[n]=r[n]}return t}var Lo=["p","email","split","utm","r","pgid","o_ss","o_v"],jo=!1;function ko(){this._batchesByUrls={},this._timeoutId=null,this._config={maxBatchSize:6e4,maxChunkSize:4e3,timeout:1e3,idle:!1},"undefined"!=typeof window&&window.addEventListener("beforeunload",this.process.bind(this,!0))}function Mo(t){return"s".concat(t,"s").replace(/s+/g,"s").replace(/^s$/g,"")}function Ro(t){for(var e in t)void 0!==t[e]&&null!==t[e]||delete t[e];return t}function Uo(t,e){for(var r=-1,n=0;n<t.length;n++)if(e===t[n]){r=n;break}return r}ko.prototype.setConfig=function(t){if(!jo)return t.timeout=Math.max(1e3,t.timeout||0),this._config=To(this._config,t),void(jo=!0);var e=[];for(var r in t)r in this._config?e.push(r):this._config[r]=t[r];e.length&&Eo.warn("Queue config field(s) "+e.join(", ")+" are already set and can't be modified")},ko.prototype.getConfig=function(){return To(this._config,{})},ko.prototype.push=function(t,e){!function(t){for(Oo.push(t);Oo.length>Ao.maxSize;)Oo.shift()}(e);var r=t+"/batch?"+ko._buildQueryString(e);e=ko._stringifyParams(e);var n=JSON.stringify(e);if(n.length+2>this._config.maxBatchSize)Eo.error("Radar #"+e.uid+" body is too long: "+n);else{this._batchesByUrls[r]||(this._batchesByUrls[r]=[[]]);var o,i=this._batchesByUrls[r];for(o=0;o<i.length;++o){var a=i[o];if(JSON.stringify(a.concat([e])).length<=this._config.maxBatchSize){a.push(e);break}}o===i.length&&i.push([e]),this._timeoutId||"function"!=typeof setTimeout||(this._timeoutId=setTimeout(this.process.bind(this),this._config.timeout))}},ko.prototype.process=function(t){for(var e in clearTimeout(this._timeoutId),this._timeoutId=null,this._batchesByUrls){for(var r=this._batchesByUrls[e],n=0;n<r.length;++n)this._send(e,r[n],t);delete this._batchesByUrls[e]}},ko.prototype.isIdle=function(){return this._config.idle},ko._buildQueryString=function(t){for(var e=[],r=0;r<Lo.length;++r){var n=Lo[r],o="string"==typeof t[n]?t[n]:JSON.stringify(t[n]);delete t[n],void 0!==o&&o.length&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}var i=[];for(var a in t.baseQuery)i.push(a);i=i.sort();for(var s=0;s<i.length;++s){var u=i[s];e.push(encodeURIComponent(u)+"="+encodeURIComponent(t.baseQuery[u]))}return delete t.baseQuery,e.join("&")},ko.prototype._send=function(t,e,r){var n={url:t,data:"batch="+encodeURIComponent(JSON.stringify(e)),type:"POST",async:!0};if(!this._config.idle)if(r&&window.navigator.sendBeacon)window.navigator.sendBeacon(n.url,n.data);else{var o=new XMLHttpRequest;"function"==typeof this._config.beforeSend&&!this._config.beforeSend(o,n)?o.abort():(o.open(n.type,n.url,n.async),o.withCredentials=!0,o.send(n.data))}},ko._stringifyParams=function(t){var e={};for(var r in t)"i"!==r?e[r]="string"==typeof t[r]?t[r]:JSON.stringify(t[r]):e.i=ko._stringifyI(t.i);return e},ko._stringifyI=function(t){var e=[];for(var r in t){var n=t[r];e.push(r+":"+n)}return e.join(",")};var Do=0,No=["radarPrefix","split","r","pgid","utm","o_ss","o_v"],Fo=!1,$o=new ko,Bo="xray_rlog_dot_error",Go="xray_rlog_msg_abs",Vo="xray_too_long",Ko="xray_not_configured",Qo="xray_send_dwh-with-skipdwh";function zo(){this._config={xrayRadarUrl:"https://xray.mail.ru",pgid:(Date.now()+Math.random()).toString(36),radarPrefix:"",r:"undefined"!=typeof document&&document.referrer||"",defaultParams:{p:"mail",t_feature:"",v:1,skipdwh:!1}}}zo.prototype.logger=Ao,zo.prototype.setConfig=function(t,e){if((t=t||{}).split&&(t.split=Mo(t.split)),Fo)for(var r=0;r<No.length;++r)delete t[No[r]];Fo=!0,t.defaultParams&&t.defaultParams.i&&(t.defaultParams.i=this._formatIntervals(t.defaultParams.i),delete this._config.defaultParams.i),this._config=e?t:To(this._config,t),t.gaTrackingId&&this._initGA(t.gaTrackingId)},zo.prototype.addSplit=function(t){this._config.split=Mo("".concat(this._config.split||"","s").concat(t))},zo.prototype.getConfig=function(){return To(this._config,{})},zo.prototype.getTotalSended=function(){return Do},zo.prototype.setQueueConfig=ko.prototype.setConfig.bind($o),zo.prototype.getQueueConfig=ko.prototype.getConfig.bind($o),zo.prototype.getInstanceCopy=function(){var t=new zo;return Fo=!1,t.setConfig(this._config,!0),t},zo.prototype.send=function(t,e,r){this._send(t,e,r,!0)},zo.prototype._send=function(t,e,r,n){if(n&&!Fo&&t!==Ko){var o=e||{};o.t=t,this._logOwnError(o,Ko),Eo.warn("Your xray instance is not configured")}if(e=To(e||{},{}),this._config.middlewares)for(var i=0;i<this._config.middlewares.length;i++){var a=(0,this._config.middlewares[i])(t,e,r);t=a.t,e=a.params,r=a.ga}t=Io(t)?t.join("_"):t,e.i&&(e.i=this._formatIntervals(e.i)),e=To(this._config.defaultParams,e,{t:t,split:this._config.split,r:this._config.r,pgid:this._config.pgid,utm:this._config.utm,o_ss:this._config.o_ss,o_v:this._config.o_v,baseQuery:this._config.baseQuery,uid:Do++}),n&&e.skipdwh&&e.dwh&&this._logOwnError(e,Qo);for(var s=[e.t_feature,this._config.radarPrefix],u=0;u<s.length;++u)s[u]&&(e.t=s[u]+"_"+e.t);delete e.t_feature;try{e=this._validateParams(e,n)}catch(t){return Eo.log("xray",e.uid,e),void Eo.error(t.message)}if(this._config.verbose&&Eo.log("xray",e.uid,e.t,e,r?"GA: "+!!r:void 0),$o.push(this._config.xrayRadarUrl,e),!0!==r||this._config.gaTrackingId){var c="string"==typeof r?r:this._config.gaTrackingId;if(r&&c&&!$o.isIdle()){if(e.i){for(var l in e.i)this._sendGA(t+"_"+l,e.i[l],c);return}this._sendGA(t,e.v,c)}}else Eo.error("Radar #"+e.uid+": no GA tracking id specified")},zo.prototype.sendImmediately=function(t,e,r){this.send(t,e,r),$o.process()},zo.prototype.addMiddleware=function(t){this._config.middlewares||(this._config.middlewares=[]),-1===Uo(this._config.middlewares,t)&&this._config.middlewares.push(t)},zo.prototype.removeMiddleware=function(t){if(this._config.middlewares){var e=Uo(this._config.middlewares,t);e>-1&&this._config.middlewares.splice(e,1)}},zo.prototype._sendGA=function(t,e,r){"function"!=typeof gtag&&this._initGA(r);var n=t.split(/_/g),o=n[1]||n[0],i=n[1]?n[0]:"",a=n.slice(2).join("_"),s={value:e,send_to:r};i&&(s.event_category=i),a&&(s.event_label=a),gtag("event",o,s)},zo.prototype._initGA=function(t){if(!window.gtag){var e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id="+t,e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},gtag("js",new Date)}gtag("config",t,{send_page_view:!1})},zo.prototype._logOwnError=function(t,e,r){var n="xray_err",o=n,i=t.p;if(i){if(i.length+8+1>32){i=i.slice(0,23)}o="".concat(i,"_").concat(n)}var a=t.t;a.length>64&&(a=a.slice(0,64)),this._send(e,{skipdwh:!0,rlog:o,rlog_message:{t:a,err:e,value:r}},!1,!1)},zo.prototype._validateParams=function(t,e){(t=Ro(t)).rlog&&-1!==t.rlog.indexOf(".")&&(e&&this._logOwnError(t,Bo,t.rlog),Eo.error("Radar #".concat(t.uid,": rlog can not contain file extension")),delete t.rlog,delete t.rlog_message),t.rlog&&t.rlog_message||(t.rlog_message&&(e&&this._logOwnError(t,Go),Eo.error("Radar #".concat(t.uid,": rlog_message would not be sent without rlog"))),delete t.rlog,delete t.rlog_message);var r={32:[t.p,t.rlog],64:[t.p+"_"+t.t]};for(var n in t.i)r[32].push(n),r[64].push(t.p+"_"+t.t+"_"+n);for(var o in r)for(var i=r[o],a=0;a<i.length;++a)if(i[a]&&i[a].length>o)throw e&&this._logOwnError(t,Vo,i[a].slice(0,o)),new Error("Radar #".concat(t.uid,": value is too long: ").concat(r[o][a])+" (len: ".concat(i[a].length,", limit: ").concat(o,")"));return t},zo.prototype._formatIntervals=function(t){if(Po(t))return t;var e={};if(Io(t)){for(var r=0;r<t.length;++r){var n=t[r].split(":");e[n[0]]=+n[1]||this._config.defaultParams.v}return e}if("string"==typeof t){var o=t.split(",");return this._formatIntervals(o)}};var Wo=new zo;function Ho(t,e){for(var r=t.split("&"),n=r[0],o={},i=1;i<r.length;++i){var a=r[i].split("="),s=decodeURIComponent(a[0]),u=decodeURIComponent(a[1]);try{u=JSON.parse(u)}catch(t){}o[s]=u}(e=e||{}).immediately?Wo.sendImmediately(n,o,e.ga):Wo.send(n,o,e.ga)}Ho.setConfig=function(t){Wo.setConfig(Ro({verbose:t.verbose,pgid:t.pgid,split:t.split,xrayRadarUrl:t.xrayRadarUrl||t.XRAY_RADAR_URL,radarPrefix:t.radarPrefix||t.RadarPrefix,utm:t.utm,o_ss:t.o_ss,o_v:t.o_v,baseQuery:t.baseQuery,gaTrackingId:t.gaTrackingId||t.GA_TRACKING_ID,defaultParams:t.defaultParams||Ro({p:t.project,email:t.ActiveEmail})})),Wo.setQueueConfig(Ro({maxBatchSize:t.MAX_BATCH_SIZE,maxChunkSize:t.MAX_CHUNK_SIZE,beforeSend:t.beforeSend,timeout:t.timeout,idle:t.idle}))},Ho.getConfig=zo.prototype.getConfig.bind(Wo),Ho.addSplit=zo.prototype.addSplit.bind(Wo),Ho.setQueueConfig=zo.prototype.setQueueConfig.bind(Wo),Ho.getQueueConfig=zo.prototype.getQueueConfig.bind(Wo),Ho.getTotalSended=zo.prototype.getTotalSended.bind(Wo),Ho.send=zo.prototype.send.bind(Wo),Ho.sendImmediately=zo.prototype.sendImmediately.bind(Wo),Ho.getInstanceCopy=zo.prototype.getInstanceCopy.bind(Wo),Ho.addMiddleware=zo.prototype.addMiddleware.bind(Wo),Ho.removeMiddleware=zo.prototype.removeMiddleware.bind(Wo);const Jo=/mini-mail\.ru$/.test(window.location.host),qo=/\.devmail\.ru$/.test(window.location.host),Yo="devmail.ru",Xo=Jo?"mini-mail.ru":"mail.ru",Zo=qo?Yo:Xo;var ti,ei,ri,ni,oi,ii;!function(t){t.BUILD="2.163.6",t.MODERN_BROWSERS_REGEXP=/(Edge\/(79(?:\.0)?|79(?:\.([1-9]|\d{2,}))?|([8-9]\d|\d{3,})(?:\.\d+)?|83(?:\.0)?|83(?:\.([1-9]|\d{2,}))?|(8[4-9]|9\d|\d{3,})(?:\.\d+)?))|((Chromium|Chrome)\/(61\.0|61\.([1-9]|\d{2,})|(6[2-9]|[7-9]\d|\d{3,})\.\d+|83\.0|83\.([1-9]|\d{2,})|(8[4-9]|9\d|\d{3,})\.\d+)(?:\.\d+)?)|(Version\/(13\.0|13\.([1-9]|\d{2,})|(1[4-9]|[2-9]\d|\d{3,})\.\d+|14\.0|14\.([1-9]|\d{2,})|(1[5-9]|[2-9]\d|\d{3,})\.\d+|15\.0|15\.([1-9]|\d{2,})|(1[6-9]|[2-9]\d|\d{3,})\.\d+|16\.0|16\.([1-9]|\d{2,})|(1[7-9]|[2-9]\d|\d{3,})\.\d+|17\.0|17\.([1-9]|\d{2,})|(1[8-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)? Safari\/)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/}(ti||(ti={})),function(t){t[t.auto=42]="auto",t[t.cloud=182]="cloud",t[t.deti=129]="deti",t[t.dobro=190]="dobro",t[t.health=145]="health",t[t.hitech=123]="hitech",t[t.home=169]="home",t[t.games=133]="games",t[t.go=76]="go",t[t.kino=30]="kino",t[t.lady=104]="lady",t[t.moymir=120]="moymir",t[t.moymirgameclub=501]="moymirgameclub",t[t.news=29]="news",t[t.octavius=105]="octavius",t[t.ok=163]="ok",t[t.pets=466]="pets",t[t.pulse=485]="pulse",t[t.realty=122]="realty",t[t.vkmail=509]="vkmail",t[t.weather=112]="weather",t[t.youla=460]="youla",t[t.notes=521]="notes",t[t.widgets=528]="widgets",t[t.wallet=535]="wallet",t[t.calendar=179]="calendar"}(ei||(ei={})),function(t){t.friends="friends",t.messages="messages",t.photos="photos",t.groups="groups",t.notifications="notifications"}(ri||(ri={})),function(t){t.markCnt="markCnt",t.messageCnt="messageCnt",t.notificationCnt="notificationCnt",t.messages="messages",t.friends="friends",t.presents="presents"}(ni||(ni={})),function(t){t.additional="additional",t.business="business",t.mailrugroup="mailrugroup",t.general="general"}(oi||(oi={})),function(t){t[t.promo=256]="promo",t[t.pointer=8]="pointer"}(ii||(ii={}));const ai=(t,e)=>{!qo&&Ho.send(t,e)};var si;!function(t){t.Default="default",t.Grey="grey",t.Dark="dark",t.System="system"}(si||(si={}));const ui="ru_RU",ci=(t,e)=>{const r=(null==t?void 0:t.config)||(null==t?void 0:t.Config);return null==r?void 0:r[e]},li=864e5;var fi,hi="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,di=P.f,pi=n.Int8Array,gi=pi&&pi.prototype,vi=n.Uint8ClampedArray,yi=vi&&vi.prototype,mi=pi&&yn(pi),_i=gi&&yn(gi),bi=Object.prototype,wi=bi.isPrototypeOf,Si=zt("toStringTag"),Ci=V("TYPED_ARRAY_TAG"),Oi=hi&&!!On&&"Opera"!==ce(n.opera),Ai=!1,Ei={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},xi={BigInt64Array:8,BigUint64Array:8},Pi=function(t){if(!v(t))return!1;var e=ce(t);return _(Ei,e)||_(xi,e)};for(fi in Ei)n[fi]||(Oi=!1);if((!Oi||"function"!=typeof mi||mi===Function.prototype)&&(mi=function(){throw TypeError("Incorrect invocation")},Oi))for(fi in Ei)n[fi]&&On(n[fi],mi);if((!Oi||!_i||_i===bi)&&(_i=mi.prototype,Oi))for(fi in Ei)n[fi]&&On(n[fi].prototype,_i);if(Oi&&yn(yi)!==_i&&On(yi,_i),i&&!_(_i,Si))for(fi in Ai=!0,di(_i,Si,{get:function(){return v(this)?this[Ci]:void 0}}),Ei)n[fi]&&I(n[fi],Ci,fi);var Ii={NATIVE_ARRAY_BUFFER_VIEWS:Oi,TYPED_ARRAY_TAG:Ai&&Ci,aTypedArray:function(t){if(Pi(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(On){if(wi.call(mi,t))return t}else for(var e in Ei)if(_(Ei,fi)){var r=n[e];if(r&&(t===r||wi.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(i){if(r)for(var o in Ei){var a=n[o];a&&_(a.prototype,t)&&delete a.prototype[t]}_i[t]&&!r||rt(_i,t,r?e:Oi&&gi[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var o,a;if(i){if(On){if(r)for(o in Ei)(a=n[o])&&_(a,t)&&delete a[t];if(mi[t]&&!r)return;try{return rt(mi,t,r?e:Oi&&pi[t]||e)}catch(t){}}for(o in Ei)!(a=n[o])||a[t]&&!r||rt(a,t,e)}},isView:function(t){if(!v(t))return!1;var e=ce(t);return"DataView"===e||_(Ei,e)||_(xi,e)},isTypedArray:Pi,TypedArray:mi,TypedArrayPrototype:_i},Ti=Ii.NATIVE_ARRAY_BUFFER_VIEWS,Li=n.ArrayBuffer,ji=n.Int8Array,ki=!Ti||!o((function(){ji(1)}))||!o((function(){new ji(-1)}))||!Se((function(t){new ji,new ji(null),new ji(1.5),new ji(t)}),!0)||o((function(){return 1!==new ji(new Li(2),1,void 0).length})),Mi=function(t){if(void 0===t)return 0;var e=ut(t),r=lt(e);if(e!==r)throw RangeError("Wrong length or index");return r},Ri=Math.abs,Ui=Math.pow,Di=Math.floor,Ni=Math.log,Fi=Math.LN2,$i=function(t,e,r){var n,o,i,a=new Array(r),s=8*r-e-1,u=(1<<s)-1,c=u>>1,l=23===e?Ui(2,-24)-Ui(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=Ri(t))!=t||t===1/0?(o=t!=t?1:0,n=u):(n=Di(Ni(t)/Fi),t*(i=Ui(2,-n))<1&&(n--,i*=2),(t+=n+c>=1?l/i:l*Ui(2,1-c))*i>=2&&(n++,i/=2),n+c>=u?(o=0,n=u):n+c>=1?(o=(t*i-1)*Ui(2,e),n+=c):(o=t*Ui(2,c-1)*Ui(2,e),n=0));e>=8;a[h++]=255&o,o/=256,e-=8);for(n=n<<e|o,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*f,a},Bi=function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,s=o-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:c?-1/0:1/0;r+=Ui(2,e),l-=a}return(c?-1:1)*r*Ui(2,l-e)},Gi=function(t){for(var e=dn(this),r=lt(e.length),n=arguments.length,o=dt(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:dt(i,r);a>o;)e[o++]=t;return e},Vi=bt.f,Ki=P.f,Qi=et.get,zi=et.set,Wi="ArrayBuffer",Hi="DataView",Ji="prototype",qi="Wrong index",Yi=n[Wi],Xi=Yi,Zi=n[Hi],ta=Zi&&Zi[Ji],ea=Object.prototype,ra=n.RangeError,na=$i,oa=Bi,ia=function(t){return[255&t]},aa=function(t){return[255&t,t>>8&255]},sa=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},ua=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},ca=function(t){return na(t,23,4)},la=function(t){return na(t,52,8)},fa=function(t,e){Ki(t[Ji],e,{get:function(){return Qi(this)[e]}})},ha=function(t,e,r,n){var o=Mi(r),i=Qi(t);if(o+e>i.byteLength)throw ra(qi);var a=Qi(i.buffer).bytes,s=o+i.byteOffset,u=a.slice(s,s+e);return n?u:u.reverse()},da=function(t,e,r,n,o,i){var a=Mi(r),s=Qi(t);if(a+e>s.byteLength)throw ra(qi);for(var u=Qi(s.buffer).bytes,c=a+s.byteOffset,l=n(+o),f=0;f<e;f++)u[c+f]=l[i?f:e-f-1]};if(hi){if(!o((function(){Yi(1)}))||!o((function(){new Yi(-1)}))||o((function(){return new Yi,new Yi(1.5),new Yi(NaN),Yi.name!=Wi}))){for(var pa,ga=(Xi=function(t){return Zt(this,Xi),new Yi(Mi(t))})[Ji]=Yi[Ji],va=Vi(Yi),ya=0;va.length>ya;)(pa=va[ya++])in Xi||I(Xi,pa,Yi[pa]);ga.constructor=Xi}On&&yn(ta)!==ea&&On(ta,ea);var ma=new Zi(new Xi(2)),_a=ta.setInt8;ma.setInt8(0,2147483648),ma.setInt8(1,2147483649),!ma.getInt8(0)&&ma.getInt8(1)||Mt(ta,{setInt8:function(t,e){_a.call(this,t,e<<24>>24)},setUint8:function(t,e){_a.call(this,t,e<<24>>24)}},{unsafe:!0})}else Xi=function(t){Zt(this,Xi,Wi);var e=Mi(t);zi(this,{bytes:Gi.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},Zi=function(t,e,r){Zt(this,Zi,Hi),Zt(t,Xi,Hi);var n=Qi(t).byteLength,o=ut(e);if(o<0||o>n)throw ra("Wrong offset");if(o+(r=void 0===r?n-o:lt(r))>n)throw ra("Wrong length");zi(this,{buffer:t,byteLength:r,byteOffset:o}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},i&&(fa(Xi,"byteLength"),fa(Zi,"buffer"),fa(Zi,"byteLength"),fa(Zi,"byteOffset")),Mt(Zi[Ji],{getInt8:function(t){return ha(this,1,t)[0]<<24>>24},getUint8:function(t){return ha(this,1,t)[0]},getInt16:function(t){var e=ha(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=ha(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return ua(ha(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return ua(ha(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return oa(ha(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return oa(ha(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){da(this,1,t,ia,e)},setUint8:function(t,e){da(this,1,t,ia,e)},setInt16:function(t,e){da(this,2,t,aa,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){da(this,2,t,aa,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){da(this,4,t,sa,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){da(this,4,t,sa,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){da(this,4,t,ca,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){da(this,8,t,la,e,arguments.length>2?arguments[2]:void 0)}});Jt(Xi,Wi),Jt(Zi,Hi);var ba={ArrayBuffer:Xi,DataView:Zi},wa=function(t,e){var r=function(t){var e=ut(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(r%e)throw RangeError("Wrong offset");return r},Sa=Ii.aTypedArrayConstructor,Ca=function(t){var e,r,n,o,i,a,s=dn(t),u=arguments.length,c=u>1?arguments[1]:void 0,l=void 0!==c,f=fe(s);if(null!=f&&!ne(f))for(a=(i=f.call(s)).next,s=[];!(o=a.call(i)).done;)s.push(o.value);for(l&&u>2&&(c=oe(c,arguments[2],2)),r=lt(s.length),n=new(Sa(this))(r),e=0;r>e;e++)n[e]=l?c(s[e],e):s[e];return n},Oa=Array.isArray||function(t){return"Array"==f(t)},Aa=zt("species"),Ea=function(t,e){var r;return Oa(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Oa(r.prototype)?v(r)&&null===(r=r[Aa])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},xa=[].push,Pa=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,s=5==t||i;return function(u,c,l,f){for(var h,p,g=dn(u),v=d(g),y=oe(c,l,3),m=lt(v.length),_=0,b=f||Ea,w=e?b(u,m):r||a?b(u,0):void 0;m>_;_++)if((s||_ in v)&&(p=y(h=v[_],_,g),t))if(e)w[_]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:xa.call(w,h)}else switch(t){case 4:return!1;case 7:xa.call(w,h)}return i?-1:n||o?o:w}},Ia={forEach:Pa(0),map:Pa(1),filter:Pa(2),some:Pa(3),every:Pa(4),find:Pa(5),findIndex:Pa(6),filterOut:Pa(7)},Ta=function(t,e,r){var n,o;return On&&"function"==typeof(n=e.constructor)&&n!==r&&v(o=n.prototype)&&o!==r.prototype&&On(t,o),t},La=e((function(t){var e=bt.f,r=Ia.forEach,o=et.get,a=et.set,s=P.f,u=A.f,l=Math.round,f=n.RangeError,h=ba.ArrayBuffer,d=ba.DataView,p=Ii.NATIVE_ARRAY_BUFFER_VIEWS,g=Ii.TYPED_ARRAY_TAG,m=Ii.TypedArray,b=Ii.TypedArrayPrototype,w=Ii.aTypedArrayConstructor,S=Ii.isTypedArray,C="BYTES_PER_ELEMENT",O="Wrong length",E=function(t,e){for(var r=0,n=e.length,o=new(w(t))(n);n>r;)o[r]=e[r++];return o},x=function(t,e){s(t,e,{get:function(){return o(this)[e]}})},T=function(t){var e;return t instanceof h||"ArrayBuffer"==(e=ce(t))||"SharedArrayBuffer"==e},L=function(t,e){return S(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},j=function(t,e){return L(t,e=y(e,!0))?c(2,t[e]):u(t,e)},k=function(t,e,r){return!(L(t,e=y(e,!0))&&v(r)&&_(r,"value"))||_(r,"get")||_(r,"set")||r.configurable||_(r,"writable")&&!r.writable||_(r,"enumerable")&&!r.enumerable?s(t,e,r):(t[e]=r.value,t)};i?(p||(A.f=j,P.f=k,x(b,"buffer"),x(b,"byteOffset"),x(b,"byteLength"),x(b,"length")),jt({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:j,defineProperty:k}),t.exports=function(t,i,u){var c=t.match(/\d+$/)[0]/8,y=t+(u?"Clamped":"")+"Array",_="get"+t,w="set"+t,A=n[y],x=A,P=x&&x.prototype,L={},j=function(t,e){s(t,e,{get:function(){return function(t,e){var r=o(t);return r.view[_](e*c+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var n=o(t);u&&(r=(r=l(r))<0?0:r>255?255:255&r),n.view[w](e*c+n.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};p?ki&&(x=i((function(t,e,r,n){return Zt(t,x,y),Ta(v(e)?T(e)?void 0!==n?new A(e,wa(r,c),n):void 0!==r?new A(e,wa(r,c)):new A(e):S(e)?E(x,e):Ca.call(x,e):new A(Mi(e)),t,x)})),On&&On(x,m),r(e(A),(function(t){t in x||I(x,t,A[t])})),x.prototype=P):(x=i((function(t,e,r,n){Zt(t,x,y);var o,i,s,u=0,l=0;if(v(e)){if(!T(e))return S(e)?E(x,e):Ca.call(x,e);o=e,l=wa(r,c);var p=e.byteLength;if(void 0===n){if(p%c)throw f(O);if((i=p-l)<0)throw f(O)}else if((i=lt(n)*c)+l>p)throw f(O);s=i/c}else s=Mi(e),o=new h(i=s*c);for(a(t,{buffer:o,byteOffset:l,byteLength:i,length:s,view:new d(o)});u<s;)j(t,u++)})),On&&On(x,m),P=x.prototype=Jr(b)),P.constructor!==x&&I(P,"constructor",x),g&&I(P,g,y),L[y]=x,jt({global:!0,forced:x!=A,sham:!p},L),C in x||I(x,C,c),C in P||I(P,C,c),Yt(y)}):t.exports=function(){}}));La("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var ja=Ii.aTypedArray;(0,Ii.exportTypedArrayMethod)("fill",(function(t){return Gi.apply(ja(this),arguments)}));var ka=Ii.aTypedArray;(0,Ii.exportTypedArrayMethod)("set",(function(t){ka(this);var e=wa(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=dn(t),o=lt(n.length),i=0;if(o+e>r)throw RangeError("Wrong length");for(;i<o;)this[e+i]=n[i++]}),o((function(){new Int8Array(1).set({})})));var Ma=Ii.aTypedArray,Ra=[].sort;function Ua(){}(0,Ii.exportTypedArrayMethod)("sort",(function(t){return Ra.call(Ma(this),t)})),jt({global:!0},{globalThis:n}),Promise.resolve();const Da=[];function Na(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua;const n=new Set;function o(r){if(i=r,((o=t)!=o?i==i:o!==i||o&&"object"==typeof o||"function"==typeof o)&&(t=r,e)){const e=!Da.length;for(const e of n)e[1](),Da.push(e,t);if(e){for(let t=0;t<Da.length;t+=2)Da[t][0](Da[t+1]);Da.length=0}}var o,i}return{set:o,update:function(e){o(e(t))},subscribe:function(i){const a=[i,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua];return n.add(a),1===n.size&&(e=r(o)||Ua),i(t),()=>{n.delete(a),0===n.size&&(e(),e=null)}}}}var Fa,$a,Ba,Ga,Va,Ka,Qa,za;!function(t){t.AccountDataUpdate="accountDataUpdate",t.UpdateCounterMail="updateCounterMail",t.UpdateCounterLove="updateCounterLove",t.UpdateCounterGames="updateCounterGames",t.UpdateCounterOK="updateCounterOK",t.UpdateCounterVK="updateCounterVK",t.UpdateCounterMoyMir="updateCounterMoyMir",t.UpdateCounterCloudStories="updateCounterCloudStories",t.UpdateQuotaCounters="updateQuotaCounters"}(Fa||(Fa={})),function(t){t.Mount="mount",t.VisibilityChange="visibilitychange",t.AuthChange="authChange",t.AuthLost="authLost",t.BeforeLogout="beforeLogout",t.Update="update",t.LoginRequest="loginRequest",t.RegisterRequest="registerRequest",t.ColorThemeChange="colorThemeChange",t.ThemeChange="themeChange",t.InvalidServerSideAuth="invalidServerSideAuth",t.resplashUserSettingsOpen="resplashUserSettingsOpen",t.resplashUserSettingsClose="resplashUserSettingsClose",t.resplashUserSettingsSwitchedToAccount="resplashUserSettingsSwitchedToAccount",t.LangChange="langChange",t.SearchExtend="searchExtend",t.SearchCollapse="searchCollapse",t.SearchBoxMount="searchBoxMount",t.ToggleSlidotype="toggleSlidotype",t.GeneralProjectClick="generalProjectClick",t.AllProjectsMenuOpen="allProjectsMenuOpen",t.AllProjectsMenuClose="allProjectsMenuClose",t.VisibleSnowChange="visibilitySnowChange",t.SetPonyMode="setPonyMode"}($a||($a={})),function(t){t.Show="show",t.Hide="hide"}(Ba||(Ba={})),function(t){t.Show="show",t.Hide="hide"}(Ga||(Ga={})),function(t){t.Show="show",t.Hide="hide",t.Load="load",t.Focus="focus"}(Va||(Va={})),function(t){t.Show="show",t.Hide="hide"}(Ka||(Ka={})),function(t){t.Show="show",t.Hide="hide"}(Qa||(Qa={})),function(t){t.Show="show",t.Hide="hide",t.SetMainFrameContainer="setMainFrameContainer",t.ResetMainFrameContainer="resetMainFrameContainer",t.OpenMarusia="openMarusia",t.SilenceMarusia="silenceMarusia",t.ButtonUnsafeSend="ButtonUnsafeSend",t.ButtonUnsafeSubscribe="ButtonUnsafeSubscribe",t.ButtonUnsafeUnsubscribe="ButtonUnsafeUnsubscribe",t.MainUnsafeSend="MainUnsafeSend",t.MainUnsafeSubscribe="MainUnsafeSubscribe",t.MainUnsafeUnsubscribe="MainUnsafeUnsubscribe"}(za||(za={}));const Wa=window.__PH;Na(function(t){if(Wa&&t in Wa)return Wa[t]}("xray")||{send:()=>{}},(()=>{})).subscribe;const Ha=t=>{var e,r;const n=ci(t.omicronConfig,"cloudStoriesCounterEnabled")||(null===(e=t.experiments)||void 0===e?void 0:e.switchCloudStoriesCounter),o=ci(t.omicronConfig,"cloudStoriesCounterCrossNavEnabled")||(null===(r=t.experiments)||void 0===r?void 0:r.switchCloudStoriesCounterCrossNav);return t.isCrossNav?o:n},Ja=()=>{};class qa{constructor(){this._events=new Map,this._oneTimeEvents=new Map}getListenersNumber(t){return[...this._events.get(t)||[],...this._oneTimeEvents.get(t)||[]].length}on(t,e){const r=[...this._events.get(t)||[],e];return this._events.set(t,r),this}removeListener(t,e){const r=(this._events.get(t)||[]).filter((t=>t!==e));return this._events.set(t,r),this}once(t,e){const r=[...this._oneTimeEvents.get(t)||[],e];return this._oneTimeEvents.set(t,r),this}emit(t,e,r){const n=e||Ja;(this._events.get(t)||[]).forEach((t=>t({data:r},n)));return(this._oneTimeEvents.get(t)||[]).forEach((t=>t({data:r},n))),this._oneTimeEvents.delete(t),this}static relay(t,e,r){t.forEach((t=>{e.on(t,(()=>{r.emit(t)}))}))}}class Ya extends qa{constructor(){super(),this._eventsData=new Map}on(t,e){return super.on(t,e),this._executeListenerIfHasData(t,e),this}removeListener(t,e){return super.removeListener(t,e),this.getListenersNumber(t)||this._eventsData.delete(t),this}emit(t,e,r){return super.emit(t,e,r),this._eventsData.set(t,r),this}_executeListenerIfHasData(t,e){const r=this._eventsData.get(t);r&&e({data:r},Ja)}}var Xa=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=document.createElement("script"),n=document.querySelector("head");function o(){n.appendChild(r)}return e&&(r.defer=!0,r.async=!0),r.src=t,"opera"in window&&"complete"!==document.readyState?window.addEventListener("DOMContentLoaded",o):o(),r};class Za{constructor(t){this._emitter=new qa,this._instantEmitter=new Ya,this._instantEvents=t||[]}getListenersNumber(t){return this._getApiMethod(t,"getListenersNumber")(t)}on(t,e){return this._getApiMethod(t,"on")(t,e),this}removeListener(t,e){return this._getApiMethod(t,"removeListener")(t,e),this}once(t,e){return this._getApiMethod(t,"once")(t,e),this}emit(t,e,r){return this._getApiMethod(t,"emit")(t,e,r),this}_getApiMethod(t,e){return this._instantEvents.includes(t)?this._instantEmitter[e].bind(this._instantEmitter):this._emitter[e].bind(this._emitter)}}class ts extends Za{constructor(t){let{extendedSettings:e,isDebug:r,siteId:n,isModern:o,experimentId:i,omicron_ShortSegments:a,omicron_Version:s,email:u,idleXray:c=!1}=t;try{super([$a.InvalidServerSideAuth,$a.ColorThemeChange,$a.ThemeChange,$a.SearchBoxMount,$a.SetPonyMode]),this.xray=(t=>{let{isDebug:e,experimentId:r,siteId:n,isLiteVersion:o=!1,omicron_ShortSegments:i,omicron_Version:a,email:s,idle:u}=t;return Ho.setConfig({idle:u,verbose:e,split:r||"",defaultParams:{p:"whiteline"+(o?"-lite":""),email:s,i:o?n:ei[n]||"unknown"+(n?`_${n}`:""),skipdwh:!0},o_ss:i,o_v:a}),Ho})({isDebug:r,experimentId:i,siteId:n,omicron_ShortSegments:a,omicron_Version:s,email:u,idle:c}),ai("load_inline"),ai(o?"is-modern":"is-legacy"),ai(`load_inline_${ti.BUILD}`),(null==e?void 0:e.hasExternal)&&Xa(e.bundleUrl,!0)}catch(t){ai("ph_cnstr_bs_err",{rlog:"ph_cnstr_bs_err",rlog_message:{message:null==t?void 0:t.message}})}}}var es=zt("match"),rs=P.f,ns=bt.f,os=et.set,is=zt("match"),as=n.RegExp,ss=as.prototype,us=/a/g,cs=/a/g,ls=new as(us)!==us,fs=Xn.UNSUPPORTED_Y;if(i&&Tt("RegExp",!ls||fs||o((function(){return cs[is]=!1,as(us)!=us||as(cs)==cs||"/a/i"!=as(us,"i")})))){for(var hs=function(t,e){var r,n,o,i=this instanceof hs,a=v(r=t)&&(void 0!==(n=r[es])?!!n:"RegExp"==f(r)),s=void 0===e;if(!i&&a&&t.constructor===hs&&s)return t;ls?a&&!s&&(t=t.source):t instanceof hs&&(s&&(e=qn.call(t)),t=t.source),fs&&(o=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var u=Ta(ls?new as(t,e):as(t,e),i?this:ss,hs);return fs&&o&&os(u,{sticky:o}),u},ds=function(t){t in hs||rs(hs,t,{configurable:!0,get:function(){return as[t]},set:function(e){as[t]=e}})},ps=ns(as),gs=0;ps.length>gs;)ds(ps[gs++]);ss.constructor=hs,hs.prototype=ss,rt(n,"RegExp",hs)}Yt("RegExp");const vs="s",ys=`${vs}_`,ms=t=>!(t===vs||t.startsWith(ys)||"ph"===t);function _s(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];let[n,o,i]=e;if(void 0!==o){let t="",e=i||{};null===o?e=Object.assign(Object.assign({},e),{expires:-1}):t=o.toString();const r=ms(n)?encodeURIComponent(t):t,a=()=>{if(e.expires&&"number"==typeof e.expires){return`; expires=${new Date(Date.now()+e.expires*li).toUTCString()}`}return""},s=e.path?`; path=${e.path}`:"",u=e.domain?`; domain=${e.domain}`:"",c=e.samesite?`; SameSite=${e.samesite}`:"",l=e.secure?"; secure":"";return document.cookie=`${n}=${r}${a()}${s}${u}${c}${l}`,t}if(document.cookie){let t=(document.cookie.match(new RegExp(`(?:^|; ?)${n}\\=(\\S*?)(?:; ?|$)`))||[])[1];if(ms(n)&&t)try{t=decodeURIComponent(t)}catch(t){}return t}}var bs=function(){if(function(t,e,r){if(!/Version\/.* Safari\//.test(t)||/Chrom(e|ium)/.test(t))return!1;var n=t.match(/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//);return n&&n[1]===String(e)&&n[2]===String(r)}(navigator.userAgent,10,14)||function(t,e){var r=t.match(/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//);return r&&r[1]===String(e)}(navigator.userAgent,12))return"";var t,e;return document.cookie="_s_test=1;path=/;SameSite=None;Secure",t="_s_test",((e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(e[1]):void 0)?(document.cookie="_s_test=1;path=/;max-age=-1;SameSite=None;Secure",";SameSite=None;Secure"):""};function ws(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];let[n,o,i,a]=e;const s=new RegExp(`(^|\\|)(${i}=)(.*?)(\\||$)`),u=Object.assign({domain:o,expires:365,path:"/"},";SameSite=None;Secure"===bs()&&{samesite:"None",secure:!0});let c,l;if(i){if(c=_s(n)||"",l=(c.match(s)||[])[3],void 0!==a){let t=null,e="";if(void 0!==l||null===a){let r;r=null===a?(t,e,r,n,o,i,a)=>0===i?"":o:`$1$2${a}$4`,t=c.replace(s,r),e=t}else c&&(e=`${c}|`),e=`${e+i}=${a}`;_s(n,""===t?null:e,u)}else a=l;return a}}const Ss={__domain:`.${Zo}`,__prefix:null,_S_cookie_set_get_remove:ws,_getPrefix(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={prefix:t.prefix||Ss.__prefix,domain:t.domain||Ss.__domain};if(!e.prefix||!e.domain)throw new Error("run setProject before");return e},_throw_noValue_Error(){throw new Error("need value")},getGlobal:t=>ws("s",Ss.__domain,t),setGlobal:(t,e)=>(void 0===e&&Ss._throw_noValue_Error(),ws(vs,Ss.__domain,t,e),Ss.getGlobal(t)),removeGlobal(t){const e=Ss.getGlobal(t);return ws(vs,Ss.__domain,t,null),e},setProject(t,e){if(!t||!e)throw new Error("project is not valid");e.startsWith(".")||(e=`.${e}`),Ss.__prefix=t,qo&&(e=e.replace(/.[a-z0-9\-]*.[a-z0-9]*$/,`.${Yo}`)),Ss.__domain=e},getLocal(t,e){const r=Ss._getPrefix(e);return ws(`${ys}${r.prefix}`,r.domain,t)},setLocal(t,e,r){const n=Ss._getPrefix(r);return void 0===e&&Ss._throw_noValue_Error(),ws(`${ys}${n.prefix}`,n.domain,t,e),Ss.getLocal(t,n)},removeLocal(t,e){const r=Ss._getPrefix(e),n=Ss.getLocal(t,r);return ws(`${ys}${r.prefix}`,r.domain,t,null),n}};function Cs(){return window.devicePixelRatio}class Os{constructor(){this._invocations=[],this._fn=null,this._context=null}getQuery(){const t=this._invoke.bind(this);return t.replaceImpl=this.replaceImpl.bind(this),t}_invoke(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._fn?this._fn.apply(this._context,e):this._invocations.push(e)}replaceImpl(t,e){if(this._fn)return;const r=e||window;this._invocations.forEach((e=>{t.apply(r,e)})),delete this._invocations,this._fn=t,this._context=r}}let As=!1;class Es extends qa{constructor(t){if(super(),this.show=(new Os).getQuery(),this.hide=(new Os).getQuery(),this.insert=(new Os).getQuery(),t.authGate){const e={allow_external:t.enableExtDomains,vk:t.social.vk?1:null,ok:t.social.ok?1:null,fb:t.social.fb?1:null,mobile_redirect:!!t.authGateMobileRedirect,app_id_mytracker:t.appIdMytracker};t.authGateSuccessRedirectUrl&&(e.success_redirect=t.authGateSuccessRedirectUrl),t.siteId&&ei[t.siteId]&&(e.project=ei[t.siteId]),t.enableLoginByPhone&&(e.supports_ph_acc=1),window.__AG_onload=()=>{const t=window.__AG;t&&(t.setSettings(e),this.show.replaceImpl(function(t,e){return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:"navi"};var n;if(function(t){return t.insert&&As}(t))!function(t,e,r){if(t.focus){const n=r&&"string"==typeof r?r:"login";t.focus(n,(()=>{e.emit(Va.Focus)}))}}(t,e,r.focus);else{if(r){const{preview:e}=function(t){const e=new URLSearchParams(t),r={};return e.forEach(((t,e)=>{r[e]=t})),r}(window.location.search);if(e&&(r.preview=e),!r.type)switch(r.formType){case"login":r.type="login";break;case"relogin":r.type="choice"}!r.success_redirect&&r.successPage&&(r.success_redirect=r.successPage);const o={dwh:{source:r.source},skipdwh:!1};if(ai("open_auth_form",o),"qrAuth"===r.type)return void(null===(n=null==t?void 0:t.qrAuthForm)||void 0===n||n.show())}t.show(r)}}}(t,this)),this.hide.replaceImpl(function(t){return()=>{As||t.hide()}}(t)),this.insert.replaceImpl(function(t){return(e,r)=>{t.insert&&(As=!0,t.insert(e,r))}}(t)),this.isVisible=()=>t.isVisible(),qa.relay([Va.Show,Va.Hide,Va.Load],t,this))},Xa(function(t,e){const r=new URL(t);return r.searchParams?(Object.entries(e).forEach((t=>{let[e,n]=t;r.searchParams.set(e,n)})),r.toString()):t}(t.authGateVersion||"https://img.imgsmail.ru/ag/2.8.3/authGate.js",{onload:"__AG_onload"}))}}isVisible(){return!1}}class xs extends qa{constructor(){super(...arguments),this.show=(new Os).getQuery(),this.hide=(new Os).getQuery()}}class Ps extends qa{constructor(){super(...arguments),this.show=(new Os).getQuery(),this.hide=(new Os).getQuery()}}class Is extends qa{constructor(){super(...arguments),this.show=(new Os).getQuery(),this.hide=(new Os).getQuery()}}class Ts extends qa{constructor(){super(...arguments),this.show=(new Os).getQuery(),this.hide=(new Os).getQuery()}}var Ls,js=function(t){return function(e,r,n,o){Xt(r);var i=dn(e),a=d(i),s=lt(i.length),u=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(u in a){o=a[u],u+=c;break}if(u+=c,t?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;t?u>=0:s>u;u+=c)u in a&&(o=r(o,a[u],u,i));return o}},ks={left:js(!1),right:js(!0)},Ms=ks.left,Rs=Kn("reduce");jt({target:"Array",proto:!0,forced:!Rs||!Rt&&$t>79&&$t<83},{reduce:function(t){return Ms(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}}),function(t){t.LOADER="LOADER",t.BUTTON="BUTTON_FRAME",t.MAIN="MAIN_FRAME"}(Ls||(Ls={}));var Us="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ds(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ns(t,e){return t(e={exports:{}},e.exports),e.exports}var Fs=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NullStorage=void 0;var r=function(){function t(){this._data=Object.create(null)}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this._data).length},enumerable:!1,configurable:!0}),t.prototype.key=function(t){var e;return null!==(e=Object.keys(this._data)[t])&&void 0!==e?e:null},t.prototype.getItem=function(t){var e;return null!==(e=this._data[t])&&void 0!==e?e:null},t.prototype.getAsJSON=function(t){var e=this.getItem(t);return null==e?e:JSON.parse(e)},t.prototype.setItem=function(t,e){this._data[t]="".concat(e)},t.prototype.setAsJSON=function(t,e){this.setItem(t,JSON.stringify(e))},t.prototype.removeItem=function(t){delete this._data[t]},t.prototype.clear=function(){this._data=Object.create(null)},t}();e.NullStorage=r}));Ds(Fs),Fs.NullStorage;var $s=Ns((function(t,e){var r=Us&&Us.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.SafetyStorage=void 0;var n=function(){function t(t){this._init=t,this._storage=new Fs.NullStorage;try{this._storage=!t.disabled&&t.storage?t.storage():this._storage}catch(t){this._error("init",t)}}return t.prototype._key=function(t,e){var r,n=null!==(r=null==e?void 0:e.keyPattern)&&void 0!==r?r:this._init.keyPattern;return n?"function"==typeof n?n(t):(n||"{key}").replace("{key}",t):t},t.prototype._error=function(){for(var t,e,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];null===(e=(t=this._init).onerror)||void 0===e||e.call.apply(e,r([t],n,!1))},Object.defineProperty(t.prototype,"length",{get:function(){try{return this._storage.length}catch(t){return this._error("length",t),0}},enumerable:!1,configurable:!0}),t.prototype.key=function(t){try{return this._storage.key(t)}catch(e){return this._error("key",e,t),null}},t.prototype.getItem=function(t,e){void 0===e&&(e={});try{var r=e.default,n=this._storage.getItem(this._key(t,e));return null==n&&r&&null!=(n=r())&&this.setItem(t,n,e),null!=n?n:null}catch(e){return this._error("get",e,t),null}},t.prototype.getAsJSON=function(t,e){var r;void 0===e&&(e={});try{var n=e.defaultJSON,o=this.getItem(t,e);if(null==o&&n){var i=null!==(r=n())&&void 0!==r?r:null;return null!=i&&this.setAsJSON(t,i,e),null!=i?i:null}return null==o?null:JSON.parse(o)}catch(e){return this._error("get",e,t),null}},t.prototype.setItem=function(t,e,r){try{this._storage.setItem(this._key(t,r),e)}catch(r){this._error("set",r,t,e)}},t.prototype.setAsJSON=function(t,e,r){try{this.setItem(t,JSON.stringify(e),r)}catch(r){this._error("set",r,t,e)}},t.prototype.removeItem=function(t,e){try{this._storage.removeItem(this._key(t,e))}catch(e){this._error("remove",e,t)}},t.prototype.clear=function(t){var e,r;try{if(!(null!==(e=null==t?void 0:t.keyPattern)&&void 0!==e?e:this._init.keyPattern))return void this._storage.clear();for(var n=this._key("<any>",t),o=new RegExp("^".concat((r=n,r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")).replace("<any>","(.+)"),"$")),i=this._storage.length;i--;){var a=this.key(i);a&&o.test(a)&&this.removeItem(a,{keyPattern:!1})}}catch(t){this._error("clear",t)}},t}();e.SafetyStorage=n}));Ds($s),$s.SafetyStorage;var Bs=Ns((function(t,e){var r,n=Us&&Us.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=Us&&Us.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.SafetyLocalStorage=void 0;var i=function(t){function e(e){return t.call(this,o({storage:function(){return localStorage}},e))||this}return n(e,t),e}($s.SafetyStorage);e.SafetyLocalStorage=i}));Ds(Bs),Bs.SafetyLocalStorage;var Gs=Ns((function(t,e){var r,n=Us&&Us.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=Us&&Us.__assign||function(){return o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.SafetySessionStorage=void 0;var i=function(t){function e(e){return t.call(this,o({storage:function(){return sessionStorage}},e))||this}return n(e,t),e}($s.SafetyStorage);e.SafetySessionStorage=i}));Ds(Gs),Gs.SafetySessionStorage;var Vs=Ns((function(t,e){var r=Us&&Us.__assign||function(){return r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},n=Us&&Us.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.createSafetyStorages=void 0;e.createSafetyStorages=function(t){var e=function(e){return function(){for(var r,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===(r=t.onerror)||void 0===r||r.call.apply(r,n([t,e],o,!1))}};return[new Bs.SafetyLocalStorage(r(r({},t),{onerror:e("local")})),new Gs.SafetySessionStorage(r(r({},t),{onerror:e("session")})),new $s.SafetyStorage(r(r({},t),{onerror:e("runtime")}))]}}));Ds(Vs),Vs.createSafetyStorages;var Ks=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createSafetyStorages=e.SafetySessionStorage=e.SafetyLocalStorage=e.SafetyStorage=e.NullStorage=void 0,Object.defineProperty(e,"NullStorage",{enumerable:!0,get:function(){return Fs.NullStorage}}),Object.defineProperty(e,"SafetyStorage",{enumerable:!0,get:function(){return $s.SafetyStorage}}),Object.defineProperty(e,"SafetyLocalStorage",{enumerable:!0,get:function(){return Bs.SafetyLocalStorage}}),Object.defineProperty(e,"SafetySessionStorage",{enumerable:!0,get:function(){return Gs.SafetySessionStorage}}),Object.defineProperty(e,"createSafetyStorages",{enumerable:!0,get:function(){return Vs.createSafetyStorages}})}));Ds(Ks),Ks.createSafetyStorages,Ks.SafetySessionStorage;var Qs=Ks.SafetyLocalStorage;Ks.SafetyStorage,Ks.NullStorage;const zs="WIDGETS_ACTIVE_PANEL",Ws="WIDGETS_IS_OPENED";class Hs{constructor(t){this.storage=new Qs({keyPattern:e=>`${t}:${e}`})}getActivePanel(){return this.storage.getAsJSON(zs)}saveActivePanel(t){return this.storage.setAsJSON(zs,t)}getIsOpened(){return this.storage.getAsJSON(Ws)}saveIsOpened(t){return this.storage.setAsJSON(Ws,t)}}const Js=(t=>{let e=null;return function(){return e||(e={value:t(...arguments)}),e.value}})((t=>new Hs(t)));var qs=Ns((function(t,e){var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=void 0,(r=e.Tag||(e.Tag={})).Core="core",r.Global="gl",r.Self="self",r.Async="async",r.Ignore="ign",r.Known="known",r.API="api",r.Shared="shr",r.Ext="ext",r.ThirdParty="3rd",r.RB="rb",r.Unknown="unk"}));Ds(qs),qs.Tag;var Ys=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.coreLoggerDispatchKnownError=e.coreLoggerDispatchAPIError=e.coreLoggerDispatchIgnoredError=e.coreLoggerDispatchSelfError=e.coreLoggerDispatchReactError=e.coreLoggerDispatchError=e.getCoreLogger=e.Tag=void 0,Object.defineProperty(e,"Tag",{enumerable:!0,get:function(){return qs.Tag}});e.getCoreLogger=function(){return"undefined"!=typeof coreLogger?coreLogger:void 0};e.coreLoggerDispatchError=function(t,r,n){var o;null===(o=(0,e.getCoreLogger)())||void 0===o||o.dispatchError(t,r,n)};e.coreLoggerDispatchReactError=function(t,r,n){var o;null===(o=(0,e.getCoreLogger)())||void 0===o||o.dispatchReactError(t,r,n)};e.coreLoggerDispatchSelfError=function(t,r,n,o){(0,e.coreLoggerDispatchError)(r,n,{category:t,tag:qs.Tag.Self,log:o})};e.coreLoggerDispatchIgnoredError=function(t,r,n,o){(0,e.coreLoggerDispatchError)(r,n,{category:t,tag:qs.Tag.Ignore,log:o})};e.coreLoggerDispatchAPIError=function(t,r,n,o){(0,e.coreLoggerDispatchError)(r,n,{category:t,tag:qs.Tag.API,log:o})};e.coreLoggerDispatchKnownError=function(t,r,n,o){(0,e.coreLoggerDispatchError)(r,n,{category:t,tag:qs.Tag.Known,log:o})}}));Ds(Ys),Ys.coreLoggerDispatchKnownError,Ys.coreLoggerDispatchAPIError,Ys.coreLoggerDispatchIgnoredError,Ys.coreLoggerDispatchSelfError,Ys.coreLoggerDispatchReactError,Ys.coreLoggerDispatchError,Ys.getCoreLogger,Ys.Tag;var Xs=Ns((function(t,e){function r(t,e){var r=t<10?"0".concat(t):t;return e>1&&t<100&&(r="0".concat(r)),r}Object.defineProperty(e,"__esModule",{value:!0}),e.timeFormat=e.zeroPad=e.now=void 0,e.now="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:Date.now,e.zeroPad=r,e.timeFormat=function(t){var e=t/1e3;return"".concat(r(e/60%24|0),":").concat(r(e%60|0),".").concat(r(t%1e3|0,2))}}));Ds(Xs),Xs.timeFormat,Xs.zeroPad,Xs.now;var Zs=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.browserFormat=e.resetFormatStyle=e.nodeFromat=e.createFormat=void 0;var r=/:([^;]+)/g;function n(t,e){return function(r){return e(r,{base:t.level[r.level]||"",label:t.label[r.level]||""})}}e.createFormat=n,e.nodeFromat=n({level:{log:"[0m",info:"[34m",done:"[34m",warn:"[33m",error:"[31m",verbose:"[35m"},label:{log:"[4m",info:"[4m",done:"[4m",error:"[4m",warn:"[4m",verbose:"[4m"}},(function(t,e){var r=[];return null!=t.badge&&r.push(t.badge),null!=t.label&&r.push("".concat(e.base).concat(e.label).concat(t.label,"[0m")),null!=t.args&&r.push.apply(r,t.args),null!==t.meta&&r.push("".concat(t.meta.file,":").concat(t.meta.line,":").concat(t.meta.col)),r.push("[0m"),r}));var o="text-decoration: underline; font-weight: bold;";function i(t){return t.replace(r,": inherit")}e.resetFormatStyle=i,e.browserFormat=n({level:{log:"color: #333;",info:"color: dodgerblue;",done:"color: #1aaa55;",warn:"color: orange;",error:"color: red;",verbose:"color: magenta;"},label:{log:o,info:o,done:o,warn:o,error:o,verbose:o}},(function(t,e){var r=[],n=[],o=t.args;if(t.ts>0&&(n.push("%c[%s] "),r.push(e.base,(0,Xs.timeFormat)(t.ts))),null!=t.badge&&(n.push("%s"),r.push(t.badge)),null!=t.label&&(n.push("%c%s%c "),r.push(e.label+e.base,t.label,i(e.label))),null!=o){var a=o.length;if(a>0){n.push("%c"),r.push(e.base);for(var s=0;s<a;s++){var u=o[s];n.push("".concat("string"==typeof u?"%s":"%o"," ")),r.push(u)}}}return null!=t.meta&&(n.push("%s"),r.push("".concat(t.meta.file,":").concat(t.meta.line,":").concat(t.meta.col))),r.unshift(n.join("")),r}))}));Ds(Zs),Zs.browserFormat,Zs.resetFormatStyle,Zs.nodeFromat,Zs.createFormat;var tu=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.SCOPE=e.ENTRY=void 0,e.ENTRY=1,e.SCOPE=2}));Ds(tu),tu.SCOPE,tu.ENTRY;var eu=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.universalOutput=e.browserOutput=e.nodeOutput=e.createOutput=void 0;e.createOutput=function(t){var e=t.out,r=t.format,n=e.log,o={},i=[];return function t(a,s){if(null===a)return i.forEach((function(){e.groupEnd()})),void(i.length=0);var u=a.parent,c=i.length;if(!s||!a.printed){if(c>0){for(var l=c;l--&&i[l]!==u;)i[l].printed=!0,e.groupEnd();i.length=l+1}if(a.type===tu.SCOPE)i.push(a),e.group.apply(e,r(a));else{if(!s&&u&&u.printed&&"#root"!==u.label)return void(o[u.cid]||(o[u.cid]=setTimeout((function(){i.forEach((function(){e.groupEnd()})),i.length=0;var n=[],o=u;do{n.unshift(o),o=o.parent}while(o&&"#root"!==o.label);n.forEach((function(t){e.group.apply(e,r(t))})),u.entries.forEach((function(e){t(e,!0)})),n.forEach((function(){e.groupEnd()}))}),0)));a.printed=!0,n.apply(e,r(a))}}}};e.nodeOutput=function(t){return void 0===t&&(t={}),(0,e.createOutput)({out:t.out||console,format:t.format||Zs.nodeFromat})};e.browserOutput=function(t){return void 0===t&&(t={}),(0,e.createOutput)({out:t.out||console,format:t.format||Zs.browserFormat})},e.universalOutput="undefined"==typeof self?e.nodeOutput:e.browserOutput}));Ds(eu),eu.universalOutput,eu.browserOutput,eu.nodeOutput,eu.createOutput;var ru=Ns((function(t,e){var r=Us&&Us.__assign||function(){return r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.octoLogger=e.logger=e.createLogger=e.revertLoggerContext=e.switchLoggerContext=e.getLoggerContext=e.createScopeEntry=e.createLogEntry=e.isLogEntry=void 0;var n=new Date,o=0;function i(t){return t&&3===t.length&&t[0]&&t[1]>0&&t[2]>0}function a(t){return{file:t[0],line:t[1],col:t[2]}}function s(t){return t&&void 0!==t.type&&void 0!==t.level}function u(t,e,r,n,i){return Object.defineProperty({cid:++o,ts:0,type:t,level:e,badge:r,label:n,args:i,meta:null,entries:[]},"parent",{writable:!0,enumerable:!1,value:null})}function c(t,e,r,n){return u(tu.ENTRY,t,e,r,n)}function l(t,e,r,n){return u(tu.SCOPE,t,e,r,n)}e.isLogEntry=s,e.createLogEntry=c,e.createScopeEntry=l;var f=null;function h(t,e){var o=function(e){return{add:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o,u=i(r[0])?a(r.shift()):null;o=s(r[0])?r[0]:c("log",null,null,r),null!==u&&(o.meta=u),t.time&&(o.ts=(0,Xs.now)());var l=e.parent;l&&((o.parent=l).entries.push(o)>t.storeLast&&l.entries.splice(0,1));return!0!==t.silent&&t.output&&t.output(o),o}}},u=l("info","ð§","#root",[{time:n,created:new Date}]),h={logger:null,parent:u},d=o(h),p=e({createEntry:c,logger:d});return null==t.silent&&"undefined"!=typeof location&&(t.silent=!/^(about:|file:|https?:\/\/localhost\/)/.test("".concat(location))),null==t.time&&(t.time=!0),null==t.storeLast&&(t.storeLast=1e3),h.logger=d,["add","clear","scope","setup","entries","last","priny","m"].forEach((function(t){if(p.hasOwnProperty(t))throw new Error('[octoLogger] "'.concat(t,'" is a reserved identifier'))})),p.print=function(){var e=function(r){r.printed=!1,r.entries.forEach((function(r){r.printed=!1,t.output&&t.output(r),r.type===tu.SCOPE&&e(r)}))};e(u),t.output&&t.output(null)},p.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.add.apply(d,t)},p.clear=function(){return u.entries.splice(0,u.entries.length)},p.setup=function(e){t=r(r({},t),e)},p.entries=function(){return u.entries},p.last=function(){return u.entries[u.entries.length-1]||null},p.scope=function r(n,u,d){var p=arguments,g=null;if(0===p.length)return this._scopeEntry;i(p[0])&&(g=a(p[0]),n=p[1],u=p[2],d=p[3]);var v=p.length>2;null==d&&"function"==typeof u&&(d=u,v=!1);var y=[n];v&&y.push(u);var m=s(n)?n:l("info",null,null,y);m.meta=g,h.logger.add(m);var _=o({parent:m,logger:null}),b=e({createEntry:c,logger:_});if(b.add=function(){return _.add.apply(_,arguments)},b.scope=r,b._scopeEntry=m,"function"==typeof d){var w=f,S=h.parent,C=h.logger;f={entry:m,scope:b,logger:_,options:t,scopeContext:h},h.parent=m,d(b),f=w,h.parent=S,h.logger=C}return b},p}e.getLoggerContext=function(){return f},e.switchLoggerContext=function(t,e){if(null===t)return f=null,null;var r=f,n=t.scope,o=t.scopeContext,i=null;return f=t,t.scope=e,t.scopeContext&&(i=t.scopeContext.parent,t.scopeContext.parent=e.scope()),{activeContext:r,ctx:t,scope:n,scopeContext:o,scopeContextParent:i}},e.revertLoggerContext=function(t){var e=t.ctx,r=t.scopeContext;e.scope=t.scope,e.scopeContext=r,r&&(r.parent=t.scopeContextParent),f=t.activeContext},e.createLogger=h;var d={log:null,info:"â ",done:"â ",warn:"â ï¸ ",error:"ð ",verbose:"ð "};e.logger=h({output:(0,eu.universalOutput)()},(function(t){var e=t.logger;return Object.keys(d).reduce((function(t,r){return t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.add(c(r,d[r]||null,null,t))},t}),{})})),e.octoLogger=e.logger}));Ds(ru),ru.octoLogger,ru.logger,ru.createLogger,ru.revertLoggerContext,ru.switchLoggerContext,ru.getLoggerContext,ru.createScopeEntry,ru.createLogEntry,ru.isLogEntry;var nu=Ns((function(t,e){var r=Us&&Us.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);o&&!("get"in o?!e.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),n=Us&&Us.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.createScopeEntry=e.createLogEntry=e.createLogger=e.octoLogger=e.logger=void 0,n(Ys,e),Object.defineProperty(e,"logger",{enumerable:!0,get:function(){return ru.logger}}),Object.defineProperty(e,"octoLogger",{enumerable:!0,get:function(){return ru.octoLogger}}),Object.defineProperty(e,"createLogger",{enumerable:!0,get:function(){return ru.createLogger}}),Object.defineProperty(e,"createLogEntry",{enumerable:!0,get:function(){return ru.createLogEntry}}),Object.defineProperty(e,"createScopeEntry",{enumerable:!0,get:function(){return ru.createScopeEntry}})}));Ds(nu),nu.createScopeEntry,nu.createLogEntry,nu.createLogger,nu.octoLogger,nu.logger;var ou=Ns((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return!!t&&"string"==typeof t},n=[3,4,6,8],o=function(t){return t.replace("#","")},i=function(t){var e=r(t)?o(t):"";return n.includes(e.length)&&parseInt(e,16).toString(16).toLowerCase().padStart(e.length,"0")===e.toLowerCase()},a=/^rgb(a)?\(\s*((25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\s*,?\s*){2}(25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\s*(,?\s*\d+(\.\d+)?)?\)$/i,s=function(t){return r(t)&&a.test(t)};e.isHex=i,e.isRGB=s,e.parseValidColor=function(t){switch(!0){case i(t):return"#".concat(o(t||""));case s(t):return t||"";default:return""}}}));Ds(ou),ou.isHex,ou.isRGB,ou.parseValidColor;class iu extends qa{constructor(t){super(),this.show=(new Os).getQuery(),this.hide=(new Os).getQuery(),this.setMainFrameContainer=(new Os).getQuery(),this.resetMainFrameContainer=(new Os).getQuery(),this.openMarusia=(new Os).getQuery(),this.silenceMarusia=(new Os).getQuery(),this.button={unsafeSend:(new Os).getQuery(),unsafeSubscribe:(new Os).getQuery(),unsafeUnsubscribe:(new Os).getQuery()},this.main={unsafeSend:(new Os).getQuery(),unsafeSubscribe:(new Os).getQuery(),unsafeUnsubscribe:(new Os).getQuery()},this.widgetsLoaderStorage=Js(t)}}var au=function(){return au=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},au.apply(this,arguments)},su=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},uu=function(t,e,r){if(void 0===r&&(r=!1),!t||!e||"object"!=typeof t||"object"!=typeof e)return t;var n=au({},t);for(var o in e)e.hasOwnProperty(o)&&(e[o]instanceof Array&&t[o]instanceof Array?n[o]=r?su(t[o],e[o]):e[o]:"object"==typeof e[o]&&"object"==typeof t[o]?n[o]=uu(t[o],e[o],r):n[o]=e[o]);return n},cu=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},lu={defaults:{},errorType:null,polyfills:{fetch:null,FormData:null,URLSearchParams:null,performance:null,PerformanceObserver:null,AbortController:null},polyfill:function(t,e){for(var r=void 0===e?{}:e,n=r.doThrow,o=void 0===n||n,i=r.instance,a=void 0!==i&&i,s=[],u=2;u<arguments.length;u++)s[u-2]=arguments[u];var c=this.polyfills[t]||("undefined"!=typeof self?self[t]:null)||("undefined"!=typeof global?global[t]:null);if(o&&!c)throw new Error(t+" is not defined");return a&&c?new(c.bind.apply(c,cu([void 0],s))):c}},fu=function(t,e,r,n){if(!t.getEntriesByName)return!1;var o=t.getEntriesByName(e);return!!(o&&o.length>0)&&(r(o.reverse()[0]),n.clearMeasures&&n.clearMeasures(e),hu.callbacks.delete(e),hu.callbacks.size<1&&(hu.observer.disconnect(),n.clearResourceTimings&&n.clearResourceTimings()),!0)},hu={callbacks:new Map,observer:null,observe:function(t,e){if(t&&e){var r=lu.polyfill("performance",{doThrow:!1});(function(t,e){return!hu.observer&&t&&e&&(hu.observer=new e((function(e){hu.callbacks.forEach((function(r,n){fu(e,n,r,t)}))})),t.clearResourceTimings&&t.clearResourceTimings()),hu.observer})(r,lu.polyfill("PerformanceObserver",{doThrow:!1}))&&(fu(r,t,e,r)||(hu.callbacks.size<1&&hu.observer.observe({entryTypes:["resource","measure"]}),hu.callbacks.set(t,e)))}}},du=ks.right,pu=Kn("reduceRight");jt({target:"Array",proto:!0,forced:!pu||!Rt&&$t>79&&$t<83},{reduceRight:function(t){return du(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var gu=function(t){this.error=t},vu=function(){return vu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},vu.apply(this,arguments)},yu=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},mu="application/json",_u="Content-Type",bu=function(){function t(t,e,r,n,o,i){void 0===r&&(r=new Map),void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===i&&(i=[]),this._url=t,this._options=e,this._catchers=r,this._resolvers=n,this._middlewares=o,this._deferredChain=i}return t.factory=function(e,r){return void 0===e&&(e=""),void 0===r&&(r={}),new t(e,r)},t.prototype.selfFactory=function(e){var r=void 0===e?{}:e,n=r.url,o=void 0===n?this._url:n,i=r.options,a=void 0===i?this._options:i,s=r.catchers,u=void 0===s?this._catchers:s,c=r.resolvers,l=void 0===c?this._resolvers:c,f=r.middlewares,h=void 0===f?this._middlewares:f,d=r.deferredChain,p=void 0===d?this._deferredChain:d;return new t(o,vu({},a),new Map(u),yu(l),yu(h),yu(p))},t.prototype.defaults=function(t,e){return void 0===e&&(e=!1),lu.defaults=e?uu(lu.defaults,t):t,this},t.prototype.errorType=function(t){return lu.errorType=t,this},t.prototype.polyfills=function(t){return lu.polyfills=vu(vu({},lu.polyfills),t),this},t.prototype.url=function(t,e){if(void 0===e&&(e=!1),e)return this.selfFactory({url:t});var r=this._url.split("?");return this.selfFactory({url:r.length>1?r[0]+t+"?"+r[1]:this._url+t})},t.prototype.options=function(t,e){return void 0===e&&(e=!0),this.selfFactory({options:e?uu(this._options,t):t})},t.prototype.query=function(t,e){return void 0===e&&(e=!1),this.selfFactory({url:wu(this._url,t,e)})},t.prototype.headers=function(t){return this.selfFactory({options:uu(this._options,{headers:t||{}})})},t.prototype.accept=function(t){return this.headers({Accept:t})},t.prototype.content=function(t){var e;return this.headers(((e={})[_u]=t,e))},t.prototype.auth=function(t){return this.headers({Authorization:t})},t.prototype.catcher=function(t,e){var r=new Map(this._catchers);return r.set(t,e),this.selfFactory({catchers:r})},t.prototype.signal=function(t){return this.selfFactory({options:vu(vu({},this._options),{signal:t.signal})})},t.prototype.resolve=function(t,e){return void 0===e&&(e=!1),this.selfFactory({resolvers:e?[t]:yu(this._resolvers,[t])})},t.prototype.defer=function(t,e){return void 0===e&&(e=!1),this.selfFactory({deferredChain:e?[t]:yu(this._deferredChain,[t])})},t.prototype.middlewares=function(t,e){return void 0===e&&(e=!1),this.selfFactory({middlewares:e?t:yu(this._middlewares,t)})},t.prototype.method=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=null);var n=this._options.headers,o=r?"object"!=typeof r||n&&!Object.entries(n).every((function(t){var e=t[0],r=t[1];return e.toLowerCase()!==_u.toLowerCase()||r.startsWith(mu)}))?this.body(r):this.json(r):this;return function(t){var e=t._url,r=t._catchers,n=t._resolvers,o=t._middlewares,i=t._options,a=new Map(r),s=uu(lu.defaults,i),u=lu.polyfill("AbortController",{doThrow:!1,instance:!0});!s.signal&&u&&(s.signal=u.signal);var c={ref:null,clear:function(){c.ref&&(clearTimeout(c.ref),c.ref=null)}},l=function(t){return function(e){return 0===t.length?e:1===t.length?t[0](e):t.reduceRight((function(r,n,o){return o===t.length-2?n(r(e)):n(r)}))}}(o)(lu.polyfill("fetch"))(e,s),f=l.catch((function(t){throw new gu(t)})).then((function(t){return c.clear(),t.ok?t:t[lu.errorType||"text"]().then((function(e){var r=new Error(e);throw r[lu.errorType||"text"]=e,r.status=t.status,r.response=t,r}))})),h=function(e){return e.catch((function(e){c.clear();var r=e instanceof gu?e.error:e;if(e instanceof gu&&a.has("__fromFetch"))return a.get("__fromFetch")(r,t);if(a.has(r.status))return a.get(r.status)(r,t);if(a.has(r.name))return a.get(r.name)(r,t);throw r}))},d=function(t){return function(e){return h(t?f.then((function(e){return e&&e[t]()})).then((function(t){return e?e(t):t})):f.then((function(t){return e?e(t):t})))}},p={res:d(null),json:d("json"),blob:d("blob"),formData:d("formData"),arrayBuffer:d("arrayBuffer"),text:d("text"),perfs:function(t){return l.then((function(e){return hu.observe(e.url,t)})),p},setTimeout:function(t,e){return void 0===e&&(e=u),c.clear(),c.ref=setTimeout((function(){return e.abort()}),t),p},controller:function(){return[u,p]},error:function(t,e){return a.set(t,e),p},badRequest:function(t){return p.error(400,t)},unauthorized:function(t){return p.error(401,t)},forbidden:function(t){return p.error(403,t)},notFound:function(t){return p.error(404,t)},timeout:function(t){return p.error(408,t)},internalError:function(t){return p.error(500,t)},fetchError:function(t){return p.error("__fromFetch",t)},onAbort:function(t){return p.error("AbortError",t)}};return n.reduce((function(e,r){return r(e,t)}),p)}((o=o.options(vu(vu({},e),{method:t})))._deferredChain.reduce((function(t,e){return e(t,t._url,t._options)}),o))},t.prototype.get=function(t){return this.method("GET",t)},t.prototype.delete=function(t){return this.method("DELETE",t)},t.prototype.put=function(t,e){return this.method("PUT",e,t)},t.prototype.post=function(t,e){return this.method("POST",e,t)},t.prototype.patch=function(t,e){return this.method("PATCH",e,t)},t.prototype.head=function(t){return this.method("HEAD",t)},t.prototype.opts=function(t){return this.method("OPTIONS",t)},t.prototype.replay=function(t){return this.method(this._options.method,t)},t.prototype.body=function(t){return this.selfFactory({options:vu(vu({},this._options),{body:t})})},t.prototype.json=function(t){var e,r=null===(e=Object.entries(this._options.headers||{}).find((function(t){var e=t[0],r=t[1];return e.toLowerCase()===_u.toLowerCase()&&r.startsWith(mu)})))||void 0===e?void 0:e[1];return this.content(r||mu).body(JSON.stringify(t))},t.prototype.formData=function(t,e){return void 0===e&&(e=!1),this.body(Su(t,e))},t.prototype.formUrl=function(t){return this.body("string"==typeof t?t:(e=t,Object.keys(e).map((function(t){var r=e[t];return r instanceof Array?r.map((function(e){return Cu(t,e)})).join("&"):Cu(t,r)})).join("&"))).content("application/x-www-form-urlencoded");var e},t}(),wu=function(t,e,r){var n;if("string"==typeof e)n=e;else{var o=lu.polyfill("URLSearchParams",{instance:!0});for(var i in e)if(e[i]instanceof Array)for(var a=0,s=e[i];a<s.length;a++){var u=s[a];o.append(i,u)}else o.append(i,e[i]);n=o.toString()}var c=t.split("?");return r||c.length<2?c[0]+"?"+n:t+"&"+n};function Su(t,e,r,n){return void 0===e&&(e=!1),void 0===r&&(r=lu.polyfill("FormData",{instance:!0})),void 0===n&&(n=[]),Object.entries(t).forEach((function(t){var o=t[0],i=t[1],a=n.reduce((function(t,e){return t?t+"["+e+"]":e}),null);if(a=a?a+"["+o+"]":o,i instanceof Array)for(var s=0,u=i;s<u.length;s++){var c=u[s];r.append(a+"[]",c)}else!e||"object"!=typeof i||e instanceof Array&&e.includes(o)?r.append(a,i):null!==i&&Su(i,e,r,yu(n,[o]))})),r}function Cu(t,e){return encodeURIComponent(t)+"="+encodeURIComponent("object"==typeof e?JSON.stringify(e):""+e)}var Ou=bu.factory;Ou.default=bu.factory;class Au{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.url=t,this.isCors=e}get options(){return this.isCors?{credentials:"include",mode:"cors"}:{mode:"no-cors"}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ou().options(this.options).url(this.url+e).query(t).query({_:Math.round((new Date).getTime()+1e9*Math.random())}).get().fetchError(((t,e)=>{const r=`${t.message} in request to ${e._url}`;throw new Error(r)}))}getJson(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.get(t,e).json()}post(t){return Ou(this.url).options(Object.assign(Object.assign({},this.options),{method:"post"})).formUrl(t).post()}}const Eu=qo?"//portal.devmail.ru":`//portal.${Zo}`,xu=qo?"//auth.devmail.ru":`//auth.${Zo}`,Pu=`//ok.ru/mapi?query=${encodeURIComponent('{"cmd":"getCounters"}')}`;var Iu;!function(t){t.OK="ok",t.NOAUTH="noauth",t.ERROR="error"}(Iu||(Iu={}));const Tu={mac:1,Socials:1};var Lu,ju=new class extends Au{constructor(){super(Eu)}getInfo(t,e,r){let n=Object.assign(Object.assign(Object.assign({},Tu),{gamescnt:1}),e);return qo&&(n=Object.assign(Object.assign({},n),{ldata:1})),t&&(n=Object.assign(Object.assign({},n),{Login:t})),r&&(n=Object.assign(Object.assign({},n),{ldata:1,target:1})),this.getJson(n,"/NaviData")}getListInfo(t,e,r){let n=Object.assign(Object.assign(Object.assign({},Tu),{ldata:1}),e);return t&&(n=Object.assign(Object.assign({},n),{Login:t})),r&&(n=Object.assign(Object.assign({},n),{target:1})),this.getJson(n,"/NaviData")}getDomains(t){return this.getJson(t,"/Domains")}};!function(t){t.OK="ok",t.NOAUTH="noauth",t.MRIM="mrim"}(Lu||(Lu={}));class ku extends Au{auth(t){const e={mac:1,Login:t};return this.getJson(e,"/cgi-bin/auth")}logout(t){const e={Login:t,mac:1};return this.getJson(e,"/cgi-bin/logout")}}class Mu{static convert(t){let{status:e,data:r}=t;var n,o,i;const a=(null===(n=r)||void 0===n?void 0:n.ldata)||{};return{status:e,accounts:(null===(i=null===(o=r)||void 0===o?void 0:o.list)||void 0===i?void 0:i.map((t=>({email:t,active:r.email===t,firstName:a[t].first_name||"",lastName:a[t].last_name||"",socialId:Mu.getSocialId(t),verified:!!a[t].verified,counters:{mail:a[t].mail_cnt}}))))||[]}}static getSocialId(t){const e=t.match(/^[0-9]+@(vk|ok|fb)$/);return e&&e[1]}}const Ru="s_c";function Uu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let e=0;e<t.length;e+=1){const r=t[e].split("@")[1];if(["corp.mail.ru","vk.team"].includes(r))return Ss.setGlobal(Ru,Date.now()),!0}const e=Ss.getGlobal(Ru);if(e&&Date.now()>1*+e+li)return Ss.removeGlobal(Ru),!1}var Du,Nu=function(t,e,r,n,o,i,a,s){for(var u,c=o,l=0,f=!!a&&oe(a,s,3);l<n;){if(l in r){if(u=f?f(r[l],l,e):r[l],i>0&&Oa(u))c=Nu(t,e,u,lt(u.length),c,i-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[c]=u}c++}l++}return c},Fu=Nu;jt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=dn(this),r=lt(e.length),n=Ea(e,0);return n.length=Fu(n,e,e,r,0,void 0===t?1:ut(t)),n}}),function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Du||(Du={}));var $u=function(t){return Object.freeze(t)},Bu=function(t,e){this.inlineSize=t,this.blockSize=e,$u(this)};jt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var Gu=function(){function t(t,e,r,n){return this.x=t,this.y=e,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,$u(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),Vu="undefined"!=typeof window?window:{};/msie|trident/i.test(Vu.navigator&&Vu.navigator.userAgent);var Ku=function(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=!1),new Bu((r?e:t)||0,(r?t:e)||0)};$u({devicePixelContentBoxSize:Ku(),borderBoxSize:Ku(),contentBoxSize:Ku(),contentRect:new Gu(0,0,0,0)});var Qu=new class extends Au{constructor(){super(Pu)}};class zu{constructor(t,e,r){let{eventType:n,counterKeys:o}=t;this.eventType=n,this.counterKeys=o,this.updateAccountCounter=e,this.eventEmitter=r}get value(){return this._value}updateValue(t){this._value=t}updateData(t){this.eventEmitter.emit(this.eventType,null,this.parseSocialData(t));const e=this.summarizeCounters(this.parseSocialData(t),this.counterKeys);this.value!==e&&this.updateValue(e)}summarizeCounters(t,e){return Object.entries(t).reduce(((t,r)=>{let[n,o]=r;return t+(e[n]?o:0)}),0)}parseSocialData(t){return Object.entries(t).reduce(((t,e)=>{let[r,n]=e;return t[r]=["number","string"].includes(typeof n)?n:n.count,t}),{})}getDataFromApi(){}}class Wu extends zu{constructor(t,e){super({eventType:Fa.UpdateCounterOK,counterKeys:ni},t,e)}getDataFromApi(){Qu.getJson().then((t=>{"no auth"===t.status?this.updateAccountCounter({ok:{}}):this.updateAccountCounter({ok:t.data||{}}),ai("ok_counter_success"),ai("social_counters_ok_success_api")})).catch((()=>{ai("ok_counter_error"),ai("social_counters_ok_error_api")}))}}var Hu=new class extends Au{constructor(){super("//vk.com/feed2.php")}};class Ju extends zu{constructor(t,e){super({eventType:Fa.UpdateCounterVK,counterKeys:ri},t,e)}getDataFromApi(){Hu.getJson({act:"widget",utm_source:"mrg_ph"}).then((t=>{var e;-1!==(null===(e=t.user)||void 0===e?void 0:e.id)?this.updateAccountCounter({vk:t||{}}):this.updateAccountCounter({vk:{}}),ai("vk_counter_success"),ai("social_counters_vk_success_api")})).catch((()=>{ai("vk_counter_error"),ai("social_counters_vk_error_api")}))}}let qu=!1;const Yu=(t,e,r)=>t&&e?`${t} ${e}`:t||e||(t=>{const e=null==t?void 0:t.match(/(.+)@(vk|ok|fb|ph)$/);return(null==e?void 0:e[1])||t||""})(r),Xu=t=>t||"";class Zu{constructor(t){let{ph:e,eventEmitter:r,activeUser:n,authUrl:o=xu,socialCountersSettings:i,stayInAccountList:a,isShowCloudStoriesCounter:s,addTargetToNaviData:u}=t;this.gamesCount=0,this.mailCount=0,this.moymirCount=0,this.loveCount=0,this.cloudCount=0,this.quotaCounters={mail:{},cloud:{}},this.restAccountsMailCount=0,this.accounts=[],this.ph=e,this.eventEmitter=r,this.activeUser=n||void 0,this.parentActiveUser=n||void 0,this.authApi=new ku(function(t){const e="mail.ru"===window.location.host,r=/\.mail\.ru$/.test(window.location.host);return e||r?xu:t}(o)),this.socialCountersSettings=i,this.okCounter=new Wu(this.updateSomeCounters.bind(this),r),this.vkCounter=new Ju(this.updateSomeCounters.bind(this),r),this.isShowCloudStoriesCounter=s,this.stayInAccountList=a,this.loadAccountsList(null,this.getSocialsParams(),u),this.socialCountersSettings.isShowOkCounter&&ai("social_counters_hit_ok"),this.socialCountersSettings.isShowVKCounter&&ai("social_counters_hit_vk")}getSocialsParams(){const t={};return this.socialCountersSettings.isShowVKCounter&&this.socialCountersSettings.isVKConnectForVKCounter&&(t.vk_connect=1),this.socialCountersSettings.isShowOkCounter&&this.socialCountersSettings.isServerApiForOKCounter&&(t.ok_counters=1),t}getCloudCounterParams(){const t={};return this.isShowCloudStoriesCounter&&(t.cstories=1),t}getCountersQueryParams(){const t=this.getSocialsParams(),e=this.getCloudCounterParams();return Object.assign(Object.assign({},t),e)}handleSocialCounters(t,e){let{vk_counters:r=null,ok_counters:n=null}=t;var o,i;r&&Object.values(r).length?(ai("vk_counter_success"),ai("social_counters_vk_server")):e&&(null===(o=this.socialCountersSettings)||void 0===o?void 0:o.isShowVKCounter)&&(this.vkCounter.getDataFromApi(),r&&ai("social_counters_vk_repeat")),n&&Object.values(n).length?(ai("ok_counter_success"),ai("social_counters_ok_server")):e&&(null===(i=this.socialCountersSettings)||void 0===i?void 0:i.isShowOkCounter)&&(this.socialCountersSettings.isServerApiForOKCounter?this.socialCountersSettings.isClientApiAfterServerApiForOKCounter?this.okCounter.getDataFromApi():this.updateSomeCounters({ok:{}}):this.okCounter.getDataFromApi())}handleSocialCountersErrors(){var t,e;(null===(t=this.socialCountersSettings)||void 0===t?void 0:t.isShowVKCounter)&&(ai("vk_counter_error"),ai("social_counters_vk_error_server")),(null===(e=this.socialCountersSettings)||void 0===e?void 0:e.isShowOkCounter)&&(ai("ok_counter_error"),ai("social_counters_ok_error_server"))}loadAccountInfo(t,e,r){return ju.getInfo(t,e,r).then((t=>{var r;ai("load_account_info_success"),t.status===Iu.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),Uu(null===(r=t.data)||void 0===r?void 0:r.list)):t.status===Iu.NOAUTH&&this.handleClearAccount()})).catch((()=>{ai("load_account_info_error"),this.handleSocialCountersErrors()}))}loadAccountsList(t,e,r){let n={};return ju.getListInfo(this.activeUser,e,r).then((t=>{var r;ai("load_accounts_list_success"),t.status===Iu.OK?(this.handleUpdateAccount(t.data),this.handleSocialCounters(t.data,e),Uu(null===(r=t.data)||void 0===r?void 0:r.list)):t.status===Iu.NOAUTH&&this.handleClearAccount(),n=t,qu||(qu=!0)})).catch((()=>{ai("load_accounts_list_error"),this.handleSocialCountersErrors(),n={status:Iu.ERROR,data:{}}})).finally((()=>{t&&t(Mu.convert(n))}))}logoutAccount(t,e){return this.authApi.logout(t).then((t=>{ai("logout_account_success"),t.status===Iu.OK&&this.loadAccountsList(e)})).catch((()=>{ai("logout_account_error")}))}switchAccountWithReload(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return t?this.authApi.auth(t).then((o=>{let{status:i,data:a,location:s}=o;switch(ai("switch_account_success"),i){case Lu.OK:this.activeUserFullName=Yu(a.first_name,a.last_name,a.email),e?this.loadAccountsList(null,r):this.loadAccountInfo(a.email,r,n);break;case Lu.MRIM:return(null===window||void 0===window?void 0:window.location)&&s&&(window.location.href=s),!1;case Lu.NOAUTH:if(a.list.includes(t))return this.handleExpiredAccount(t),!1;a.email&&a.list.length?this.stayInAccountList?this.loadAccountInfo(a.email,r):this.loadAccountsList(null,r):a.list.length||this.handleClearAccount()}return!0})).catch((()=>(ai("switch_account_error"),!0))):Promise.resolve(!0)}updateSomeCounters(t){"mail"in t&&this.updateCounterMail(+t.mail),"love"in t&&this.updateCounterLove(+t.love),"games"in t&&this.updateCounterGames(+t.games),"moymir"in t&&this.updateCounterMoyMir(+t.moymir),"ok"in t&&this.okCounter.updateData(t.ok),"vk"in t&&this.vkCounter.updateData(t.vk),"cloud-with-utm"in t&&this.updateCounterCloudStories(t["cloud-with-utm"]),this.emitAccountDataUpdate()}emitAccountDataUpdate(){this.eventEmitter.emit(Fa.AccountDataUpdate,null,{activeUser:this.activeUser,activeUserFullName:this.activeUserFullName,parentActiveUser:this.parentActiveUser,gamesCount:this.gamesCount,mailCount:this.mailCount,moymirCount:this.moymirCount,okCount:this.okCounter.value,vkCount:this.vkCounter.value,loveCount:this.loveCount,cloudCount:this.cloudCount,restAccountsMailCount:this.restAccountsMailCount,accounts:this.accounts,quotaCounters:this.quotaCounters})}updateCounterMail(t){"number"==typeof t&&this.mailCount!==t&&(this.eventEmitter.emit(Fa.UpdateCounterMail,null,{count:t}),this.mailCount=t)}updateCounterLove(t){"number"==typeof t&&this.loveCount!==t&&(this.eventEmitter.emit(Fa.UpdateCounterLove,null,{count:t}),this.loveCount=t)}updateCounterGames(t){"number"==typeof t&&this.gamesCount!==t&&(this.eventEmitter.emit(Fa.UpdateCounterGames,null,{count:t}),this.gamesCount=t)}updateCounterMoyMir(t){"number"==typeof t&&this.moymirCount!==t&&(this.eventEmitter.emit(Fa.UpdateCounterMoyMir,null,{count:t}),this.moymirCount=t)}updateCounterCloudStories(t){const e=this.isShowCloudStoriesCounter?t:0;Number.isInteger(e)&&this.cloudCount!==e&&(this.eventEmitter.emit(Fa.UpdateCounterCloudStories,null,{count:e}),this.cloudCount=e)}updateQuotaCounters(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{mail:r={},cloud:n={}}=this.quotaCounters,{used_cnt:o}=r,{used_cnt:i,total_cnt:a}=n;let s=r,u=n,c=!1;o!==(null==t?void 0:t.used_cnt)&&(s=t,c=!0),i===(null==e?void 0:e.used_cnt)&&a===(null==e?void 0:e.total_cnt)||(u=e,c=!0),c&&(this.eventEmitter.emit(Fa.UpdateQuotaCounters,null,{mail:s,cloud:u}),this.quotaCounters={mail:s,cloud:u})}handleAuthChange(t,e){const r=tc(t),n=()=>({email:r,list:t?t.list:[]});if(this.ph.getListenersNumber($a.AuthChange)&&qu&&this.activeUser!==r)return(new Image).src=`//r3.${Xo}/k?auth=1&rnd=${Math.random()}`,void this.ph.emit($a.AuthChange,e,n());qu||!this.activeUser||r||this.ph.emit($a.InvalidServerSideAuth,null,n()),e()}handleUpdateAccount(t){this.handleAuthChange(t,(()=>{this.updateAccount(t)}))}updateAccount(t){if(this.parentActiveUser=t.email,this.activeUser=tc(t),this.restAccountsMailCount=t.mail_notifier?+t.mail_notifier:0,t.ldata){const e=function(t){const e=[];return t.list.forEach((r=>{const n=t.ldata[r].children;let o;n&&(o={},Object.entries(n).forEach((t=>{let[r,n]=t;e.push({user:r,firstName:n.first_name,lastName:n.last_name,mailCounter:n.mail_cnt,verified:!1,child:!0}),o[r]={firstName:n.first_name,lastName:n.last_name,mailCounter:n.mail_cnt,isActive:n.active}})));const i=t.ldata[r];e.push({user:r,firstName:i.first_name,lastName:i.last_name,mailCounter:i.mail_cnt,verified:i.verified,child:i.child,children:o})})),[...e.reduce(((t,e)=>(t.set(e.user,e),t)),new Map).values()]}(t);this.accounts=e;const r=e.find((t=>t.user===this.activeUser));this.activeUserFullName=Yu(Xu(r.firstName),Xu(r.lastName),Xu(r.user))}this.updateCounterMail(+t.mail_cnt),this.updateCounterMoyMir(+t.my_cnt),this.updateCounterGames(+t.games_cnt),this.updateCounterCloudStories(+t.cloud_stories_cnt),this.updateQuotaCounters(null==t?void 0:t.mail_quota_counters,null==t?void 0:t.cloud_quota_counters),t.ok_counters&&Object.values(t.ok_counters).length&&this.okCounter.updateData(t.ok_counters),t.vk_counters&&Object.values(t.vk_counters).length&&this.vkCounter.updateData(t.vk_counters),this.emitAccountDataUpdate()}handleClearAccount(){this.ph.getListenersNumber($a.AuthLost)&&this.activeUser?this.ph.emit($a.AuthLost,this.clearAccount,{}):this.handleAuthChange("",this.clearAccount.bind(this))}handleExpiredAccount(t){this.ph.authForm.show({type:"choice",email:t,from:"navi"})}clearAccount(){this.activeUser="",this.activeUserFullName="",this.parentActiveUser="",this.updateCounterMail(0),this.updateCounterLove(0),this.updateCounterGames(0),this.updateCounterMoyMir(0),this.updateCounterCloudStories(0),this.updateQuotaCounters({},{}),this.okCounter.updateData({}),this.vkCounter.updateData({}),this.restAccountsMailCount=0,this.accounts=[],this.emitAccountDataUpdate()}}function tc(t){return t?t.active_email||t.email:""}class ec{constructor(t,e){this._ph=t,this._options=e,document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))}onVisibilityChange(){const t="hidden"!==document.visibilityState,{socialCountersSettings:{isShowOkCounter:e,isShowVKCounter:r,updateSocialCountersOnVisibilityChange:n},isShowCloudStoriesCounter:o,isHideRightPart:i}=this._options,a=n?this._ph.getSocialsParams():null,s=o?this._ph.getCloudCounterParams():null;if(this._ph.emit($a.VisibilityChange,null,{visible:t}),t){const t=this._ph.activeUser();t&&!i?(this._ph.switchAccount(t,!1,!1,Object.assign(Object.assign({},a),s)),a&&e&&ai("social_counters_visibility_change_ok"),a&&r&&ai("social_counters_visibility_change_vk"),s&&o&&ai("cloud_counter_visibility_change")):this._ph.loadAccountInfo()}}}let rc,nc;window.__PH=new class extends ts{constructor(t){nc=t,nc||(console.warn("ERROR (PublicPH): no initial settings data"),nc={siteId:"",siteZone:"",experimentId:"",isWhiteline:!0,isDebug:"",activeEmail:"",maxAccounts:"20",counters:{},experiments:{},colorTheme:si.Default,social:{vk:!1,ok:!1,fb:!1},lang:ui}),super({extendedSettings:t._,isDebug:!!nc.isDebug,siteId:nc.siteId,isModern:nc.isModern,experimentId:nc.experimentId,omicron_ShortSegments:nc.omicron_ShortSegments,omicron_Version:nc.omicron_Version,email:nc.activeEmail,idleXray:nc.idleXray});try{this.authForm=new Es(nc),this.authMenu=new xs,this.settingsMenu=new Is,this.searchMenu=new Ts,this.marusiaMenu=new Ps,this.mailWidgets=new iu(nc.activeEmail),this.cookie=Object.assign(_s,{s:Ss,fieldCookie:ws}),Cs()>1?(Ss.setGlobal("rt",1),Ss.setGlobal("dpr",Cs())):(Ss.removeGlobal("rt"),Ss.removeGlobal("dpr"));const t=new Ya;rc=new Zu({ph:this,eventEmitter:t,activeUser:nc.activeEmail,authUrl:nc.authUrl,socialCountersSettings:{isShowVKCounter:nc.isShowVKCounter,isVKConnectForVKCounter:nc.isVKConnectForVKCounter,isShowOkCounter:nc.isShowOkCounter,isServerApiForOKCounter:nc.isServerApiForOKCounter,isClientApiAfterServerApiForOKCounter:nc.isClientApiAfterServerApiForOKCounter,socialCountersTimer:nc.socialCountersTimer,updateSocialCountersOnVisibilityChange:nc.updateSocialCountersOnVisibilityChange},stayInAccountList:nc.stayInAccountListOnVisibilityChange,isShowCloudStoriesCounter:Ha(nc),addTargetToNaviData:nc.addTargetToNaviData}),this.accountService={onAccountDataUpdate:e=>t.on(Fa.AccountDataUpdate,e),on:(e,r)=>t.on(e,r),removeListener:(e,r)=>t.removeListener(e,r)},new ec(this,{socialCountersSettings:rc.socialCountersSettings,isShowCloudStoriesCounter:rc.isShowCloudStoriesCounter,isHideRightPart:nc.isHideRightPart})}catch(t){ai("ph_cnstr_err",{rlog:"ph_cnstr_err",rlog_message:{message:null==t?void 0:t.message,hasAuthForm:!!this.authForm,hasAuthMenu:!!this.authMenu,hasSettingsMenu:!!this.settingsMenu,hasSearchMenu:!!this.searchMenu,hasMarusiaMenu:!!this.marusiaMenu,hasMailWidgets:!!this.mailWidgets,hasCookie:!!this.cookie,hasInternalAccountService:!!rc}})}}getSocialsParams(){return rc.getSocialsParams()}getCloudCounterParams(){return rc.getCloudCounterParams()}getCountersQueryParams(){return rc.getCountersQueryParams()}getSearchPlaceholder(){return new Promise((t=>{this.on($a.SearchBoxMount,(e=>{t(e.data)}))}))}loadAccountInfo(t,e){return rc.loadAccountInfo(t,e)}loadAccountsList(t,e){return rc.loadAccountsList(t,e)}switchAccount(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return rc.switchAccountWithReload(t,e,n,o).then((t=>{t&&r&&!this.getListenersNumber($a.AuthChange)&&window.location.reload()}))}logoutAccount(t,e){return rc.logoutAccount(t,e)}activeUser(){return rc.activeUser}isMultiAuth(){return!!nc.authGate}isAuthFormEnabled(){return!!nc.authGate}isMarusiaMenuEnabled(){const t=this.activeUser(),e=nc.lang===ui;return!(!(nc.isOnMarusia&&e&&t)||/(@vk|@ok|@fb)$/.test(t))}isMailWidgetsEnabled(){return!!this.activeUser()&&!!nc&&!ci(nc.omicronConfig,"ph-mw-disabled")&&nc.isOnMailWidgets}isMarusiaInMailWidgets(){return this.isMarusiaMenuEnabled()&&nc.mailWidgetsUseMarusia&&this.isMailWidgetsEnabled()}updateCounter(t){rc.updateSomeCounters(t)}setColorTheme(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si.Default;this.emit($a.ColorThemeChange,null,{colorTheme:Object.values(si).includes(t)?t:si.Default})}setPonyMode(t){this.emit($a.SetPonyMode,null,{ponyMode:!!t})}}(window.__PHS),Object.freeze(window.__PH)}();
