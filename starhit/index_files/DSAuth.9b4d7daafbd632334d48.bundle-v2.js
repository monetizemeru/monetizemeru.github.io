(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"1ENMbwiSdu":function(t,s,e){"use strict";e.d(s,"a",(function(){return f}));var o,r=e("QyjeWo4pzj"),a=e.n(r),i=e("vpJfr0CfOF"),n=e("6BMwl5LVp8"),c=e("43MkL16QBH"),l=e("F7m01h7vdL"),u=e("Cm6KfBV9dr"),d=e("qLnWNeVl7e"),h=e("c6nNLv0X5Z"),p=e("C2C9RNufz4");!function(t){t.SET_BACK_URL="SET_BACK_URL",t.RESTORE_PASSWORD="restorePassword"}(o||(o={}));const f=Object(i.c)("UserRestorePasswordStore",{state:()=>({isComplete:!1,errors:[],backUrl:""}),actions:{setBackUrl(t){this.backUrl=t},async restorePassword({email:t="",isDryRun:s}){const e=Object(c.a)({email:t});if(this.errors=e,e.length||s)return;if(!this.services.recaptchaService)throw new l.a;let o;try{o=await this.services.recaptchaService.execute(n.d.USER_RESTORE_PASSWORD)}catch(t){return this.errors=[{type:"form",error:"Запрос на восстановление не удался, попробуйте повторить попытку"}],void this.logger.error(t)}const{projectKey:r}=Object(h.a)().project;if(""===this.backUrl){const{query:t,schemeAuthority:s,pathname:e}=Object(p.b)().request,o=a.a.stringify({...t,resetPasswordProccess:!0},{addQueryPrefix:!0});this.backUrl=`${s}${e}${o}`}try{await this.services.registrationService.restorePassword({email:t,projectKey:r,backUrl:this.backUrl},{recaptchaToken:o}),this.isComplete=!0,Object(d.c)({category:u.a.Category.RECPASSWORD,action:u.a.Action.SUCCESS})}catch(t){const s=[n.b,n.i,n.h].some((s=>t instanceof s));this.errors=[{type:"form",error:s?t.message:"Запрос на восстановление не удался, попробуйте повторить попытку"}],this.logger.warn(t)}}}})},"4GwzDXORD/":function(t,s){t.exports={name:"checkbox_marked_24Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#checkbox_marked_24"}})])}}},"9qbY3R7gkf":function(t,s,e){"use strict";e.d(s,"a",(function(){return f}));var o,r=e("QyjeWo4pzj"),a=e.n(r),i=e("vpJfr0CfOF"),n=e("6BMwl5LVp8"),c=e("43MkL16QBH"),l=e("F7m01h7vdL"),u=e("c6nNLv0X5Z"),d=e("qLnWNeVl7e"),h=e("Cm6KfBV9dr"),p=e("C2C9RNufz4");!function(t){t.SET_BACK_URL="SET_BACK_URL",t.REGISTER_USER="registerUser"}(o||(o={}));const f=Object(i.c)("UserRegistrationStore",{state:()=>({loadingCount:0,isComplete:!1,errors:[],backUrl:""}),actions:{setBackUrl(t){this.backUrl=t},loadingInc(){this.loadingCount+=1},loadingDec(){this.loadingCount-=1},async registerUser({email:t="",password:s="",hasSubscription:e=!1,isDryRun:o}){if(this.isLoading)return;const r=Object(c.a)({email:t,password:s});if(this.errors=r,r.length||o)return;if(!this.services.recaptchaService)throw new l.a;let i;this.loadingInc();try{i=await this.services.recaptchaService.execute(n.d.USER_REGISTER)}catch(t){return this.loadingDec(),this.errors=[{type:"form",error:"Регистрация не удалась, попробуйте повторить попытку"}],void this.logger.error(t)}const{projectKey:f}=Object(u.a)().project;if(""===this.backUrl){const{query:t,schemeAuthority:s,pathname:e}=Object(p.b)().request,o=a.a.stringify({...t,registrationProcess:!0,toComments:!0},{addQueryPrefix:!0});this.backUrl=`${s}${e}${o}`}try{await this.services.registrationService.registerUser({email:t,password:s,projectKey:f,backUrl:this.backUrl},{recaptchaToken:i}),this.isComplete=!0,Object(d.c)({category:h.a.Category.REGISTRATION,action:h.a.Action.MAIL_SUCCESS}),this.loadingDec()}catch(t){this.loadingDec(),this.logger.warn(t);const s=[n.g,n.b].some((s=>t instanceof s));return void(this.errors=[{type:"form",error:s?t.message:"Регистрация не удалась, попробуйте повторить попытку"}])}e&&this.isComplete&&await this.services.subscriptionService.subscribe({email:t,projectKey:f})}},getters:{isLoading:({loadingCount:t})=>0!==t}})},AzT0NDj50d:function(t,s){t.exports={name:"checkbox_blank_24Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#checkbox_blank_24"}})])}}},EWyCPvLYgv:function(t,s,e){"use strict";var o;e.d(s,"a",(function(){return o})),e.d(s,"b",(function(){return a})),function(t){t.VK="VK",t.OK="OK",t.FACEBOOK="FACEBOOK",t.TWITTER="TWITTER",t.MAILRU="MAILRU",t.GOOGLE="GOOGLE",t.YANDEX="YANDEX"}(o||(o={}));const r={VK:"ВКонтакте",OK:"Одноклассники",FACEBOOK:"Facebook",TWITTER:"Twitter",MAILRU:"Mail.ru",GOOGLE:"Google",YANDEX:"Яндекс"};function a(t){return r[t]}},"Hb1pwp/b9M":function(t,s){t.exports={name:"mailru-iconIcon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#mailru-icon"}})])}}},S1S31jkaRU:function(t,s){t.exports={name:"mail_16Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#mail_16"}})])}}},WfIIWAmNSh:function(t,s){t.exports={name:"ok-iconIcon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#ok-icon"}})])}}},ZlMqHogBCL:function(t,s){t.exports={name:"close_24Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#close_24"}})])}}},i6RSRwMHLv:function(t,s){t.exports={name:"eye_16Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#eye_16"}})])}}},kIBqknWHiT:function(t,s,e){"use strict";e.r(s);var o=e("Kw5rN6UQTL"),r=e("EWyCPvLYgv"),a=e("h2jF4pvS1v"),i=e("Eigmez1aXy"),n=e("EnAPV3on0Q"),c=e("ZlMqHogBCL"),l=e.n(c),u=e("OiYh+YOpM7"),d=e("i6RSRwMHLv"),h=e.n(d),p=e("Frq5AL4DOT"),f=e("eII2ZUhQcg"),w=e("yYMJGFRPyA"),m=e.n(w),g=e("WfIIWAmNSh"),_=e.n(g),v=e("oABPX0VqAk"),b=e.n(v),k=e("Hb1pwp/b9M"),S=e.n(k),C=o.default.extend({components:{DSButton:f.a,IconVK:m.a,IconOK:_.a,IconGOOGLE:b.a,IconMAILRU:S.a},filters:{getSocialNetworkName:r.b},props:{socialNetworks:{required:!0,type:Array}},computed:{primaryNetwork(){return this.socialNetworks[0]},otherNetworks(){const[t,...s]=this.socialNetworks;return s}},methods:{onClick(t){this.$emit("click",{socialNetwork:t})}}}),y=e("KHd+Ze9MJY"),R=Object(y.a)(C,(function(){var t=this,s=t._self._c;t._self._setupProxy;return s("div",{staticClass:"ds-auth-modal-social-networks"},[s("DSButton",{staticClass:"ds-auth-modal-social-networks__social",attrs:{variant:"primary",size:"large"},on:{click:function(s){return t.onClick(t.primaryNetwork)}}},[s("Icon".concat(t.primaryNetwork),{tag:"component",staticClass:"mr-1",attrs:{slot:"left",width:16,height:16},slot:"left"}),s("span",[t._v(t._s(t._f("getSocialNetworkName")(t.primaryNetwork)))])],1),t.otherNetworks.length>0?s("div",{staticClass:"ds-auth-modal-social-networks__others mt-1"},t._l(t.otherNetworks,(function(e){return s("DSButton",{key:e,staticClass:"ds-auth-modal-social-networks__social",attrs:{variant:"primary",size:"medium"},on:{click:function(s){return t.onClick(e)}}},[s("Icon".concat(e),{tag:"component",attrs:{slot:"default",width:16,height:16},slot:"default"})],1)})),1):t._e()],1)}),[],!1,null,null,null).exports;const O=(t,s)=>({getError:e=>{if(!t.value)return"";const o=s.value.find((t=>t.type===e));return o?o.error:""}});var A,E=Object(o.defineComponent)({__name:"AuthModalLoginWindow",props:{errors:null,socialNetworks:null,enableEmailAuth:{type:Boolean}},emits:["auth:social","auth:login","restorePassword"],setup(t,{emit:s}){const e=t,i=Object(o.ref)(""),c=Object(o.ref)(""),l=Object(o.ref)(!1),d=Object(o.ref)(!1),{getError:w}=O(l,Object(o.toRefs)(e).errors);return{__sfc:!0,props:e,email:i,password:c,hasSubmit:l,isPasswordVisible:d,emit:s,getError:w,onSocialAuthClick:function(t){s("auth:social",t)},tooglePasswordVisibility:function(){d.value=!d.value},onSubmit:function(){l.value=!0,s("auth:login",{fields:{password:c.value,email:i.value},isDryRun:!1})},onInput:function(){s("auth:login",{fields:{password:c.value,email:i.value},isDryRun:!0})},ref:o.ref,toRefs:o.toRefs,SocialNetwork:r.a,Projects:a.a,IconEye16:h.a,DSInput:p.a,DSButton:f.a,Link:n.a,AuthModalSocialNetworks:R,Typography:u.a,useGetError:O}}}),I=Object(y.a)(E,(function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{staticClass:"ds-auth-modal-login-window"},[s("p",{staticClass:"mb-1 text-style-ui-caption-2"},[t._v("C помощью аккаунта в соц. сетях")]),s(e.AuthModalSocialNetworks,{attrs:{socialNetworks:e.props.socialNetworks},on:{click:e.onSocialAuthClick}}),e.props.enableEmailAuth?[s("p",{staticClass:"mt-3"},[t._v("Через почту")]),s(e.DSInput,{staticClass:"ds-auth-modal-login-window__input mt-1",attrs:{placeholder:"Почта",error:e.getError("email")},on:{input:e.onInput},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s(e.DSInput,{staticClass:"ds-auth-modal-login-window__input mt-1",attrs:{placeholder:"Пароль",error:e.getError("password"),type:e.isPasswordVisible?"text":"password"},on:{input:e.onInput},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[s("div",{staticClass:"ds-auth-modal-login-window__input-icon-wrapper",attrs:{slot:"right"},on:{click:e.tooglePasswordVisibility},slot:"right"},[s(e.IconEye16,{attrs:{size:16}})],1)]),e.getError("form")?s("div",{staticClass:"ds-auth-modal-login-window__error"},[t._v(t._s(e.getError("form")))]):t._e(),s(e.DSButton,{staticClass:"ds-auth-modal-login-window__input my-2",attrs:{variant:"primary",size:"large"},on:{click:e.onSubmit}},[t._v("Войти")]),s(e.Link,{attrs:{size:e.Typography.UI_BODY,hasHover:!1},on:{click:function(t){return e.emit("restorePassword")}}},[t._v("Забыли пароль?")])]:t._e()],2)}),[],!1,null,"19e4caa0",null).exports,j=e("y1xmru0q8C"),N=e.n(j),x=Object(o.defineComponent)({__name:"AuthModalRestorePasswordWindow",props:{isRestorePasswordComplete:{type:Boolean},errors:null},emits:["auth:restore","back","close"],setup(t,{emit:s}){const e=t,a=Object(o.ref)(""),i=Object(o.ref)(!1),{getError:n}=O(i,Object(o.toRefs)(e).errors);return{__sfc:!0,email:a,hasSubmit:i,props:e,emit:s,getError:n,onSubmit:function(){i.value=!0,s("auth:restore",{fields:{email:a.value},isDryRun:!1})},onInput:function(){s("auth:restore",{fields:{email:a.value},isDryRun:!0})},ref:o.ref,toRefs:o.toRefs,SocialNetwork:r.a,DSInput:p.a,DSButton:f.a,IconChevronLeft16:N.a,useGetError:O}}}),P=Object(y.a)(x,(function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{staticClass:"ds-auth-modal-resore-password-window"},[t.isRestorePasswordComplete?t._e():[s(e.DSInput,{staticClass:"ds-auth-modal-resore-password-window__input mt-1",attrs:{placeholder:"Почта",error:e.getError("email")},on:{input:e.onInput},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e.getError("form")?s("div",{staticClass:"ds-auth-modal-resore-password-window__error"},[t._v(t._s(e.getError("form")))]):t._e(),s(e.DSButton,{staticClass:"ds-auth-modal-resore-password-window__input mt-2",attrs:{variant:"primary",size:"large"},on:{click:e.onSubmit}},[t._v("Восстановить")]),s(e.DSButton,{staticClass:"ds-auth-modal-resore-password-window__input",attrs:{variant:"secondary",size:"large"},on:{click:function(t){return e.emit("back")}}},[s(e.IconChevronLeft16,{attrs:{slot:"left",size:16},slot:"left"}),s("span",[t._v("Назад")])],1)],t.isRestorePasswordComplete?[s("p",[t._v("На указанную вами эл. почту отправлена инструкция по восстановлению пароля")]),s(e.DSButton,{staticClass:"ds-auth-modal-resore-password-window__input",attrs:{variant:"secondary",size:"large"},on:{click:function(t){return e.emit("close")}}},[t._v("Закрыть")])]:t._e()],2)}),[],!1,null,"092ea7be",null).exports,L=e("xo5TgY+GFP"),D=e.n(L),W=e("S1S31jkaRU"),M=e.n(W),T=e("pyk+cvf7mI");!function(t){t[t.MAIN=0]="MAIN",t[t.EMAIL=1]="EMAIL",t[t.INFO=2]="INFO"}(A||(A={}));var z,B=Object(o.defineComponent)({__name:"AuthModalRegistrationWindow",props:{socialNetworks:null,isRegistrationComplete:{type:Boolean},hasSubscription:{type:Boolean},errors:null},emits:["back","close","auth:social","auth:register"],setup(t,{emit:s}){const e=t,i=Object(o.ref)(""),n=Object(o.ref)(""),c=Object(o.ref)(!1),l=Object(o.ref)(!1),u=Object(o.ref)(A.MAIN),{getError:d}=O(l,Object(o.toRefs)(e).errors);return Object(o.watch)((()=>e.isRegistrationComplete),(async t=>{t&&(u.value=A.INFO)})),{__sfc:!0,RegistrationWindows:A,props:e,email:i,password:n,subscription:c,hasSubmit:l,activeWindow:u,emit:s,getError:d,onSocialAuthClick:function(t){s("auth:social",t)},onSubmit:function(){l.value=!0,s("auth:register",{fields:{email:i.value,password:n.value,hasSubscription:c.value},isDryRun:!1})},onInput:function(){s("auth:register",{fields:{email:i.value,password:n.value},isDryRun:!0})},ref:o.ref,toRefs:o.toRefs,watch:o.watch,SocialNetwork:r.a,Projects:a.a,IconEyeSlash16:D.a,IconMail16:M.a,IconChevronLeft16:N.a,DSInput:p.a,DSButton:f.a,DSCheckbox:T.a,AuthModalSocialNetworks:R,useGetError:O}}}),U=Object(y.a)(B,(function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{staticClass:"ds-auth-modal-registration-window"},[e.activeWindow===e.RegistrationWindows.MAIN?[s(e.DSButton,{staticClass:"ds-auth-modal-registration-window__mail",attrs:{variant:"tertiary",size:"large"},on:{click:function(t){e.activeWindow=e.RegistrationWindows.EMAIL}}},[s(e.IconMail16,{staticClass:"mr-1",attrs:{slot:"left",size:16},slot:"left"}),s("span",[t._v("Почта")])],1),s(e.AuthModalSocialNetworks,{staticClass:"mt-1",attrs:{socialNetworks:e.props.socialNetworks},on:{click:e.onSocialAuthClick}}),s(e.DSButton,{staticClass:"ds-auth-modal-registration-window__button mt-2",attrs:{variant:"secondary",size:"large"},on:{click:function(t){return e.emit("back")}}},[s(e.IconChevronLeft16,{attrs:{slot:"left",size:16},slot:"left"}),s("span",[t._v("Назад")])],1)]:t._e(),e.activeWindow===e.RegistrationWindows.EMAIL?[s(e.DSInput,{staticClass:"ds-auth-modal-registration-window__input mt-1",attrs:{placeholder:"Почта",error:e.getError("email")},on:{input:e.onInput},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s(e.DSInput,{staticClass:"ds-auth-modal-registration-window__input mt-1",attrs:{placeholder:"Пароль",error:e.getError("password")},on:{input:e.onInput},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[s(e.IconEyeSlash16,{attrs:{slot:"right",size:16},slot:"right"})],1),e.getError("form")?s("div",{staticClass:"ds-auth-modal-registration-window__error"},[t._v(t._s(e.getError("form")))]):t._e(),t.hasSubscription?s(e.DSCheckbox,{staticClass:"mt-1",model:{value:e.subscription,callback:function(t){e.subscription=t},expression:"subscription"}},[t._v("Подписаться на рассылку")]):t._e(),s(e.DSButton,{staticClass:"ds-auth-modal-registration-window__input mt-2",attrs:{variant:"primary",size:"large"},on:{click:e.onSubmit}},[t._v("Зарегистрироваться")]),s(e.DSButton,{staticClass:"ds-auth-modal-registration-window__input",attrs:{variant:"secondary",size:"large"},on:{click:function(t){e.activeWindow=e.RegistrationWindows.MAIN}}},[s(e.IconChevronLeft16,{attrs:{slot:"left",size:16},slot:"left"}),s("span",[t._v("Назад")])],1)]:t._e(),e.activeWindow===e.RegistrationWindows.INFO?[s("p",[t._v("На вашу почту отправлен запрос на подтверждение регистрации.")]),t._v("Пожалуйста, перейдите по ссылке в письме, чтобы активировать аккаунт."),s(e.DSButton,{staticClass:"ds-auth-modal-registration-window__button mt-2",attrs:{variant:"secondary",size:"large"},on:{click:function(t){return e.emit("back")}}},[t._v("Закрыть")])]:t._e()],2)}),[],!1,null,"551f645a",null).exports;!function(t){t[t.LOGIN=0]="LOGIN",t[t.REGISTRATION=1]="REGISTRATION",t[t.RESTORE_PASSWORD=2]="RESTORE_PASSWORD"}(z||(z={}));var G=Object(o.defineComponent)({__name:"AuthModal",props:{authErrors:null,projectName:null,legalEntity:null,restorePasswordErrors:null,registrationErrors:null,isRestorePasswordComplete:{type:Boolean},isRegistrationComplete:{type:Boolean},projectKey:null,socialNetworks:null,userAgreementLink:null,isMobileScreen:{type:Boolean},enableEmailAuth:{type:Boolean},isVisible:{type:Boolean},hasSubscription:{type:Boolean}},emits:["onSocialAuthClick","onPasswordRestore","onLogin","onRegister","onFogetPasswordClick","onShowRegistrationClick","close"],setup(t,{emit:s}){const e=t,c={[z.LOGIN]:"Вход",[z.REGISTRATION]:"Регистрация",[z.RESTORE_PASSWORD]:"Восстановление пароля"},d=Object(o.ref)(z.LOGIN);return{__sfc:!0,AuthWindows:z,titleMap:c,props:e,emit:s,activeWindow:d,onSocialAuthClick:function(t){s("onSocialAuthClick",t)},onRestorePassword:()=>{d.value=z.RESTORE_PASSWORD,s("onFogetPasswordClick")},onRegistration:()=>{d.value=z.REGISTRATION,s("onShowRegistrationClick")},close:function(){d.value=z.LOGIN,s("close")},ref:o.ref,SocialNetwork:r.a,Projects:a.a,Logo:i.b,Link:n.a,IconClose24:l.a,Typography:u.a,AuthModalLoginWindow:I,AuthModalRestorePasswordWindow:P,AuthModalRegistrationWindow:U}}}),K=Object(y.a)(G,(function(){var t=this,s=t._self._c,e=t._self._setupProxy;return s("div",{staticClass:"ds-auth-modal",class:{"ds-auth-modal_visible":e.props.isVisible}},[s("transition",{attrs:{name:"overlay"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.props.isVisible,expression:"props.isVisible"}],staticClass:"ds-auth-modal__overlay",on:{click:e.close}})]),t.isVisible?s("div",{staticClass:"ds-auth-modal__container"},[s("button",{staticClass:"ds-auth-modal__close",on:{click:e.close}},[s(e.IconClose24,{attrs:{size:24}})],1),s("div",{staticClass:"ds-auth-modal__window"},[s("div",{staticClass:"ds-auth-modal__header"},[s("h3",{staticClass:"ds-auth-modal__title"},[t._v(t._s(e.titleMap[e.activeWindow]))]),e.activeWindow===e.AuthWindows.LOGIN&&t.enableEmailAuth?s(e.Link,{attrs:{size:e.Typography.UI_BODY,hasHover:!1},on:{click:e.onRegistration}},[t._v("Регистрация")]):t._e()],1),e.activeWindow===e.AuthWindows.LOGIN?[s(e.AuthModalLoginWindow,{attrs:{errors:t.authErrors,enableEmailAuth:t.enableEmailAuth,socialNetworks:e.props.socialNetworks},on:{"auth:social":e.onSocialAuthClick,"auth:login":function(t){return e.emit("onLogin",t)},restorePassword:e.onRestorePassword}})]:t._e(),e.activeWindow===e.AuthWindows.RESTORE_PASSWORD?[s(e.AuthModalRestorePasswordWindow,{attrs:{isRestorePasswordComplete:t.isRestorePasswordComplete,errors:t.restorePasswordErrors},on:{"auth:restore":function(t){return e.emit("onPasswordRestore",t)},back:function(t){e.activeWindow=e.AuthWindows.LOGIN},close:e.close}})]:t._e(),e.activeWindow===e.AuthWindows.REGISTRATION?[s(e.AuthModalRegistrationWindow,{attrs:{isRegistrationComplete:t.isRegistrationComplete,errors:t.registrationErrors,hasSubscription:t.hasSubscription,socialNetworks:e.props.socialNetworks},on:{"auth:register":function(t){return e.emit("onRegister",t)},"auth:social":e.onSocialAuthClick,back:function(t){e.activeWindow=e.AuthWindows.LOGIN}}})]:t._e(),e.activeWindow!==e.AuthWindows.RESTORE_PASSWORD?s("p",{staticClass:"ds-auth-modal__rules-hint"},[t._v("При регистрации или авторизации на "+t._s(t.projectName)+" вы принимаете\n"),s("a",{staticClass:"ds-auth-modal__user-agreement-link",attrs:{href:t.userAgreementLink,target:"_blank"}},[t._v("условия Политики "+t._s(t.legalEntity))])]):t._e()],2),t.isMobileScreen?t._e():s("div",{staticClass:"ds-auth-modal__brand"},[s(e.Logo,{staticClass:"ds-auth-modal__logo",attrs:{projectKey:t.projectKey.toLowerCase(),size:"sm"}})],1)]):t._e()],1)}),[],!1,null,null,null).exports,V=e("qLnWNeVl7e"),F=e("Cm6KfBV9dr"),q=e("bVBN8N3Uzm"),Y=e("ikr7gjAPtG"),H=e("c6nNLv0X5Z"),X=e("vpJfr0CfOF"),Q=e("9qbY3R7gkf"),$=e("1ENMbwiSdu"),J=Object(o.defineComponent)({__name:"DSAuth",setup(t){const s=Object(q.a)(),e=Object(Y.a)(),o=Object(H.a)(),a=Object(Q.a)(),i=Object($.a)(),{isAuthModalOpened:n,authErrors:c}=Object(X.f)(s),{page:l}=Object(X.f)(e),{project:u}=Object(X.f)(o),{errors:d,isComplete:h}=Object(X.f)(i),{errors:p,isComplete:f}=Object(X.f)(a);return{__sfc:!0,authUserStore:s,pageStore:e,projectStore:o,userRegistrationStore:a,userRestorePasswordStore:i,isAuthModalOpened:n,authErrors:c,page:l,project:u,restorePasswordErrors:d,isRestorePasswordComplete:h,registrationErrors:p,isRegistrationComplete:f,onFogetPasswordClick:()=>Object(V.d)(F.a.Action.FORGET_PASSWORD),onShowRegistrationClick:()=>Object(V.d)(F.a.Action.REGISTRATION),onSocialAuth:({socialNetwork:t})=>{s.socialAuth({socialNetwork:t}),Object(V.d)(F.a.Action.SN_AUTH),Object(V.d)(`${F.a.Action.SN_AUTH}_${t}`)},onPasswordRestore:t=>{i.restorePassword({...t.fields,isDryRun:t.isDryRun}),t.isDryRun||Object(V.d)(F.a.Action.RECOVER_PASSWORD)},onRegister:t=>{a.registerUser({...t.fields,isDryRun:t.isDryRun}),t.isDryRun||Object(V.d)(F.a.Action.REGISTRATION_SUBMIT)},onLogin:t=>{s.login({...t.fields,isDryRun:t.isDryRun}),t.isDryRun||Object(V.d)(F.a.Action.LOGIN)},close:()=>s.setAuthModalOpened({opened:!1}),AuthModal:K,SocialNetwork:r.a,trackClick:V.d,Analytics:F.a,useAuthUserStore:q.a,usePageStore:Y.a,useProjectStore:H.a,storeToRefs:X.f,useUserRegistrationStore:Q.a,useUserRestorePasswordStore:$.a}}}),Z=Object(y.a)(J,(function(){var t=this._self._c,s=this._self._setupProxy;return t(s.AuthModal,{attrs:{isVisible:s.isAuthModalOpened,authErrors:s.authErrors,legalEntity:s.project.legalEntity,registrationErrors:s.registrationErrors,restorePasswordErrors:s.restorePasswordErrors,isRestorePasswordComplete:s.isRestorePasswordComplete,isRegistrationComplete:s.isRegistrationComplete,projectName:s.project.projectShortName||s.project.projectName,hasSubscription:!!s.project.subscribeForm,projectKey:s.project.projectKey,isMobileScreen:s.page.isMobile,enableEmailAuth:s.project.enableEmailAuth,userAgreementLink:s.project.userAgreementLink,socialNetworks:s.project.authSocialsNetworks},on:{onFogetPasswordClick:s.onFogetPasswordClick,onShowRegistrationClick:s.onShowRegistrationClick,onSocialAuthClick:s.onSocialAuth,onPasswordRestore:s.onPasswordRestore,onLogin:s.onLogin,onRegister:s.onRegister,close:s.close}})}),[],!1,null,null,null);s.default=Z.exports},oABPX0VqAk:function(t,s){t.exports={name:"go-iconIcon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#go-icon"}})])}}},"pyk+cvf7mI":function(t,s,e){"use strict";var o=e("Kw5rN6UQTL"),r=e("AzT0NDj50d"),a=e.n(r),i=e("4GwzDXORD/"),n=e.n(i),c=o.default.extend({components:{IconCheckboxBlank24:a.a,IconCheckboxMarked24:n.a},props:{value:{required:!0,type:Boolean},size:{required:!1,type:String,default:"medium"}},methods:{onInput(t){this.$emit("input",t)}}}),l=e("KHd+Ze9MJY"),u=Object(l.a)(c,(function(){var t=this,s=t._self._c;t._self._setupProxy;return s("label",{staticClass:"ds-checkbox"},[s("input",{staticClass:"ds-checkbox__input",attrs:{type:"checkbox"},domProps:{checked:t.value},on:{change:function(s){return t.onInput(s.target.checked)}}}),t.value?s("IconCheckboxMarked24",{key:"enabled",staticClass:"ds-checkbox__icon",attrs:{size:24}}):s("IconCheckboxBlank24",{key:"disabled",staticClass:"ds-checkbox__icon",attrs:{size:24}}),s("div",{staticClass:"ds-checkbox__text"},[t._t("default")],2)],1)}),[],!1,null,"08be28d4",null);s.a=u.exports},"xo5TgY+GFP":function(t,s){t.exports={name:"eye_slash_16Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#eye_slash_16"}})])}}},y1xmru0q8C:function(t,s){t.exports={name:"chevron_left_16Icon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#chevron_left_16"}})])}}},yYMJGFRPyA:function(t,s){t.exports={name:"vk-iconIcon",functional:!0,render:function(t,s){const e=s.data;var o=[];if(e.attrs){var r=e.attrs.width||e.attrs.size,a=e.attrs.height||e.attrs.size,i={};r&&(i.width=r+"px"),a&&(i.height=a+"px"),o.push(i)}return o.push(e.style),o.push(e.staticStyle),t("svg",{slot:"icon",staticClass:"svg-icon",class:[e.staticClass,e.class],style:o},[t("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#vk-icon"}})])}}}}]);