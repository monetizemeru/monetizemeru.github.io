(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"1RwQRjjORr":function(e,t){e.exports={name:"check_24Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#check_24"}})])}}},"21zNvOll6A":function(e,t){e.exports={name:"info_24Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#info_24"}})])}}},"33t7QQkuac":function(e,t,s){"use strict";function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}var a,o,r=s("Kw5rN6UQTL"),l=s("RsHRWgQobi");!function(e){e.HORIZONTAL="HORIZONTAL",e.VERTICAL="VERTICAL"}(a||(a={})),function(e){e.BIG="BIG",e.SMALL="SMALL"}(o||(o={}));var c=s("TStlg7Ohd+"),d=Object(r.defineComponent)({__name:"UniversalAnnouncementsBlock",props:{announcements:{required:!0,type:Array},title:{type:String,default:"Сейчас читают"},uiConfig:{type:Object,default:()=>({orientation:a.VERTICAL,imagesSize:o.BIG,roundedAnnouncement:!1,withDivider:!1})}},emits:["click"],setup(e,{emit:t}){const s=e,i=new Map([[o.BIG,{width:252,height:189}],[o.SMALL,{width:100,height:75}]]);const n=Object(r.computed)((()=>({"ds-block-top_rounded":s.uiConfig.roundedAnnouncement,"ds-block-top_with-divider":s.uiConfig.withDivider,[`ds-block-top_${s.uiConfig.orientation.toLowerCase()}`]:!0,[`ds-block-top_${s.uiConfig.imagesSize.toLowerCase()}`]:!0}))),d=Object(r.computed)((()=>i.get(s.uiConfig.imagesSize)));return{__sfc:!0,emit:t,props:s,sizes:i,srcset:function(...e){return e.reduce(((e,t,s)=>(0===s&&(e=t),s>0&&(e=`${e}, ${t} ${s+1}x`),e)),"")},modifiers:n,imageSize:d,hasAdvertiserInfo:function(e){return e.advertiser&&(""!==e.advertiser.displayName||""!==e.advertiser.siteUrl)},getAdvertiserInfo:function(e){return e.advertiser?""!==e.advertiser.displayName&&""!==e.advertiser.siteUrl?`${e.advertiser.displayName}, ${e.advertiser.siteUrl}`:e.advertiser.displayName:""},computed:r.computed,SimpleImage:l.a,Orientation:a,ImagesSize:o,AnnounceCommercialInfo:c.a}}}),u=s("KHd+Ze9MJY"),m=Object(u.a)(d,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"ds-block-top",class:s.modifiers,style:"--ds-block-top-count: ".concat(e.announcements.length),attrs:{"data-announcements-count":e.announcements.length}},[t("div",{staticClass:"ds-block-top__title"},[e.$slots.title?[e._t("title")]:[e._v(e._s(e.title))]],2),t("ul",{staticClass:"ds-block-top__announcements"},e._l(e.announcements,(function(n,a){return t("li",{staticClass:"ds-block-top__announcement"},[t("a",{staticClass:"ds-block-top__announcement-link",attrs:{href:n.href},on:{click:function(e){return s.emit("click",e)}}},[t("figure",{staticClass:"ds-block-top__announcement-figure"},[s.hasAdvertiserInfo(n)?t(s.AnnounceCommercialInfo,{staticClass:"ds-block-top__commercial-info",attrs:{popupText:s.getAdvertiserInfo(n)}}):e._e(),t(s.SimpleImage,{staticClass:"ds-block-top__announcement-image",attrs:{src:n.imageUrl,srcset:s.srcset.apply(s,i(n.srcset)),width:s.imageSize.width,height:s.imageSize.height}}),t("span",{staticClass:"ds-block-top__announcement-icon"},[e._t("icon-".concat(a))],2)],1),t("figcaption",{staticClass:"ds-block-top__announcement-title"},[e._v(e._s(n.title))])])])})),0)])}),[],!1,null,null,null);t.a=m.exports},"4GwzDXORD/":function(e,t){e.exports={name:"checkbox_marked_24Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#checkbox_marked_24"}})])}}},"6XCzC0I988":function(e,t,s){"use strict";var i=s("Kw5rN6UQTL"),n=s("vpJfr0CfOF"),a=s("FqXwd9Koae"),o=s.n(a),r=s("Z6ZK1ma2oU"),l=s.n(r),c=s("RN5QMfSL8B"),d=s("Gtf/vvsL1+"),u=s("RH7R8Qddu7"),m=s("RChSAOOZ8O"),h=s("ikr7gjAPtG"),p=s("c6nNLv0X5Z"),_=s("Cm6KfBV9dr"),C=s("qLnWNeVl7e"),b=Object(i.defineComponent)({__name:"TgbSlider",props:{screenSize:null,title:{default:"Спецпроекты"},priority:null,showAdvOnNthSlide:null,extraLarge:{type:Boolean},scrooge:{type:Boolean}},setup(e){const t=e,s={initialIndex:0,preloadImages:!1,lazy:{loadPrevNext:!0},allowTouchMove:!0},a={slidesPerView:"auto",spaceBetween:8,initialIndex:0,preloadImages:!0,allowTouchMove:!1},r={...a,slidesPerView:4,spaceBetween:12},b=Object(h.a)(),{page:g}=Object(n.f)(b),v=Object(p.a)(),{project:f}=Object(n.f)(v),A=Object(i.ref)(0),y=Object(i.ref)([]),S=Object(i.ref)(null),T=Object(i.ref)(),O=Object(i.ref)(0),I=_.a.Action.WIDGET_SPECIAL,E=m.a.AdUnit.TGB,k=g.value.isNewLayout||f.value.isNewLayout,L=Object(i.computed)((()=>"lg"!==t.screenSize)),B=Object(i.computed)((()=>L.value?1:t.extraLarge?4:3)),w=Object(i.computed)((()=>y.value.filter((({isFailed:e})=>!e)))),x=Object(i.computed)((()=>w.value.filter((({isDisplayed:e})=>!e)).length)),N=Object(i.computed)((()=>O.value<=0&&w.value.length>B.value)),M=(e=1)=>{for(let t=0;t<e;t+=1)y.value.push({index:y.value.length,isDisplayed:!1,isFailed:!1})},R=async()=>{if(!w.value.length||x.value>0)return;if(!("Swiper"in window)){const e=i.default.prototype.$config.swiperPath();await Object(d.a)(window,{src:e}),await Object(u.a)({name:e,callback:()=>"Swiper"in window})}null!==S.value&&S.value.destroy(),A.value=0;const e=L.value?s:t.extraLarge?r:a;S.value=new window.Swiper(T.value,{...e,loop:w.value.length>B.value}),S.value.on("slideChange",(()=>{A.value=S.value.realIndex})),S.value.on("click",(()=>{S.value.clickedSlide&&P()}))},P=()=>{null!==I&&Object(C.c)({category:_.a.Category.CLICK,action:I})};return Object(i.watch)((()=>t.screenSize),((e,t)=>{t&&e!==t&&R()})),Object(i.watch)((()=>t.extraLarge),((e,t)=>{t&&e!==t&&R()})),Object(i.watch)(x,(async e=>{0===e&&w.value.length&&(await Object(i.nextTick)(),R())})),Object(i.onMounted)((async()=>{M(6)})),Object(i.onBeforeUnmount)((()=>{null!==S.value&&S.value.destroy()})),{__sfc:!0,swiperMobileParams:s,swiperDesktopParams:a,swiperXLargeDesktopParams:r,props:t,pageStore:b,page:g,projectStore:v,project:f,activeIndex:A,creatives:y,swiper:S,swiperContainer:T,openedScroogeMarks:O,trackerName:I,adUnitName:E,isNewLayout:k,isMobile:L,slidesOnScreen:B,creativesToShow:w,loadInProgress:x,showOverlay:N,addCreative:M,reInit:R,nextSlide:()=>{null!==S.value&&S.value.slideNext()},prevSlide:()=>{null!==S.value&&S.value.slidePrev()},displayed:(e,{y:s})=>{t.scrooge||s>0?e.isDisplayed=!0:e.isFailed=!0},click:P,inViewport:()=>{null!==I&&Object(C.c)({category:_.a.Category.WATCH,action:I})},onScroogeMarkVisibilityChange:e=>{O.value+=e.detail.isVisible?1:-1},Vue:i.default,ref:i.ref,computed:i.computed,watch:i.watch,onMounted:i.onMounted,onBeforeUnmount:i.onBeforeUnmount,nextTick:i.nextTick,storeToRefs:n.f,IconChevronLeft24:o.a,IconChevronRight24:l.a,CreativeContainer:c.a,loadScript:d.a,waitingFor:u.a,Creatives:m.a,usePageStore:h.a,useProjectStore:p.a,Analytics:_.a,reachGoal:C.c}}}),g=s("KHd+Ze9MJY"),v=Object(g.a)(b,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.creativesToShow.length?t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:s.inViewport,expression:"inViewport",modifiers:{once:!0}}],staticClass:"tgb",class:{_xlarge:e.extraLarge,_oldLayout:!s.isNewLayout}},[e._t("heading",(function(){return[e.title&&e.title.length?t("div",{staticClass:"tgb__heading"},[e._v(e._s(e.title))]):e._e()]})),t("div",{ref:"swiperContainer",staticClass:"swiper-container"},[t("div",{staticClass:"swiper-wrapper"},e._l(s.creativesToShow,(function(i){return t(s.CreativeContainer,{key:i.index,staticClass:"swiper-slide",attrs:{"data-adv-mark-info-window-bounding":"",adunit:s.adUnitName,priority:e.priority},on:{displayed:function(e){return s.displayed(i,e)},failed:function(e){i.isFailed=!0}},nativeOn:{click:function(e){return s.click.apply(null,arguments)},"scrooge-advertiser-mark-visibility-change":function(e){return s.onScroogeMarkVisibilityChange.apply(null,arguments)}}})})),1),s.showOverlay?t("button",{staticClass:"tgb-circle-btn _left",on:{click:s.prevSlide}},[t("span",{staticClass:"tgb-circle-btn__icon"},[t(s.IconChevronLeft24,{attrs:{size:24}})],1)]):e._e(),s.showOverlay?t("button",{staticClass:"tgb-circle-btn _right",on:{click:s.nextSlide}},[t("span",{staticClass:"tgb-circle-btn__icon"},[t(s.IconChevronRight24,{attrs:{size:24}})],1)]):e._e(),s.isMobile&&s.showOverlay?t("div",{staticClass:"tgb-counter"},[t("span",{staticClass:"tgb-counter__active-index"},[e._v(e._s(s.activeIndex%s.creativesToShow.length+1))]),t("span",{staticClass:"tgb-counter__separator"},[e._v("/")]),t("span",{staticClass:"tgb-counter__count"},[e._v(e._s(s.creativesToShow.length))])]):e._e()])],2):e._e()}),[],!1,null,"ade7e8c2",null);t.a=v.exports},"7w33+vS/GM":function(e,t){e.exports={name:"expand_more_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#expand_more_16"}})])}}},AzT0NDj50d:function(e,t){e.exports={name:"checkbox_blank_24Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#checkbox_blank_24"}})])}}},"BqdI+V7mvt":function(e,t){e.exports={name:"minus_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#minus_16"}})])}}},FqXwd9Koae:function(e,t){e.exports={name:"chevron_left_24Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#chevron_left_24"}})])}}},GaxqhhO00i:function(e,t){e.exports={name:"edit_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#edit_16"}})])}}},HllIA6cZUQ:function(e,t){e.exports={name:"plus_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#plus_16"}})])}}},MsSPoyMNdX:function(e,t,s){"use strict";var i=s("Kw5rN6UQTL"),n=s("+S0YNjTplz"),a=s.n(n),o=s("RN5QMfSL8B"),r=s("RChSAOOZ8O"),l=s("HGO15o7/h2"),c=s("c6nNLv0X5Z"),d=s("h2jF4pvS1v"),u=Object(i.defineComponent)({__name:"FullscreenContainer",setup(e){const t="__is_fullscreen_adunit_rotated__",s=Object(l.c)(),n=Object(i.ref)(void 0),u=Object(i.computed)((()=>void 0!==n.value)),m=Object(i.computed)((()=>n.value?r.a.AdUnit.FULLSCREEN_TO_PREVENT_ADFOX_STUB:r.a.AdUnit.FULLSCREEN)),h=Object(i.computed)((()=>!s.isFullscreenHidden&&u.value)),p=Object(i.computed)((()=>null!==s.mobileBrandingCreatives)),_=()=>{try{const e=window.localStorage.getItem(t),s=JSON.parse(e||"null");if("boolean"==typeof s)return s}catch(e){return console.error(`[FullscreenContainer]: ошибка считывания localStorage ${e.message}`),!1}return!1};return Object(i.watch)(p,(e=>{!0===e&&window.localStorage.setItem(t,JSON.stringify(!1))})),Object(i.onBeforeMount)((()=>{const e=_();n.value=e,p.value||window.localStorage.setItem(t,JSON.stringify(!e))})),{__sfc:!0,FULLSCREEN_ROTATION_DATA:t,ads:s,isFullscreenAdunitRotated:n,isFullscreenRotationDataFetched:u,fullscreenAdUnit:m,showFullscreen:h,hasMobileBranding:p,fetchFullscreenRotationData:_,onDisplayed:()=>s.onRenderFullscreen(s.isInlineFullscreenSkipped),ref:i.ref,computed:i.computed,onBeforeMount:i.onBeforeMount,watch:i.watch,NoSSR:a.a,CreativeContainer:o.a,Creatives:r.a,useCreativesStore:l.c,useProjectStore:c.a,Projects:d.a}}}),m=s("KHd+Ze9MJY"),h=Object(m.a)(u,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.showFullscreen?t(s.NoSSR,[t(s.CreativeContainer,{staticClass:"fullscreen-creative",attrs:{adunit:s.fullscreenAdUnit,priority:1},on:{displayed:s.onDisplayed}})],1):e._e()}),[],!1,null,null,null);t.a=h.exports},PzVYUfd0Ms:function(e,t){e.exports={name:"ellipsis_horizontal_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#ellipsis_horizontal_16"}})])}}},TqTK6OqsyX:function(e,t){e.exports={name:"ellipsis_vertical_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#ellipsis_vertical_16"}})])}}},"W/Ps32+TCz":function(e,t,s){"use strict";var i=s("Dgg1706hxr"),n=i.a.extend({components:{TextField:i.a},props:{value:{type:[String,Number],required:!0},minHeight:Number,autosize:Boolean,placeholder:String,maxlength:[String,Number]},computed:{bindedValue:{get(){return this.value},set(e){this.$emit("input",e)}}},watch:{value(){this.resize()}},methods:{onFieldClick(e){this.$refs.textarea.focus(),this.onClick(e)},async resize(){if(!this.autosize)return;await this.$nextTick();const e=this.$refs.textarea;e.style.height="0";const t=e.scrollHeight;t>this.minHeight||!this.minHeight?e.style.height=`${t}px`:e.style.height=`${this.minHeight}px`},focus(){this.$refs.textarea.focus()},onSubmit(){this.$emit("submit")},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")}},mounted(){this.resize()}}),a=s("KHd+Ze9MJY"),o=Object(a.a)(n,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TextField",{staticClass:"ds-textarea",class:["ds-textarea_".concat(e.size)],attrs:{label:e.label,hint:e.hint,error:e.error,size:e.size,readonly:e.readonly,disabled:e.disabled},on:{click:e.onFieldClick}},[e._t("left",null,{slot:"left"}),t("textarea",e._b({directives:[{name:"model",rawName:"v-model",value:e.bindedValue,expression:"bindedValue"}],ref:"textarea",staticClass:"ds-textarea__textarea",style:{minHeight:"".concat(e.minHeight,"px")},attrs:{readonly:e.readonly,disabled:e.disabled,placeholder:e.placeholder,maxlength:e.maxlength},domProps:{value:e.bindedValue},on:{click:function(t){return t.stopPropagation(),e.onClick.apply(null,arguments)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.onSubmit.apply(null,arguments):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?t.ctrlKey||t.shiftKey||t.altKey?null:e.onSubmit.apply(null,arguments):null}],focus:e.onFocus,blur:e.onBlur,input:function(t){t.target.composing||(e.bindedValue=t.target.value)}}},"textarea",e.$attrs,!1)),e._t("right",null,{slot:"right"})],2)}),[],!1,null,null,null);t.a=o.exports},cFCGFB5zVI:function(e,t,s){"use strict";s.r(t);var i=s("Kw5rN6UQTL"),n=s("mrSGxOB2qU"),a=s("S7WHk5yCIb"),o=s("G0B5PemcF9"),r=s("+S0YNjTplz"),l=s.n(r),c=s("Kc3Nfk9u6A"),d=s("h2jF4pvS1v"),u=s("f6HOqDyfKF"),m=s("ApQv1slMIO"),h=s("Cm6KfBV9dr"),p=s("tGRkchpzkf"),_=s("R/zTuHQir6"),C=s("EioRF2ZkbU"),b=s("GEsnoACB+w"),g=s("kFdpxntVGi"),v=s("wwD5isq0dR"),f=s("3ka1Izyouw"),A=s("RN5QMfSL8B"),y=s("HGO15o7/h2"),S=s("OpnaZdJyJa");let T=class extends(Object(o.c)(_.a)){constructor(){super(...arguments),this.isDisplayed=!1,this.isTracked=!1}get ads(){return Object(y.c)(this.$pinia)}onDisplay(){this.isDisplayed=!0,this.reachGoal({category:h.a.Category.PAGE,action:h.a.Action.SCROLL_2_SITE})}onScroll2SiteInViewport(){this.isDisplayed&&(Object(S.a)(),this.ads.setIsAdbuttonClosed(!0),this.isTracked||(this.isTracked=!0,this.reachGoal({category:h.a.Category.WATCH,action:h.a.Action.SCROLL_2_SITE})))}};T=Object(n.a)([Object(o.a)({components:{CreativeContainer:A.a}})],T);var O=T,I=s("KHd+Ze9MJY"),E=Object(I.a)(O,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"creative-scroll-2-site"},[t("CreativeContainer",{directives:[{name:"intersect",rawName:"v-intersect",value:e.onScroll2SiteInViewport,expression:"onScroll2SiteInViewport"}],staticClass:"creative-scroll-2-site__creative",attrs:{adunit:e.ads.adUnitNames.HB_LOW_S2S,priority:2},on:{displayed:e.onDisplay}}),t("div",{staticClass:"creative-scroll-2-site__placeholder"})],1)}),[],!1,null,"1d6bb97a",null).exports,k=s("uyDDQ98MOH"),L=s("bVBN8N3Uzm");const B=Object(a.a)(`${d.a.ModuleName.ARTICLES_PAGE}/Articles`),w=Object(a.a)(`${d.a.ModuleName.ARTICLES_PAGE}/Analytics`),x=Object(a.a)(`${d.a.ModuleName.ARTICLES_PAGE}/Articles/Polls`),N=Object(a.a)(u.b.PAGE),M=Object(a.a)(u.b.PROJECT),R=Object(a.a)(u.b.REQUEST);let P=class extends(Object(o.c)(_.a,C.a)){constructor(){super(...arguments),this.editToolbarCondition={isMinimized:!0,isRedirectsOpened:!1,isViewsWithoutGallery:!0},this.showSticky=!1,this.articlesScrolledCount=0}get user(){return Object(L.a)(this.$pinia).userEntity}get activeArticle(){return this.articles[this.activeArticleIndex]}get editToolbarIsVisible(){return!this.isMobileScreen&&(this.user.acl.canEditArticle||this.user.acl.canValidateComments)}get hasTagsInTopics(){return this.project.enableTagsInTopics}get showFullscreenAfterFirstArticle(){return this.ads.isInlineFullscreenSkipped&&this.activeArticleIndex>0&&!this.ads.isFullscreenHidden&&!this.ads.isTotalExclusiveBranding}get showStickyAfterFirstArticle(){return this.ads.isExclusiveBranding&&this.activeArticleIndex>0&&!this.ads.isTotalExclusiveBranding}get ads(){return Object(y.c)(this.$pinia)}onActiveArticleIndexChanged(e){return e}onArticleInViewport(e,t){this.setActiveArticleIndex({articleIndex:e}),this.trackWatchHeaderArticle({articleIndex:e}),t.hasTilesSlider()&&this.reachGoal({category:h.a.Category.WATCH,action:h.a.Action.ARTICLE_GALLERY});const s=this.articles[this.activeArticleIndex-1];this.trackArticleTransition({articleIndex:e,fromUrl:(null==s?void 0:s.url)||"",toUrl:this.activeArticle.url}),this.articlesScrolledCount<e&&(this.articlesScrolledCount=e)}onNextArticleTracker(){this.hasButtonLoadMoreArticles||this.fetchNextArticle()}trackRecommendations(e){this.reachGoal({category:h.a.Category.WATCH,action:`WIDGET_AFTER${e+1}ARTICLE`})}onChangeToolbarCondition(e,t){this.updateServiceWindowInfo(e.isMinimized,t.isMinimized),window.localStorage.setItem(f.a,JSON.stringify(e))}async updateServiceWindowInfo(e,t){var s;e||!t?e instanceof c.a&&e.id!==t.id&&!(null===(s=this.editToolbarCondition)||void 0===s?void 0:s.isMinimized)&&await this.fetchArticleInfo():await this.fetchArticleInfo()}fetchArticleInfo(){const e={id:this.activeArticle.id,projectKey:this.project.projectKey};return this.fetchArticleStatsAndRedirects(e)}onInreadIntersectsViewPort(){this.isMobile||this.ads.displaySticky()}handleToolbarEvent(e){this.reachGoal({category:h.a.Category.TOOLBAR,action:e})}mounted(){const e=window.localStorage.getItem(f.a);e&&(this.editToolbarCondition={...this.editToolbarCondition,...JSON.parse(e)})}};Object(n.a)([N.Getter("screenSize"),Object(n.b)("design:type",String)],P.prototype,"screenSize",void 0),Object(n.a)([N.Getter("orientation"),Object(n.b)("design:type",String)],P.prototype,"orientation",void 0),Object(n.a)([N.Getter("visible"),Object(n.b)("design:type",Boolean)],P.prototype,"visible",void 0),Object(n.a)([N.Getter("lastScrollUp"),Object(n.b)("design:type",Boolean)],P.prototype,"lastScrollUp",void 0),Object(n.a)([N.Getter("isMobile"),Object(n.b)("design:type",Boolean)],P.prototype,"isMobile",void 0),Object(n.a)([B.Getter("articles"),Object(n.b)("design:type",Array)],P.prototype,"articles",void 0),Object(n.a)([B.Getter("activeArticleIndex"),Object(n.b)("design:type",Number)],P.prototype,"activeArticleIndex",void 0),Object(n.a)([B.Getter("isLoading"),Object(n.b)("design:type",Boolean)],P.prototype,"isLoading",void 0),Object(n.a)([B.Getter("isEndOfList"),Object(n.b)("design:type",Boolean)],P.prototype,"isEndOfList",void 0),Object(n.a)([B.Getter("startupGalleryNumber"),Object(n.b)("design:type",Object)],P.prototype,"startupGalleryNumber",void 0),Object(n.a)([B.Getter("startupGallerySlide"),Object(n.b)("design:type",Object)],P.prototype,"startupGallerySlide",void 0),Object(n.a)([B.Getter(m.b.QUIZ_SHARED_RESULT_PARAMS),Object(n.b)("design:type",Object)],P.prototype,"quizSharedResultParams",void 0),Object(n.a)([B.Getter(m.b.SERVICE_WINDOW_REDIRECTS),Object(n.b)("design:type",Object)],P.prototype,"serviceWindowRedirects",void 0),Object(n.a)([B.Getter(m.b.ONE_WORLD_WIDGET_CODE),Object(n.b)("design:type",Object)],P.prototype,"oneWorldWidgetCode",void 0),Object(n.a)([B.Getter(m.b.IS_INFINITE_SCROLL_ENABLED),Object(n.b)("design:type",Boolean)],P.prototype,"isInfiniteScrollEnabled",void 0),Object(n.a)([B.Getter(m.b.IS_EARLY_INFINITE_SCROLL_PRELOAD_ENABLED),Object(n.b)("design:type",Boolean)],P.prototype,"isEarlyPreloadEnabled",void 0),Object(n.a)([B.Getter(m.b.HAS_BUTTON_LOAD_MORE),Object(n.b)("design:type",Boolean)],P.prototype,"hasButtonLoadMoreArticles",void 0),Object(n.a)([B.Getter(m.b.IS_INSPIRATION_TYPE),Object(n.b)("design:type",Boolean)],P.prototype,"isInspirationType",void 0),Object(n.a)([B.Getter(m.b.IS_TEST_TYPE),Object(n.b)("design:type",Boolean)],P.prototype,"isTestType",void 0),Object(n.a)([B.Getter(m.b.SERVICE_WINDOW_FIELDS),Object(n.b)("design:type",Object)],P.prototype,"serviceWindowFields",void 0),Object(n.a)([x.Getter(k.b.SELECTED_VARIANTS_IDS),Object(n.b)("design:type",Array)],P.prototype,"selectedPollsVariantsIds",void 0),Object(n.a)([M.Getter("vkWidgetCode"),Object(n.b)("design:type",Object)],P.prototype,"vkWidgetCode",void 0),Object(n.a)([M.Getter("imageBlockMaxSize"),Object(n.b)("design:type",Array)],P.prototype,"imageBlockMaxSize",void 0),Object(n.a)([R.Getter("hostname"),Object(n.b)("design:type",String)],P.prototype,"hostname",void 0),Object(n.a)([R.Getter("schemeAuthority"),Object(n.b)("design:type",String)],P.prototype,"schemeAuthority",void 0),Object(n.a)([B.Action(m.a.FETCH_NEXT_ARTICLE),Object(n.b)("design:type",Function)],P.prototype,"fetchNextArticle",void 0),Object(n.a)([B.Action(m.a.SET_ACTIVE_ARTICLE_INDEX),Object(n.b)("design:type",Function)],P.prototype,"setActiveArticleIndex",void 0),Object(n.a)([B.Action(m.a.FETCH_ARTICLE_STATS_AND_REDIRECTS),Object(n.b)("design:type",Function)],P.prototype,"fetchArticleStatsAndRedirects",void 0),Object(n.a)([w.Action(p.a.TRACK_WATCH_HEADER_ARTICLE),Object(n.b)("design:type",Function)],P.prototype,"trackWatchHeaderArticle",void 0),Object(n.a)([w.Action(p.a.TRACK_ARTICLE_TRANSITION),Object(n.b)("design:type",Function)],P.prototype,"trackArticleTransition",void 0),Object(n.a)([Object(o.g)("activeArticleIndex"),Object(o.b)("activeArticleIndexChanged"),Object(n.b)("design:type",Function),Object(n.b)("design:paramtypes",[Number]),Object(n.b)("design:returntype",void 0)],P.prototype,"onActiveArticleIndexChanged",null),Object(n.a)([Object(o.g)("editToolbarCondition",{deep:!0}),Object(n.b)("design:type",Function),Object(n.b)("design:paramtypes",[Object,Object]),Object(n.b)("design:returntype",void 0)],P.prototype,"onChangeToolbarCondition",null),Object(n.a)([Object(o.g)("activeArticle"),Object(n.b)("design:type",Function),Object(n.b)("design:paramtypes",[Object,Object]),Object(n.b)("design:returntype",Promise)],P.prototype,"updateServiceWindowInfo",null),P=Object(n.a)([Object(o.a)({components:{SimpleLoader:g.a,EditArticleToolbar:v.a,NoSSR:l.a,ObserverIndicator:b.a,CreativeScroll2Site:E}})],P);var D=P,j=Object(I.a)(D,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"articles-page"},[e.editToolbarIsVisible?t("EditArticleToolbar",{staticClass:"articles-page__edit-toolbar",attrs:{hasAdultContent:e.activeArticle.hasAdultContent,fields:e.serviceWindowFields,editUrl:e.activeArticle.editUrl,redirects:e.serviceWindowRedirects,commentsUrl:e.project.enableComments?e.activeArticle.viewCommentsUrl:"",showLinkToEditArticle:e.user.acl.canEditArticle,showLinkToValidateComments:e.user.acl.canValidateComments},on:{clickEvent:e.handleToolbarEvent},model:{value:e.editToolbarCondition,callback:function(t){e.editToolbarCondition=t},expression:"editToolbarCondition"}}):e._e(),e._t("before-content"),e._l(e.articles,(function(s,i){return t("div",{key:s.id,staticClass:"articles-page__article",class:0===i?"_first-article":"",attrs:{itemscope:"",itemprop:"mainEntity",itemtype:"https://schema.org/".concat(s.isNewsArticle?"NewsArticle":"Article"),"data-test-article-position":i+1}},[t("ObserverIndicator",{staticClass:"article__top-indicator",on:{inViewport:function(t){return e.onArticleInViewport(i,s)}}}),e._t("bannersLayout",null,{ads:e.ads,page:e.page,project:e.project,article:s,articleIndex:i,selectedPollsVariantsIds:e.selectedPollsVariantsIds,screenSize:e.screenSize,orientation:e.orientation,isFirstArticle:0===i,isActive:i===e.activeArticleIndex,isMobile:e.isMobile,beforeActive:i<e.activeArticleIndex,pageVisible:e.visible,lastScrollUp:e.lastScrollUp,showComments:!s.isCommentsDisabled,commentsNestedPath:s.commentsNestedPath,startupGalleryNumber:0===i?e.startupGalleryNumber:null,startupGallerySlide:e.startupGallerySlide,hostname:e.hostname,schemeAuthority:e.schemeAuthority,imageBlockMaxSize:e.imageBlockMaxSize,hasTagsInTopics:e.hasTagsInTopics,oneWorldWidgetCode:e.oneWorldWidgetCode,isMobileScreen:e.isMobileScreen,quizSharedResultParams:e.quizSharedResultParams,onInreadIntersectsViewPort:e.onInreadIntersectsViewPort}),t("NoSSR",[t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:function(){return e.trackRecommendations(i)},expression:"() => trackRecommendations(index)",modifiers:{once:!0}}],staticClass:"article__recommendations-indicator"}),i===e.activeArticleIndex?t("CreativeScroll2Site"):e._e(),e._t("recommendations",null,{ads:e.ads,articleIndex:i,articleId:s.id,screenSize:e.screenSize,isMobile:e.isMobile,advDisabled:s.advDisabled})],2),e.isInfiniteScrollEnabled&&e.isEarlyPreloadEnabled?e._o(t("ObserverIndicator",{staticClass:"article__middle-indicator",attrs:{once:""},on:{inViewport:e.onNextArticleTracker}}),0,s.id):e._e(),t("ObserverIndicator",{staticClass:"article__bottom-indicator",on:{inViewport:function(t){return e.setActiveArticleIndex({articleIndex:i})}}})],2)})),t("div",{staticClass:"articles-page__load-more",class:{_inspiration:e.isInspirationType,"grid-item-12":!e.isInspirationType}},[e.hasButtonLoadMoreArticles&&!e.isLoading?e._t("load-more-button",null,{click:e.fetchNextArticle}):e._e(),t("SimpleLoader",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],staticClass:"articles-page__loader"})],2),e.isInfiniteScrollEnabled&&!e.isEarlyPreloadEnabled?e._m(0):e._e(),e._t("footer",null,{ads:e.ads,showFullscreen:e.ads.showFullscreen,showFullscreenAfterFirstArticle:e.showFullscreenAfterFirstArticle,showStickyAfterFirstArticle:e.showStickyAfterFirstArticle,articlesCount:e.articles.length,isEndOfList:e.isEndOfList,isMobile:e.isMobile,advDisabled:!!e.articles[0]&&e.articles[0].advDisabled,showSticky:e.ads.showSticky,isHbTopOutOfViewport:e.ads.wasHbTopOutOfViewport}),e._t("default")],2)}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"intersect",rawName:"v-intersect",value:function(){return e.onNextArticleTracker()},expression:"() => onNextArticleTracker()"}],ref:"indicator",staticClass:"articles-page__end-indicator"})}],!1,null,"c5891150",null).exports,H=s("+GRvEz5ZXs"),F=s("RH7R8Qddu7"),U=s("xNtfzvxe63");const z=Object(a.a)(u.b.AB_EXPERIMENTS);let V=class extends o.f{checkExperiment(e,t){var s;return(null===(s=this.userGoals[e])||void 0===s?void 0:s.variantValue)===t}};Object(n.a)([z.Getter(U.a.USER_GOALS),Object(n.b)("design:type",Object)],V.prototype,"userGoals",void 0),V=Object(n.a)([o.a],V);var G=V,$=s("RQwzLw076D");let K=class extends(Object(o.c)(H.a,G)){constructor(){super(...arguments),this.trackerName=h.a.Action.WIDGET_RELAP}inViewportHandler(){this.trackGoals&&$.a.AB_TEST_OBMEN in this.userGoals&&this.userGoals[$.a.AB_TEST_OBMEN].variantValue===$.b.AB_TEST_OBMEN_ONLY_RELAP&&this.reachGoal({category:h.a.Category.WATCH,action:"BLOCK_DEFAULT"}),this.inViewport()}clickHandler(){this.project.onReachGoalWidgetSumrecirculation&&this.reachGoal({category:h.a.Category.CLICK,action:h.a.Action.WIDGET_SUMRECIRCULATION}),this.click()}async mounted(){await Object(F.a)({name:`relap-${this.id}-init`,callback:()=>"relapAPI"in window,interval:100});const{relapAPI:e}=window;e.addGlobalEventListeners({onFollow:e=>{e.el===this.$el.querySelector(".js-relap-widget-wrapper")&&this.clickHandler()}})}};Object(n.a)([Object(o.d)({required:!0,type:String}),Object(n.b)("design:type",String)],K.prototype,"id",void 0),Object(n.a)([Object(o.d)(Number),Object(n.b)("design:type",Number)],K.prototype,"sleep",void 0),K=Object(n.a)([o.a],K);var W=K,q=Object(I.a)(W,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:{rootMargin:"500px",onIntersection:e.inViewportHandler},expression:"{\n        rootMargin: '500px',\n        onIntersection: inViewportHandler\n    }",modifiers:{once:!0}}],staticClass:"relap-widget related-widget",class:e.widgetClass},[t("div",{staticClass:"js-relap-anchor",attrs:{"data-relap-id":e.id}}),t("iframe",{staticClass:"relap-runtime-iframe",staticStyle:{position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden"},attrs:{srcdoc:"<script src='https://relap.io/v7/relap.js' data-relap-token='yrLKfPh8C0S5ls_K'><\/script>"}})])}),[],!1,null,null,null).exports;let Y=class extends o.f{constructor(){super(...arguments),this.displayed=!1}display(){this.displayed=!0}};Object(n.a)([Object(o.b)("display"),Object(n.b)("design:type",Function),Object(n.b)("design:paramtypes",[]),Object(n.b)("design:returntype",void 0)],Y.prototype,"display",null),Y=Object(n.a)([o.a],Y);var X=Y,Q=Object(I.a)(X,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:{rootMargin:"0px 0px 1000px 0px",onIntersection:e.display},expression:"{\n    rootMargin: '0px 0px 1000px 0px',\n    onIntersection: display\n}",modifiers:{once:!0}}],staticClass:"lazy-block"},[e.displayed?e._t("default"):e._e()],2)}),[],!1,null,null,null).exports,Z=s("fhUgLW5i6B");let J=class extends H.a{constructor(){super(...arguments),this.trackerName=h.a.Action.WIDGET_SMI2}async mounted(){await Object(Z.a)(window,3e3);const e=document.createElement("script");e.src=`//smi2.ru/data/js/${this.project.smi2Id}.js`,this.$el.appendChild(e)}};J=Object(n.a)([o.a],J);var ee=J,te=Object(I.a)(ee,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.inViewport,expression:"inViewport",modifiers:{once:!0}}],attrs:{id:"unit_".concat(e.project.smi2Id)},on:{click:e.click}})}),[],!1,null,null,null).exports,se=s("p65THaY09z"),ie=s("6XCzC0I988"),ne=s("eII2ZUhQcg"),ae=s("MsSPoyMNdX"),oe=s("Zb9Zf1GZoJ"),re=s.n(oe),le=s("qcFnX2k4s1"),ce=s("J25DWAcIQh"),de=s("33t7QQkuac"),ue=s("Fg6mwTVaDC");var me=s("RChSAOOZ8O"),he=s("kF0lOgtzuc");s("N7olG8c045"),s("R7xghQXrFa");var pe=s("s7v6ulJ0aD"),_e=s("vguvH+Slzb");var Ce=i.default.extend({props:{ads:{required:!0,type:Object},article:{required:!0,type:c.a},project:{required:!0,type:pe.a},page:{required:!0,type:_e.a},isActive:{required:!0,type:Boolean},beforeActive:{required:!0,type:Boolean},isFirstArticle:{required:!1,type:Boolean,default:!1},isMobile:{required:!0,type:Boolean},selectedPollsVariantsIds:{required:!0,type:Array},orientation:{required:!0,type:String},startupGalleryNumber:Number,startupGallerySlide:String,hostname:{required:!0,type:String},schemeAuthority:{required:!0,type:String},isAdvDisabled:{required:!0,type:Boolean},articleIndex:{required:!0,type:Number},imageBlockMaxSize:{required:!0,type:Array},quizSharedResultParams:{required:!0,type:Object}},data(){return{showBannerAfterThisSlideIndex:3,maxVbHeight:660,rootTopMargin:300,wasBeforeActive:!1,dontAddBannerAfterBlockTypes:[],dontAddBannerBeforeBlockTypes:[],dontAddBannerAfterBlockTypesMobile:[`${ue.f.SLIDER} ${he.b.BOOK}`,`${ue.f.SLIDER} ${he.b.TILES_DISCLOSED}`],dontAddBannerBeforeBlockTypesMobile:[`${ue.f.SLIDER} ${he.b.BOOK}`,`${ue.f.SLIDER} ${he.b.TILES_DISCLOSED}`],contentBlocks:[],asideBannersList:[{slotName:this.isFirstArticle||this.isMobile?me.a.AdUnit.VB_1:me.a.AdUnit.VB_2,top:null,bottom:null,displayed:!1}],contentSlotIndexes:[],hasPlaceForVb2:!this.isMobile,isMobileShortArticle:!1,predefinedBlocksHeightMap:{[ue.f.EMBED]:400,[ue.f.VIMEO_VIDEO]:400,[ue.f.VIQEO_VIDEO]:400,[ue.f.YOUTUBE_VIDEO]:400},dontAddHorizontalBanners:!1,removeBannersWhenExclusive:this.isFirstArticle,articleSize:{width:0,height:0},asideWidgetResizeObserver:null,articleResizeObserver:null}},computed:{afterContent(){return this.$refs.afterContent},articleBlock(){return this.$refs.article},maxElementsCount:()=>1/0,HBOffset(){return this.isMobile?window.innerHeight+this.rootTopMargin:Math.max(window.innerHeight+this.rootTopMargin,this.maxVbHeight)},commentsHbInline(){return this.isAdvDisabled||this.ads.isAdblockPlusEnabled?null:{slotName:this.isMobile?me.a.AdUnit.INLINE:me.a.AdUnit.HB_COM,displayed:!1}},hbPriorityArray(){const e=[];for(let t=0;t<=this.contentBlocks.length;t+=1)this.isMobile?e.push(2+(0===t?0:Math.floor((t-1)/4))):e.push(2+Math.floor(t/3));return this.wasBeforeActive?e.reverse():e},vbPriorityArray(){const e=[];for(let t=0;t<=this.asideBannersList.length;t+=1)e.push(0===t?1:2+Math.floor(t/3));return this.wasBeforeActive?e.reverse():e},firstTextParagraphOffset(){var e;return(null===(e=this.articleBlock.content.firstTextBlockElement)||void 0===e?void 0:e.getBoundingClientRect().top)||0},isShortArticle(){return this.isMobile?this.isMobileShortArticle:!this.hasPlaceForVb2},totalCommentsOverall(){return this.article.commentsTotal}},watch:{beforeActive(){this.checkWasBeforeActive()},isActive(){this.checkWasBeforeActive()},"ads.isReadyToRenderInlines":function(){this.init()},isExclusiveBranding(e){this.ifExclusiveRemoveBanners(e)}},methods:{checkWasBeforeActive(){this.wasBeforeActive=this.isActive?this.wasBeforeActive:this.beforeActive},async init(){if(this.ifExclusiveRemoveBanners(this.ads.isExclusiveBranding)||!this.ads.isReadyToRenderInlines||!this.$el)return;await this.$nextTick();const e=this.articleBlock.$el.querySelectorAll(".place-for-creative");this.findElementsToMountCreatives([...e]),this.afterCreativeElementsFound()},initObservers(){this.articleResizeObserver=new ResizeObserver((e=>{e[0]&&(this.articleSize.width=e[0].contentRect.width,this.articleSize.height=e[0].contentRect.height,this.onArticleSizeChange())})),this.articleResizeObserver.observe(this.$el);const e=this.$refs.asideWidget;e&&(this.asideWidgetResizeObserver=new ResizeObserver((()=>{this.onAsideWidgetSizeChange()})),this.asideWidgetResizeObserver.observe(e))},onArticleSizeChange(){},onAsideWidgetSizeChange(){},ifExclusiveRemoveBanners(e){return!(!e||this.isMobile||!this.isFirstArticle)&&(this.removeBanners(),!0)},getLastHBPosition(e){return e.getBoundingClientRect().bottom-(this.isMobile?0:this.maxVbHeight)},getFirstHBPositionMobile(e){const t=e.getBoundingClientRect().top+window.innerHeight;return this.firstTextParagraphOffset>0?Math.min(t,this.firstTextParagraphOffset):t},getFirstHBPositionDesktop(){return this.articleBlock.$el.getBoundingClientRect().top+window.innerHeight},getFirstHBPosition(e){return this.isMobile?this.getFirstHBPositionMobile(e):this.getFirstHBPositionDesktop()},getFirstHBPositionForSingleInread:()=>document.body.getBoundingClientRect().top+window.innerHeight,getHorizontalAdUnitName(e){return function({grids:e,index:t,isMobile:s,isShort:i}){let n;n=s?i?e[me.a.InlineGridVariant.MOBILE_SHORT]:e[me.a.InlineGridVariant.MOBILE]:e[me.a.InlineGridVariant.DESKTOP];const a=i?me.a.AdUnit.INLINE_1:me.a.AdUnit.INLINE;return n[t]||a}({index:e,grids:this.ads.inlineGrids,isMobile:this.isMobile,isShort:this.isShortArticle})},findElementsToMountCreatives(e){if(this.dontAddHorizontalBanners||!e.length||this.maxElementsCount<1)return this.hasPlaceForVb2=!1,void this.setContentBlocks([]);const t=this.HBOffset,s=this.getFirstHBPosition(e[0].previousElementSibling),i=this.getLastHBPosition(e[e.length-1]),[n,a]=(()=>this.isMobile?[this.dontAddBannerBeforeBlockTypesMobile,[...this.dontAddBannerAfterBlockTypesMobile,ue.f.PRODUCT_SET]]:[this.dontAddBannerBeforeBlockTypes,this.dontAddBannerAfterBlockTypes])(),o=function({elements:e,pointsOffset:t,getPointsOffset:s,maxElementsCount:i=1/0,positionMin:n=t,positionMax:a=1/0,predefinedBlocksHeightMap:o={},dontAddBeforeBlockTypes:r=[],dontAddAfterBlockTypes:l=[]}){return e.reduce(((e,i)=>{var n;if(e.elementsLeft<1)return e;const a=i.dataset.blockBefore||"",c=i.dataset.blockAfter||"";if(a in o){const t=o[a],{previousElementSibling:s}=i;if(s){const i=s.offsetHeight,n=Math.max(0,t-i);e.positionMax+=n,e.additionalOffset+=n}else console.trace("elementsSearch ERROR VIQEO_BLOCK no previousElementSibling",i,s)}if(a===ue.f.TEXT){const t=i.previousElementSibling,s=Array.from((null===(n=t.querySelector(".block-text"))||void 0===n?void 0:n.children)||[]).reverse().find((e=>e.textContent&&e.textContent.length>0));if(["H2","H3"].includes((null==s?void 0:s.nodeName)||""))return e}if(l.some((e=>e===a))||r.some((e=>e===c)))return e;const d=i.getBoundingClientRect().top+e.additionalOffset;return d>=e.positionMin&&d<=e.positionMax&&(e.result.push(i),e.elementsLeft-=1,e.positionMin=d+((null==s?void 0:s(e.result.length-1))||t)),e}),{positionMin:n,positionMax:a,additionalOffset:0,elementsLeft:i,result:[]}).result}({elements:e,pointsOffset:t,positionMin:s,positionMax:i,dontAddBeforeBlockTypes:n,dontAddAfterBlockTypes:a,maxElementsCount:this.maxElementsCount,predefinedBlocksHeightMap:this.predefinedBlocksHeightMap});if(o.length>0)return void this.setContentBlocks(o);if(this.isMobile)return void this.findElementsToMountCreativesShortMobile(e);s!==this.getFirstHBPositionForSingleInread()?(this.hasPlaceForVb2=!1,this.findElementsToMountCreativesShortDesktop(e)):this.setContentBlocks([])},findElementsToMountCreativesShortMobile(e){const t=this.article.contentBlocksTotal-3,s=t>0?t:0,i=e.filter((e=>Number(e.dataset.blockIndex)===s)).pop(),n=e[e.length-1],a=[];i&&a.push(i),n&&n!==i&&a.push(n),this.setContentBlocks(a)},appendYandexPlayer(e){const t=this.articleBlock.$el.querySelectorAll(".place-for-creative"),s=t[t.length-1],i=e[e.length-1];return s&&s!==i&&e.push(s),e},findElementsToMountCreativesShortDesktop(e){const{dontAddBannerAfterBlockTypes:t,dontAddBannerBeforeBlockTypes:s}=this,i=function({elements:e,dontAddBannerAfterBlockTypes:t=[],dontAddBannerBeforeBlockTypes:s=[]}){const i=Math.max(e.length-3,0),n=e.slice(i),a=e.slice(0,i),o=e=>{const i=e.dataset.blockBefore||"",n=e.dataset.blockAfter||"";return!(t.some((e=>e===i))||s.some((e=>e===n)))},[r,l]=[n.filter(o),a.filter(o)],c=r.concat(l.reverse())[0];return c?[c]:[]}({elements:e,dontAddBannerAfterBlockTypes:t,dontAddBannerBeforeBlockTypes:s});this.setContentBlocks(i)},setContentBlocks(e){this.isMobile&&e.length<2&&(e=this.appendYandexPlayer(e),this.isMobileShortArticle=!0);const t=!e.length&&this.afterContent?[this.afterContent]:e;if(this.contentBlocks=t.map(((e,t)=>{const s=this.getHorizontalAdUnitName(t);return e.id=`creative-hb-${this.article.id}-${t}`,{index:t,mountTo:e,slotName:s,displayed:!1}})),!this.hasPlaceForVb2)return;const s=this.validateContentBlocks();s.length&&(this.asideBannersList=this.updateAsideBannersList(s))},validateContentBlocks(){return this.contentBlocks.slice(this.isFirstArticle?0:1)},updateAsideBannersList(e){const t=e.reduce(((t,s,i)=>(t.push({slotName:me.a.AdUnit.VB_2,top:s.mountTo,bottom:e[i+1]?e[i+1].mountTo:null,displayed:!1}),t)),[...this.asideBannersList]);return t[0].bottom=e[0].mountTo,t},afterCreativeElementsFound(){},onArticleBannerDisplayed(e,t){e.displayed=!0,t&&(e.size={...t}),e.slotName===this.ads.adUnitNames.INREAD&&setTimeout((()=>this.ads.inreadRenderEnded()),500)},onArticleBannerFailed(e){e.displayed=!1,e.slotName===this.ads.adUnitNames.INREAD&&setTimeout((()=>this.ads.inreadRenderEnded()),500)},removeBanners(){this.contentBlocks=[],this.asideBannersList=[{...this.asideBannersList[0],bottom:null}],this.dontAddHorizontalBanners=!0}},mounted(){this.$nextTick((()=>this.init())),this.initObservers()}}),be=Object(I.a)(Ce,undefined,undefined,!1,null,null,null).exports,ge=s("pyAIV9Hlru"),ve=s("7vrMFyKtUP"),fe=s("raHwwBzTFO"),Ae=s("/xu4GDRA9v"),ye=i.default.extend({props:{mountTo:{required:!1,type:HTMLElement}}}),Se=Object(I.a)(ye,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.mountTo&&e.mountTo.id?t("MountingPortal",{attrs:{append:"",mountTo:"#".concat(e.mountTo.id)}},[e._t("default")],2):t("div",[e._t("default")],2)}),[],!1,null,null,null).exports,Te=s("Gtf/vvsL1+"),Oe=s("LvDlAkAJhy"),Ie=s("r1GgGN+tUK"),Ee=s("xygKV5Aw4c");const ke={25:h.a.Action.YANDEX_VH_25,50:h.a.Action.YANDEX_VH_50,75:h.a.Action.YANDEX_VH_75};var Le;let Be;!function(e){e.PREROLL="preroll"}(Le||(Le={}));var we=i.default.extend({props:{isMobile:Boolean,partnerStatId:String},data:()=>({quaterActionHasBeenSent:{[h.a.Action.YANDEX_VH_25]:!1,[h.a.Action.YANDEX_VH_50]:!1,[h.a.Action.YANDEX_VH_75]:!1},playerId:Object(Oe.uniqueId)("yandexVhPlayer_"),currentVideoTitle:""}),computed:{config(){const e=this.adsConfig.findAdunit(me.a.AdUnit.YANDEX_VIDEO_PLAYER_PREROLL),t=[];if(e){const{p1:s,p2:i}=e.adfoxConfig;t.push({adType:Le.PREROLL,adFoxParameters:{ownerId:"320882",params:{p1:s,p2:i}}})}return!!t.length&&(this.partnerStatId&&t.forEach((e=>{e.adFoxParameters.params["partner-stat-id"]=this.partnerStatId})),{adBreaks:t})},videos(){var e;return Object(Oe.shuffle)(null===(e=this.projectConfig.adv)||void 0===e?void 0:e.yandexPlayerVideos)},adsConfig(){return Object(Ie.d)({rootGetters:this.$store.getters})},projectConfig(){return Object(Ee.c)({rootGetters:this.$store.getters})},projectDomainLiteral(){return this.projectConfig.projectDomain.startsWith("www.")?this.projectConfig.projectDomain.replace(/^www\./,""):this.projectConfig.projectDomain}},methods:{reachGoalWatch(e){Object(ce.g)(this.$store,{action:e,category:h.a.Category.WATCH})},handleInited(){Object(ce.g)(this.$store,{action:h.a.Action.LOAD_YANDEX_VH,category:h.a.Category.WATCH})},handleStarted({title:e}){this.currentVideoTitle=e,Object.keys(this.quaterActionHasBeenSent).forEach((e=>{this.quaterActionHasBeenSent[e]=!1})),this.reachGoalWatch(h.a.Action.STARTED_YANDEX_VH)},handleEnded(){this.reachGoalWatch(h.a.Action.YANDEX_VH_100)},handleIntersect(){this.reachGoalWatch(h.a.Action.YANDEX_VH)},handleTimeUpdateMetrics({time:e,duration:t}){const s=25*Math.floor(e/t*100/25),i=ke[s];i&&(this.quaterActionHasBeenSent[i]||(this.quaterActionHasBeenSent[i]=!0,i===h.a.Action.YANDEX_VH_75?(this.quaterActionHasBeenSent[h.a.Action.YANDEX_VH_50]=!0,this.quaterActionHasBeenSent[h.a.Action.YANDEX_VH_25]=!0):i===h.a.Action.YANDEX_VH_50&&(this.quaterActionHasBeenSent[h.a.Action.YANDEX_VH_25]=!0),this.reachGoalWatch(i)))},initPlayer(){const e={width:"100%",height:"100%",params:{from:this.projectConfig.projectDomain,autoplay:1,mute:1,preload:1,meta:"always",recommendations:"off",no_ad:!1}};this.config&&(e.adConfig=this.config),Be=window.Yandex.VH.createPlayList(this.playerId,this.videos,e)}},mounted(){Object(Te.a)(window,{src:"https://yastatic.net/vh-player/loader.js"}).then((()=>{this.initPlayer(),Object(ce.g)(this.$store,{category:h.a.Category.PAGE,action:h.a.Action.YANDEX_VH}),Be.on("inited",this.handleInited),Be.on("started",this.handleStarted),Be.on("ended",this.handleEnded),Be.on("timeupdate",this.handleTimeUpdateMetrics)}))},beforeDestroy(){Be.destroy()}}),xe=Object(I.a)(we,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.handleIntersect,expression:"handleIntersect",modifiers:{once:!0}}],staticClass:"yandexVhPlayer flex-center flex-column mobile-fluid"},[e.isMobile?t("div",{staticClass:"yandexVhPlayer__header"},[t("div",{staticClass:"yandexVhPlayer__header-project"},[e._v("Видео на "),t("span",{staticClass:"yandexVhPlayer__header-project-domain"},[e._v(e._s(e.projectDomainLiteral))])]),t("div",{staticClass:"yandexVhPlayer__header-title"},[e._v(e._s(e.currentVideoTitle))])]):e._e(),t("div",{staticClass:"yandexVhPlayer__player"},[t("div",{staticClass:"yandexVhPlayer__player-wrapper"},[t("div",{staticClass:"yandexVhPlayer__player-body",attrs:{id:e.playerId}})])])])}),[],!1,null,null,null).exports,Ne=i.default.extend({components:{CreativeContainer:A.a},props:{hasNoAdvTargeting:Boolean},data:()=>({adunitName:me.a.AdUnit.IN_IMAGE_BUTTON})}),Me=Object(I.a)(Ne,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"in-image-button"},[t("CreativeContainer",{attrs:{removable:"",lazy:"",adunit:e.adunitName,hasNoAdvTargeting:e.hasNoAdvTargeting}})],1)}),[],!1,null,null,null).exports,Re=s("2Ezy4ynk7x"),Pe=i.default.extend({props:{voxConfig:{required:!0,type:Object},image:{required:!0,type:HTMLElement}},methods:{async init(){try{this.image.parentElement.setAttribute("data-hyb-ssp-in-image-overlay",this.voxConfig.creativeId),await this.$nextTick(),await Object(Re.a)(window,{img:this.image,pixel:this.voxConfig.onRequestPixelP1,onLoad:()=>this.onLoad(),onFail:()=>this.$emit("fail")})}catch(e){console.error(e),this.$emit("fail")}},onLoad(){this.$emit("load"),Object(ce.g)(this.$store,{category:h.a.Category.SUCCESS_LOAD,action:h.a.Action.VOX})}},mounted(){this.init()}}),De=Object(I.a)(Pe,(function(){var e=this._self._c;this._self._setupProxy;return e("div",{staticClass:"vox-creative"})}),[],!1,null,null,null).exports,je=s("I44Nt1bQVf"),He=i.default.extend({components:{InImageButton:Me,VoxCreative:De},props:{ads:{required:!0,type:Object},block:{required:!0,type:Object},projectKey:{required:!0,type:String},isMobile:Boolean,imageIndex:Number,isVoxFirstImage:Boolean,getImage:{required:!0,type:Function}},data:()=>({image:null,voxCreativeRequestHasBeenFailed:!1}),computed:{isFirstImage(){return 0===this.imageIndex},isImageReady(){return!!this.image},hasAdButton(){return!(!this.isImageReady||this.isFirstImage)&&Object(je.b)(this.block)},hasVox(){return!(!this.isImageReady||this.isFirstImage&&!this.isVoxFirstImage)&&(Object(je.c)(this.block)&&!!this.ads.voxCreativeParams&&this.ads.voxCreativeStatus===y.a.ALLOW_TO_INSERT&&!this.voxCreativeRequestHasBeenFailed)}},methods:{async init(){if(await this.$nextTick(),this.image=this.getImage(),!this.image)throw new Error("[InImageCreativesManager]: картинка не найдена")}},mounted(){this.init()}}),Fe=Object(I.a)(He,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.hasVox?t("VoxCreative",{attrs:{image:e.image,voxConfig:e.ads.voxCreativeParams},on:{fail:function(t){e.voxCreativeRequestHasBeenFailed=!0}}}):e.hasAdButton?t("InImageButton"):e._e()}),[],!1,null,null,null).exports;function Ue(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}var Ve=s("5OyeLcgZP7"),Ge=s("orPGXlEx9P"),$e=s.n(Ge),Ke=s("PzVYUfd0Ms"),We=s.n(Ke),qe=s("zf8wc1dG1Y"),Ye=s("cqiKuTeOa8");var Xe=i.default.extend({components:{DSLabel:Ye.a,Tooltip:qe.a,IconClose16:$e.a,IconEllipsisHorizontal16:We.a},props:{labels:{required:!1,type:Array},uiConfig:{type:Object},alignCenter:Boolean,isMobile:Boolean},data:()=>({showLeftLabelsGradient:!1,showRightLabelsGradient:!0,hiddenLabelsList:[]}),computed:{modifiers(){return{"ds-article-header-labels_center":this.alignCenter,"ds-article-header-labels_left-gradient":this.showLeftLabelsGradient,"ds-article-header-labels_right-gradient":this.showRightLabelsGradient}},styles:()=>({"--labels-gap":"8px"}),isVisibleHiddenItems(){return!!this.hiddenLabelsList.length&&!this.isMobile&&!this.alignCenter},labelsList(){return this.labels.map((e=>({text:e.displayName,url:e.url})))}},methods:{onLabelsScroll(e){const t=e.currentTarget,s=t.scrollWidth-t.clientWidth;s===Math.round(t.scrollLeft)?this.showRightLabelsGradient=!1:this.showRightLabelsGradient||s===t.scrollLeft||(this.showRightLabelsGradient=!0),t.scrollLeft>0?this.showLeftLabelsGradient=!0:this.showLeftLabelsGradient&&0===t.scrollLeft&&(this.showLeftLabelsGradient=!1)},updateHiddenItems(){if(this.isMobile||this.alignCenter)return;const e=this.$refs.ul,{children:t}=e;let s=this.$el.clientWidth-24;for(let e=0;e<this.labelsList.length;e+=1){const i=e===this.labelsList.length-1?0:8,n=t[e];s<n.clientWidth&&(this.hiddenLabelsList.push(this.labelsList[e]),n.style.display="none"),s-=n.clientWidth+i}},onClick(){this.$emit("click:labels")}},mounted(){this.updateHiddenItems()}}),Qe=Object(I.a)(Xe,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ds-article-header-labels",class:e.modifiers,style:e.styles},[t("ul",{ref:"ul",staticClass:"ds-article-header-labels__wrapper",on:{scroll:e.onLabelsScroll}},e._l(e.labelsList,(function(s){return t("li",{staticClass:"ds-article-header-labels__label",attrs:{itemprop:"articleSection",content:s.text}},[t("DSLabel",{key:s.url,attrs:{label:s,linkSize:e.uiConfig.linkSize,type:e.uiConfig.type},on:{"click:link":e.onClick}})],1)})),0),e.isVisibleHiddenItems?t("Tooltip",{attrs:{placement:"bottom-end"},scopedSlots:e._u([{key:"activator",fn:function(e){var s=e.onShow;return[t("div",{staticClass:"ds-article-header-labels__show-more",on:{click:s}},[t("IconEllipsisHorizontal16",{attrs:{size:16}})],1)]}}],null,!1,3490202839)},[[t("div",{staticClass:"tooltip-content"},e._l(e.hiddenLabelsList,(function(s){return t("li",{staticClass:"tooltip-content__label",attrs:{itemprop:"articleSection",content:s.text}},[t("DSLabel",{key:s.url,attrs:{label:s,linkSize:e.uiConfig.linkSize,type:e.uiConfig.type},on:{"click:link":e.onClick}})],1)})),0)]],2):e._e()],1)}),[],!1,null,null,null).exports,Ze=s("ixHz9V+wpk"),Je=s("6wKGiS4KSr"),et=s.n(Je),tt=s("i6RSRwMHLv"),st=s.n(tt),it=s("2IQ3MiVJfO"),nt=i.default.extend({components:{IconComments16:et.a,IconEye16:st.a},props:{publishedAt:{required:!1,type:String},commentsCount:[Number,String],commentsLink:{type:String,default:""},viewsCount:[Number,String],hideViewsCount:Boolean,hideCommentsCount:Boolean,hidePublicationDate:Boolean,alignCenter:Boolean,timeZone:String,showDateWithTime:Boolean},computed:{modifiers(){return{"ds-article-header-date-and-stats_center":this.alignCenter,"ds-article-header-date-and-stats_hidden-date":this.hidePublicationDate}},publicationDate(){if(!this.publishedAt)return"";const e=this.publishedAt;return Object(Ze.a)({date:e,timeZone:this.timeZone,showTime:this.showDateWithTime})},showViews(){return!this.hideViewsCount&&Boolean("0"!==this.viewsCount&&this.viewsCount)},isCommentsLink(){return""!==this.commentsLink}},methods:{emitCommentsBtnClicked(){this.$emit(it.a.COMMENTS_BTN_CLICKED)},emitCommentsBtnShown(){this.$emit(it.a.COMMENTS_BTN_SHOWN)}}}),at=Object(I.a)(nt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ds-article-header-date-and-stats",class:e.modifiers},[e.hidePublicationDate?e._e():t("span",{staticClass:"ds-article-header-date-and-stats__date"},[e._v("  "+e._s(e.publicationDate))]),e.hideCommentsCount?e._e():[e.isCommentsLink?t("a",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.emitCommentsBtnShown,expression:"emitCommentsBtnShown",modifiers:{once:!0}}],staticClass:"ds-article-header-date-and-stats__item _comments",attrs:{href:e.commentsLink},on:{click:e.emitCommentsBtnClicked}},[t("IconComments16",{staticClass:"mr-1",attrs:{size:16}}),e._v(e._s(e.commentsCount))],1):Number(e.commentsCount)>0?t("span",{staticClass:"ds-article-header-date-and-stats__item"},[t("IconComments16",{staticClass:"mr-1",attrs:{size:16}}),e._v(e._s(e.commentsCount))],1):e._e()],e.showViews?t("span",{staticClass:"ds-article-header-date-and-stats__item"},[t("IconEye16",{staticClass:"mr-1",attrs:{size:16}}),e._v(e._s(e.viewsCount))],1):e._e()],2)}),[],!1,null,null,null).exports,ot=s("xW3oiZkSxn"),rt=s("OiYh+YOpM7"),lt=i.default.extend({components:{ArticleHeaderLabels:Qe,ArticleHeaderDateAndStats:at},props:{labels:{required:!1,type:Array},publishedAt:{required:!1,type:String},labelType:{required:!1,type:String,default:ot.a.BACKGROUND},timeZone:String,showDateWithTime:Boolean,commentsCount:[String,Number],commentsLink:{type:String,default:""},viewsCount:[String,Number],hideViewsCount:Boolean,hideCommentsCount:Boolean,hidePublicationDate:Boolean,showPartnerLabel:Boolean,advertiserEridInfo:String,isMobile:Boolean,uiConfig:{required:!1,type:Object,default:()=>({align:it.b.LEFT,label:{type:ot.a.BACKGROUND,linkSize:rt.a.CAPTION_1}})}},computed:{modifiers(){return{[`ds-article-header_${this.uiConfig.align}`]:!0}},isCenterAlign(){return this.uiConfig.align===it.b.CENTER}},methods:{onClick(){this.$emit(it.a.CLICK_TOPIC)},onCommentsBtnClicked(){this.$emit(it.a.COMMENTS_BTN_CLICKED)},onCommentsBtnShown(){this.$emit(it.a.COMMENTS_BTN_SHOWN)}}}),ct=Object(I.a)(lt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("header",{staticClass:"ds-article-header",class:e.modifiers},[e.showPartnerLabel?t("span",{staticClass:"ds-article-header__partner-label text-style-body-caption-1"},[e._v("Реклама")]):e._e(),e.advertiserEridInfo?t("span",{staticClass:"ds-article-header__advertiser-erid-info text-style-body-caption-2"},[e._v(e._s(e.advertiserEridInfo))]):e._e(),t("h1",{staticClass:"ds-article-header__title",attrs:{itemprop:"headline"}},[e._t("default")],2),t("ArticleHeaderLabels",{staticClass:"ds-article-header__topics",attrs:{labels:e.labels,alignCenter:e.isCenterAlign,isMobile:e.isMobile,uiConfig:e.uiConfig.label},on:{"click:topic":e.onClick}}),e.$slots.lead?t("p",{staticClass:"ds-article-header__lead-paragraph",attrs:{itemprop:"description alternativeHeadline"}},[e._t("lead")],2):e._e(),t("ArticleHeaderDateAndStats",{staticClass:"ds-article-header__date-and-stats",attrs:{publishedAt:e.publishedAt,viewsCount:e.viewsCount,hideViewsCount:e.hideViewsCount,hideCommentsCount:e.hideCommentsCount,commentsCount:e.commentsCount,commentsLink:e.commentsLink,alignCenter:e.isCenterAlign,timeZone:e.timeZone,showDateWithTime:e.showDateWithTime,hidePublicationDate:e.hidePublicationDate},on:{commentsBtnClicked:e.onCommentsBtnClicked,commentsBtnShown:e.onCommentsBtnShown}})],1)}),[],!1,null,null,null).exports,dt=s("03XQ7pyX3B"),ut=s("h3+hxnhn5T"),mt=s("8cC1qna6Vg"),ht=s("UygivrubCh"),pt=s("L/IlTn3Mmp"),_t=s("avX6Qikyon"),Ct=s("YrWilpUY8n"),bt=Object(I.a)({},(function(e,t){return e("span",{staticClass:"ds-article-footer-partner",class:t.data.staticClass||""},[e("div",{staticClass:"ds-article-footer-partner__title"},[t._v("Партнер материала")]),t.props.link?[e("a",{staticClass:"ds-article-footer-partner__link",attrs:{href:t.props.link,title:t.props.displayName,target:"_blank"}},[e("img",{staticClass:"ds-article-footer-partner__image",attrs:{src:t.props.image,loading:"lazy"}})])]:[e("img",{staticClass:"ds-article-footer-partner__image",attrs:{src:t.props.image,loading:"lazy"}})]],2)}),[],!0,null,null,null).exports,gt=s("EnAPV3on0Q"),vt=s("/Z0oo28i1U"),ft=Object(i.defineComponent)({__name:"ArticleFooterAuthors",props:{authorsList:null,label:null},emits:["click:link"],setup:(e,{emit:t})=>({__sfc:!0,props:e,emit:t,onClickAuthor:function(){t("click:link")},Link:gt.a,Color:vt.a,Typography:rt.a})}),At=Object(I.a)(ft,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"ds-article-footer-authors"},[t("span",{staticClass:"ds-article-footer-authors__label"},[e._v(e._s(e.label)+":")]),e._l(e.authorsList,(function(i){return t("span",{staticClass:"ds-article-footer-authors__author"},[i.url&&i.url.length?[t(s.Link,{attrs:{href:i.url,size:s.Typography.CAPTION_2,color:s.Color.PRIMARY,blank:!0},on:{click:s.onClickAuthor}},[e._v(e._s(i.fullName))])]:[e._v(e._s(i.fullName))]],2)}))],2)}),[],!1,null,null,null).exports,yt=Object(i.defineComponent)({__name:"ArticleFooter",props:{authors:null,partner:null,contentSource:null,isAuthorsHidden:{type:Boolean},advertiserInfo:null},emits:["eventsHandler"],setup(e,{emit:t}){const s=e;function n(e,t=!1){return s.authors.filter((s=>s.role===e||t&&s.role===ue.d.EMPTY))}const a=Object(i.computed)((()=>n("text_author",!0))),o=Object(i.computed)((()=>n("multimedia_author"))),r=Object(i.computed)((()=>{var e;return Boolean(null===(e=s.partner)||void 0===e?void 0:e.image)||!s.isAuthorsHidden&&s.authors.length||!!s.contentSource||!!s.advertiserInfo})),l=Object(i.computed)((()=>s.authors.some((e=>e.url.length>0))));return{__sfc:!0,props:s,emit:t,getAuthorsByType:n,onWatchAuthors:function(){l.value&&t("eventsHandler",{componentName:Ct.b,eventType:Ct.a.WATCH_AUTHORS})},onClickAuthor:function(){t("eventsHandler",{componentName:Ct.b,eventType:Ct.a.CLICK_AUTHOR})},textAuthors:a,multimediaAuthors:o,hasContent:r,hasAuthorWithPage:l,computed:i.computed,AuthorRoles:ue.d,componentName:Ct.b,Events:Ct.a,ArticleFooterPartner:bt,ArticleFooterAuthors:At}}}),St=Object(I.a)(yt,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.hasContent?t("div",{staticClass:"ds-article-footer"},[e.partner&&e.partner.image?t(s.ArticleFooterPartner,{staticClass:"ds-article-footer__partner",attrs:{image:e.partner.image,link:e.partner.link}}):e._e(),e.isAuthorsHidden?e._e():t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:s.onWatchAuthors,expression:"onWatchAuthors",modifiers:{once:!0}}],staticClass:"ds-article-footer__authors"},[s.textAuthors.length?t(s.ArticleFooterAuthors,{attrs:{authorsList:s.textAuthors,label:"Автор текста"},on:{"click:link":s.onClickAuthor}}):e._e(),s.multimediaAuthors.length?t(s.ArticleFooterAuthors,{attrs:{authorsList:s.multimediaAuthors,label:"Автор фото"},on:{"click:link":s.onClickAuthor}}):e._e()],1),e.contentSource?t("div",{staticClass:"ds-article-footer__content-source",domProps:{innerHTML:e._s(e.contentSource)}}):e._e(),e.advertiserInfo?t("div",{staticClass:"ds-article-footer__content-source",domProps:{innerHTML:e._s(e.advertiserInfo)}}):e._e()],1):e._e()}),[],!1,null,null,null).exports,Tt=s("xPRuejzDiG"),Ot=i.default.extend({components:{Link:gt.a},props:{entity:Object,isInNewTab:{required:!0,type:Boolean},size:{required:!1,type:String,default:rt.a.BODY_1},color:{required:!1,type:String,default:vt.a.PRIMARY}}}),It=Object(I.a)(Ot,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.entity?t("Link",{staticClass:"ds-related-entities-link",attrs:{size:e.size,color:e.color,href:e.entity.url,blank:e.isInNewTab},on:{click:function(t){return e.$emit("click")}}},[e._v(e._s(e.entity.title))]):e._e()}),[],!1,null,null,null).exports,Et=s("sDXkkeux7c"),kt=s.n(Et),Lt=s("QKiJet9RRx"),Bt=s.n(Lt),wt=i.default.extend({components:{DSLabel:Ye.a,IconTag16:kt.a,Tooltip:qe.a,IconCloseSmall16:Bt.a},props:{items:{type:Array,default:()=>[]},labelType:{type:String,default:ot.a.LINK},linkSize:{type:String,default:rt.a.CAPTION_1},linkColor:{type:String,default:vt.a.PRIMARY},isMobileScreen:Boolean},data:()=>({visibleMax:null}),computed:{showIconBeforeLabels(){return this.labelType===ot.a.LINK},visibleItems(){return this.visibleMax?this.items.slice(0,this.visibleMax):this.items},hiddenItems(){return this.visibleMax?this.items.slice(this.visibleMax):[]},isVisibleHiddenItems(){return this.visibleItems.length<this.items.length&&!this.isMobileScreen}},methods:{calcVisibleMax(){if(this.isMobileScreen)return;const e=this.$refs.labels,t=this.showIconBeforeLabels?this.$refs.iconWrapper.offsetWidth+16:0,s=this.$el.offsetWidth-t-24;let i=0,n=0;e.forEach((e=>{i=i+e.$el.offsetWidth+16,i<s&&(n+=1)})),this.visibleMax=n},onIntersection(){this.$emit("watch")},onClick(){this.$emit("click")}},mounted(){this.calcVisibleMax()}}),xt=Object(I.a)(wt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onIntersection,expression:"onIntersection",modifiers:{once:!0}}],staticClass:"ds-related-entities-tags"},[t("div",{staticClass:"ds-related-entities-tags__inner"},[e.showIconBeforeLabels?t("div",{ref:"iconWrapper",staticClass:"ds-related-entities-tags__icon-wrapper"},[t("IconTag16",{staticClass:"ds-related-entities-tags__icon",attrs:{size:16}})],1):e._e(),e._l(e.visibleItems,(function(s){return[t("DSLabel",{ref:"labels",refInFor:!0,staticClass:"ds-related-entities-tags__label",attrs:{label:s,linkSize:e.linkSize,linkColor:e.linkColor,type:e.labelType},on:{"click:link":e.onClick}})]})),e.isVisibleHiddenItems?t("Tooltip",{attrs:{placement:"top-start"},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.onShow;return[e.visibleItems.length<e.items.length?t("DSLabel",{staticClass:"ds-related-entities-tags__show-more-btn",attrs:{label:{text:"...",url:""},linkColor:e.linkColor,linkSize:e.linkSize},on:{"click:link":i}}):e._e()]}}],null,!1,341559807)},[t("div",{staticClass:"ds-related-entities-tags__tooltip-content"},[e._l(e.hiddenItems,(function(s){return[t("DSLabel",{staticClass:"ds-related-entities-tags__hidden-label",attrs:{label:s,linkSize:e.linkSize,linkColor:e.linkColor,type:e.labelType},on:{"click:link":e.onClick}})]}))],2)]):e._e()],2)])}),[],!1,null,null,null).exports,Nt=i.default.extend({components:{ArticleRelatedEntitiesLink:It,ArticleRelatedEntitiesTags:xt},props:{entities:{required:!0,type:Array},title:{required:!1,type:String,default:"Материалы по теме"},relatedTags:{required:!1,type:Array,default:()=>[]},uiConfig:{required:!1,type:Object,default:()=>({hideTitle:!1,color:vt.a.SECONDARY,size:rt.a.BODY_1,hasOverline:!1,hasBackground:!1,labels:{color:vt.a.PRIMARY,size:rt.a.CAPTION_1,type:ot.a.LINK}})},isInNewTab:Boolean,isMobileScreen:Boolean},computed:{visibleTitle(){return this.title.length>0&&!this.uiConfig.hideTitle},showIconBeforeLabels(){return this.uiConfig.labels.type===ot.a.LINK},modifiers(){return{"ds-related-entities_has-overline":this.uiConfig.hasOverline&&this.entities.length>0,"ds-related-entities_with-bg":this.uiConfig.hasBackground}}},methods:{onIntersection(){this.$emit(Tt.a.WATCH_BLOCK)},trackClick(e){this.$emit(Tt.a.CLICK_LINK,e)},watchTags(){this.$emit(Tt.a.WATCH_TAGS)},clickTag(){this.$emit(Tt.a.CLICK_TAG)}}}),Mt=Object(I.a)(Nt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onIntersection,expression:"onIntersection",modifiers:{once:!0}}],staticClass:"ds-related-entities",class:e.modifiers},[e.entities.length?t("div",{staticClass:"ds-related-entities__inner"},[e.visibleTitle?t("div",{staticClass:"ds-related-entities__title text-style-title-5"},[e._v(e._s(e.title))]):e._e(),t("ul",{staticClass:"ds-related-entities__list"},e._l(e.entities,(function(s,i){return t("li",{staticClass:"ds-related-entities__item"},[e._t("readAlso".concat(i+1),(function(){return[t("ArticleRelatedEntitiesLink",{key:s.id,staticClass:"ds-related-entities__item-link",attrs:{entity:s,isInNewTab:e.isInNewTab,color:e.uiConfig.color,size:e.uiConfig.size},on:{click:function(t){return e.trackClick(i)}}})]}))],2)})),0)]):e._e(),e.relatedTags.length?t("ArticleRelatedEntitiesTags",{key:"".concat(e.uiConfig.labels.type,"_").concat(e.uiConfig.labels.size),staticClass:"mt-4",attrs:{items:e.relatedTags,labelType:e.uiConfig.labels.type,linkColor:e.uiConfig.labels.color,linkSize:e.uiConfig.labels.size,isMobileScreen:e.isMobileScreen},on:{watch:e.watchTags,click:e.clickTag}}):e._e()],1)}),[],!1,null,null,null).exports;const Rt=[me.a.AdUnit.READ_ALSO_1,me.a.AdUnit.READ_ALSO_2,me.a.AdUnit.READ_ALSO_3,me.a.AdUnit.READ_ALSO_4,me.a.AdUnit.READ_ALSO_5];var Pt=i.default.extend({components:{CreativeContainer:A.a,ArticleRelatedEntities:Mt,ArticleRelatedEntitiesLink:It},props:{entities:{required:!0,type:Array},title:{required:!1,type:String,default:"Материалы по теме"},relatedTags:{required:!1,type:Array,default:()=>[]},uiConfig:{required:!1,type:Object,default:()=>({hideTitle:!1,color:vt.a.SECONDARY,size:rt.a.BODY_1,hasOverline:!1,hasBackground:!1,labels:{color:vt.a.PRIMARY,size:rt.a.CAPTION_1,type:ot.a.LINK}})},isInNewTab:Boolean,isMobileScreen:Boolean},data:()=>({creativesData:Rt.map((e=>({adunit:e,failed:!1,displayed:!1})))}),computed:{hasContent(){const e=this.creativesData.every((e=>e.failed)),t=0===this.entities.length;return!(e&&t)}},methods:{trackClick(e){this.$emit(Tt.a.CLICK_LINK,e)},setCreativeLinkStyle(e,t){var s,i;const n=null===(s=this.$refs.readAlso)||void 0===s?void 0:s[e],a=null===(i=null==n?void 0:n.$el)||void 0===i?void 0:i.querySelector("a[data-related-entity]");a&&(a.classList.add("ds-link","ds-related-entities-link","ds-related-entities__item-link",`text-style-${this.uiConfig.size}`,`ds-link_color-${this.uiConfig.color}`),t.displayed=!0)}}}),Dt=Object(I.a)(Pt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.hasContent?t("ArticleRelatedEntities",e._g({attrs:{entities:e.entities,relatedTags:e.relatedTags,uiConfig:e.uiConfig,isMobileScreen:e.isMobileScreen}},e.$listeners),[e._l(e.creativesData,(function(s,i){return[t("template",{slot:"readAlso".concat(i+1)},[t("CreativeContainer",{ref:"readAlso",refInFor:!0,attrs:{adunit:s.adunit},on:{displayed:function(t){return e.setCreativeLinkStyle(i,s)},failed:function(e){s.failed=!0}}}),i<=e.entities.length-1?[t("ArticleRelatedEntitiesLink",{directives:[{name:"show",rawName:"v-show",value:s.failed||!s.displayed,expression:"creativeData.failed || !creativeData.displayed"}],key:e.entities[i].id,staticClass:"ds-related-entities__item-link",attrs:{entity:e.entities[i],isInNewTab:e.isInNewTab,color:e.uiConfig.color,size:e.uiConfig.size},on:{click:function(t){return e.trackClick(i)}}})]:e._e()],2)]}))],2):e._e()}),[],!1,null,null,null).exports,jt=s("yhLWfaImZm"),Ht=s("Y6VH2ARFzk"),Ft=s("u7BrjG3ydt"),Ut=s("5LbIpJNEvA");let zt=class extends o.f{get hasDietarySupplement(){return this.attributes.includes(ue.c.MEDICINE_DIETARY_SUPPLEMENT)}get hasContraindications(){return this.attributes.includes(ue.c.MEDICINE_CONTRAINDICATIONS)}get hasAdvertisement(){return this.attributes.includes(ue.c.MEDICINE_ADVERTISEMENT)}};Object(n.a)([Object(o.d)({required:!0,default:()=>[],type:Array}),Object(n.b)("design:type",Array)],zt.prototype,"attributes",void 0),zt=Object(n.a)([o.a],zt);var Vt=zt,Gt=Object(I.a)(Vt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings"},[e.hasDietarySupplement?t("div",{staticClass:"medical-warnings__dietary-supplement"},[e._m(0),e._m(1)]):e._e(),e.hasAdvertisement?t("div",{staticClass:"medical-warnings__contraindications"},[e._m(2),e._m(3),e._m(4)]):e._e(),e.hasContraindications?t("div",{staticClass:"medical-warnings__advertisement"},[e._m(5),e._m(6)]):e._e()])}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("Б")]),t("span",[e._v("А")]),t("span",[e._v("Д")]),t("span",[e._v(".")]),t("span"),t("span",[e._v("Н")]),t("span",[e._v("е")]),t("span"),t("span",[e._v("я")]),t("span",[e._v("в")]),t("span",[e._v("л")]),t("span",[e._v("я")]),t("span",[e._v("е")]),t("span",[e._v("т")]),t("span",[e._v("с")]),t("span",[e._v("я")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("л")]),t("span",[e._v("е")]),t("span",[e._v("к")]),t("span",[e._v("а")]),t("span",[e._v("р")]),t("span",[e._v("с")]),t("span",[e._v("т")]),t("span",[e._v("в")]),t("span",[e._v("е")]),t("span",[e._v("н")]),t("span",[e._v("ы")]),t("span",[e._v("м")]),t("span"),t("span",[e._v("с")]),t("span",[e._v("р")]),t("span",[e._v("е")]),t("span",[e._v("д")]),t("span",[e._v("с")]),t("span",[e._v("т")]),t("span",[e._v("в")]),t("span",[e._v("о")]),t("span",[e._v("м")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("И")]),t("span",[e._v("м")]),t("span",[e._v("е")]),t("span",[e._v("ю")]),t("span",[e._v("т")]),t("span",[e._v("с")]),t("span",[e._v("я")]),t("span"),t("span",[e._v("п")]),t("span",[e._v("р")]),t("span",[e._v("о")]),t("span",[e._v("т")]),t("span",[e._v("и")]),t("span",[e._v("в")]),t("span",[e._v("о")]),t("span",[e._v("п")]),t("span",[e._v("о")]),t("span",[e._v("к")]),t("span",[e._v("а")]),t("span",[e._v("з")]),t("span",[e._v("а")]),t("span",[e._v("н")]),t("span",[e._v("и")]),t("span",[e._v("я")]),t("span",[e._v(".")]),t("span"),t("span",[e._v("Н")]),t("span",[e._v("е")]),t("span",[e._v("о")]),t("span",[e._v("б")]),t("span",[e._v("х")]),t("span",[e._v("о")]),t("span",[e._v("д")]),t("span",[e._v("и")]),t("span",[e._v("м")]),t("span",[e._v("о")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("о")]),t("span",[e._v("з")]),t("span",[e._v("н")]),t("span",[e._v("а")]),t("span",[e._v("к")]),t("span",[e._v("о")]),t("span",[e._v("м")]),t("span",[e._v("и")]),t("span",[e._v("т")]),t("span",[e._v("ь")]),t("span",[e._v("с")]),t("span",[e._v("я")]),t("span"),t("span",[e._v("с")]),t("span"),t("span",[e._v("и")]),t("span",[e._v("н")]),t("span",[e._v("с")]),t("span",[e._v("т")]),t("span",[e._v("р")]),t("span",[e._v("у")]),t("span",[e._v("к")]),t("span",[e._v("ц")]),t("span",[e._v("и")]),t("span",[e._v("е")]),t("span",[e._v("й")]),t("span"),t("span",[e._v("п")]),t("span",[e._v("о")]),t("span"),t("span",[e._v("п")]),t("span",[e._v("р")]),t("span",[e._v("и")]),t("span",[e._v("м")]),t("span",[e._v("е")]),t("span",[e._v("н")]),t("span",[e._v("е")]),t("span",[e._v("н")]),t("span",[e._v("и")]),t("span",[e._v("ю")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("и")]),t("span",[e._v("л")]),t("span",[e._v("и")]),t("span"),t("span",[e._v("п")]),t("span",[e._v("о")]),t("span",[e._v("л")]),t("span",[e._v("у")]),t("span",[e._v("ч")]),t("span",[e._v("и")]),t("span",[e._v("т")]),t("span",[e._v("ь")]),t("span"),t("span",[e._v("к")]),t("span",[e._v("о")]),t("span",[e._v("н")]),t("span",[e._v("с")]),t("span",[e._v("у")]),t("span",[e._v("л")]),t("span",[e._v("ь")]),t("span",[e._v("т")]),t("span",[e._v("а")]),t("span",[e._v("ц")]),t("span",[e._v("и")]),t("span",[e._v("ю")]),t("span"),t("span",[e._v("с")]),t("span",[e._v("п")]),t("span",[e._v("е")]),t("span",[e._v("ц")]),t("span",[e._v("и")]),t("span",[e._v("а")]),t("span",[e._v("л")]),t("span",[e._v("и")]),t("span",[e._v("с")]),t("span",[e._v("т")]),t("span",[e._v("а")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("П")]),t("span",[e._v("о")]),t("span",[e._v("л")]),t("span",[e._v("у")]),t("span",[e._v("ч")]),t("span",[e._v("и")]),t("span",[e._v("т")]),t("span",[e._v("е")]),t("span"),t("span",[e._v("к")]),t("span",[e._v("о")]),t("span",[e._v("н")]),t("span",[e._v("с")]),t("span",[e._v("у")]),t("span",[e._v("л")]),t("span",[e._v("ь")]),t("span",[e._v("т")]),t("span",[e._v("а")]),t("span",[e._v("ц")]),t("span",[e._v("и")]),t("span",[e._v("ю")]),t("span"),t("span",[e._v("с")]),t("span",[e._v("п")]),t("span",[e._v("е")]),t("span",[e._v("ц")]),t("span",[e._v("и")]),t("span",[e._v("а")]),t("span",[e._v("л")]),t("span",[e._v("и")]),t("span",[e._v("с")]),t("span",[e._v("т")]),t("span",[e._v("а")])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"medical-warnings__line"},[t("span",[e._v("п")]),t("span",[e._v("о")]),t("span"),t("span",[e._v("о")]),t("span",[e._v("к")]),t("span",[e._v("а")]),t("span",[e._v("з")]),t("span",[e._v("ы")]),t("span",[e._v("в")]),t("span",[e._v("а")]),t("span",[e._v("е")]),t("span",[e._v("м")]),t("span",[e._v("ы")]),t("span",[e._v("м")]),t("span"),t("span",[e._v("у")]),t("span",[e._v("с")]),t("span",[e._v("л")]),t("span",[e._v("у")]),t("span",[e._v("г")]),t("span",[e._v("а")]),t("span",[e._v("м")]),t("span"),t("span",[e._v("и")]),t("span"),t("span",[e._v("в")]),t("span",[e._v("о")]),t("span",[e._v("з")]),t("span",[e._v("м")]),t("span",[e._v("о")]),t("span",[e._v("ж")]),t("span",[e._v("н")]),t("span",[e._v("ы")]),t("span",[e._v("м")]),t("span"),t("span",[e._v("п")]),t("span",[e._v("р")]),t("span",[e._v("о")]),t("span",[e._v("т")]),t("span",[e._v("и")]),t("span",[e._v("в")]),t("span",[e._v("о")]),t("span",[e._v("п")]),t("span",[e._v("о")]),t("span",[e._v("к")]),t("span",[e._v("а")]),t("span",[e._v("з")]),t("span",[e._v("а")]),t("span",[e._v("н")]),t("span",[e._v("и")]),t("span",[e._v("я")]),t("span",[e._v("м")])])}],!1,null,"b9c10896",null).exports,$t=s("pHB8KKVtst");const Kt=Object(ve.a)(d.a.ModuleName.ARTICLES_PAGE,Ve.a.ARTICLES,m.a.RESET_QUIZ_SHARED_RESULT);var Wt=i.default.extend({components:{ArticleHeader:ct,ArticleContent:ut.a,ArticleFooter:St,ArticleRelatedEntitiesAdvContainer:Dt,ArticleSchema:dt.a,MedicalWarnings:Gt},props:{article:{required:!0,type:c.a},hostname:{required:!0,type:String},schemaImage:{required:!1,type:String},project:{required:!0,type:pe.a},maxImageWidth:{required:!0,type:Number},maxImageHeight:{required:!0,type:Number},getFeedbackForm:{required:!0,type:Function},selectedPollsVariantsIds:{required:!0,type:Array},articleIndex:{required:!0,type:Number},articleCommentsLink:{type:String,default:""},schemeAuthority:String,isMobile:Boolean,bannersConfig:Object,quizSharedResultParams:{required:!0,type:Object}},computed:{getSchemaImage(){return this.schemaImage?this.schemaImage:this.article.horizontalImage},articleBlocks(){return this.article.content()},content(){return this.$refs.content},blocksSlotsList(){return this.blockTypesList.reduce(((e,t)=>(e.push(...Object(ut.b)(t)),e)),[])},isFirstArticle(){return 0===this.articleIndex},relatedGalleriesSlideConfig(){return{relatedGalleries:this.article.getRelatedGallery(this.$store),commentsTotal:this.article.commentsTotal,isCommentsDisabled:this.article.isCommentsDisabled}},hasMedicalWarnings(){return this.article.attributes.some((e=>e.includes("medicine:")))}},data:()=>({blockTypesList:Object.values(ue.f)}),methods:{getBlockSlotsList:ut.b,clickTopic(){this.eventsHandler({componentName:it.c,eventType:it.a.CLICK_TOPIC})},trackArticleScroll(e){this.eventsHandler({componentName:$t.b,eventType:$t.a.UPDATE_SCROLL,payload:{indicatorNumber:e,articleIndex:this.articleIndex}}),this.article.trackViewArticlePart(this.$store,this.articleIndex)},eventIfArticleBlockExist({blockType:e,componentName:t,eventType:s}){this.article.hasBlock(this.articleBlocks,e)&&this.eventsHandler({componentName:t,eventType:s})},reachGoalGalleryExists(e){e.forEach((e=>{e.type===ue.f.SLIDER&&this.eventsHandler({componentName:jt.b,eventType:jt.a.EXIST,payload:{theme:e.theme}})}))},fetchRelatedGalleries(){this.article.fetchRelatedGalleries(this.$store,this.articleBlocks)},eventsHandler(e){switch(this.$emit("eventsHandler",e),e.componentName){case mt.d:if(mt.a.CLICK_VOTE===e.eventType){const{pollId:t,variantIds:s}=e.payload;this.article.vote(this.$store,{pollId:t,variantIds:s})}break;case ht.e:switch(e.eventType){case ht.a.RESET_QUIZ_SHARED_RESULT:this.$store.dispatch(Kt);break;case ht.a.CLICK_SHARE:const t=e.payload;this.article.sendQuizSharingStats(this.$store,t);break;case ht.a.WATCH_RESULT:const s=e.payload;this.article.sendQuizStats(this.$store,s)}break;case pt.b:switch(e.eventType){case pt.a.WATCH:const t=e.payload,s=t.block.products[t.index];this.article.trackProductBlockWatch(this.$store,s);break;case pt.a.CLICK_LINK:const i=e.payload,n=i.block.products[i.index];this.article.trackProductBlockClick(this.$store,n)}break;case jt.b:switch(e.eventType){case jt.a.CLICK_CHANGE_SLIDE:const{theme:t,index:s}=e.payload;if(this.isMobile&&[he.b.BOOK,he.b.TILES_DISCLOSED].includes(t))break;this.sendGalleryFakePV(s)}break;case Ht.b:switch(e.eventType){case Ht.a.CLICK_CHANGE_SLIDE:const{theme:t,index:s}=e.payload;if(!t||"number"!=typeof s)break;this.sendGalleryFakePV(s)}}},sendGalleryFakePV(e){const{pathname:t}=window.location,s=`${t}?openGallery=${e+1}`;this.article.trackHitFromSlider(this.$store,{url:s})},clickOnRelatedEntitiesItem(e){this.eventsHandler({componentName:Tt.b,eventType:Tt.a.CLICK_LINK,payload:{index:e}})},watchRelatedEntities(){this.eventsHandler({componentName:Tt.b,eventType:Tt.a.WATCH_BLOCK})},watchRelatedEntitiesTags(){this.eventsHandler({componentName:Tt.b,eventType:Tt.a.WATCH_TAGS})},clickTagRelatedEntities(){this.eventsHandler({componentName:Tt.b,eventType:Tt.a.CLICK_TAG})},onArticleHeaderCommentsBtnClicked(){this.eventsHandler({componentName:it.c,eventType:it.a.COMMENTS_BTN_CLICKED}),this.$emit(it.a.COMMENTS_BTN_CLICKED)},onArticleHeaderCommentsBtnShown(){this.eventsHandler({componentName:it.c,eventType:it.a.COMMENTS_BTN_SHOWN})}},mounted(){this.article.registerFeedbackForms(this.articleBlocks,this.$store),setTimeout((()=>{this.eventIfArticleBlockExist({blockType:ue.f.BEFORE_AND_AFTER,componentName:Ft.b,eventType:Ft.a.EXIST}),this.eventIfArticleBlockExist({blockType:ue.f.FLIP,componentName:Ut.b,eventType:Ut.a.EXIST}),this.eventIfArticleBlockExist({blockType:ue.f.PRODUCT,componentName:_t.b,eventType:_t.a.EXIST}),this.eventIfArticleBlockExist({blockType:ue.f.PRODUCT_SET,componentName:pt.b,eventType:pt.a.EXIST});const e=this.articleBlocks.find((e=>e.type===ue.f.PRODUCT));e&&this.article.trackProductBlockArticlePageView(this.$store,e);const t=this.articleBlocks.find((e=>e.type===ue.f.PRODUCT_SET));t&&this.article.trackProductBlockArticlePageView(this.$store,t.products[0]),this.reachGoalGalleryExists(this.articleBlocks)}),100)}}),qt=Object(I.a)(Wt,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"article",attrs:{"data-article-inner":""}},[t("LazyHydrate",{attrs:{"ssr-only":""}},[t("ArticleSchema",{attrs:{title:e.article.title,image:e.getSchemaImage,canonical:e.article.pageMeta.canonical,modifiedAt:e.article.modifiedAt,publishedAt:e.article.currentPublishedAt,firstPublishedAt:e.article.firstPublishedAt,authors:e.article.authors,projectDomain:e.project.projectDomain,schemaOrgParams:e.project.schemaOrgParams,topics:e.article.topics,inactiveTopics:e.article.inactiveTopics}})],1),t("ArticleHeader",{staticClass:"mb-5",attrs:{labels:e.project.showThemesWithTopics?[].concat(Ue(e.article.topics),Ue(e.article.themes)):e.article.topics,publishedAt:e.article.currentPublishedAt,viewsCount:e.article.viewsFormatted,commentsCount:e.article.commentsFormatted,commentsLink:e.articleCommentsLink,isMobile:e.isMobile,hidePublicationDate:e.article.isPublishDateHidden,showPartnerLabel:e.article.showAdvertiserNotification,advertiserEridInfo:e.article.advertiserEridInfo,hideCommentsCount:e.article.isCommentsDisabled,hideViewsCount:e.article.hideViews,uiConfig:e.project.uiConfig?e.project.uiConfig.articleHeader:void 0,timeZone:e.project.timeZone,showDateWithTime:e.project.showDateWithTime},on:{"click:topic":e.clickTopic,commentsBtnClicked:e.onArticleHeaderCommentsBtnClicked,commentsBtnShown:e.onArticleHeaderCommentsBtnShown},scopedSlots:e._u([e.article.leadParagraph?{key:"lead",fn:function(){return[e._v(e._s(e.article.leadParagraph))]},proxy:!0}:null],null,!0)},[e._v(e._s(e.article.title))]),t("ArticleContent",{ref:"content",attrs:{blocks:e.articleBlocks,maxWidth:e.maxImageWidth,maxHeight:e.maxImageHeight,project:e.project,articleId:e.article.id,selectedVariantsIds:e.selectedPollsVariantsIds,getFeedbackForm:e.getFeedbackForm,isMobile:e.isMobile,schemeAuthority:e.schemeAuthority,bannersConfig:e.bannersConfig,isLazyHydrationDisabled:!e.isFirstArticle,relatedGalleriesSlideConfig:e.relatedGalleriesSlideConfig,articleUrl:e.article.currentPageUrl,textAuthors:e.article.textAuthors,uiConfig:e.project.uiConfig,quizSharedResultParams:e.quizSharedResultParams},on:{submitFeedbackForm:function(t){return e.$emit("submitFeedbackForm",t)},fetchRelatedGalleries:e.fetchRelatedGalleries,eventsHandler:e.eventsHandler},scopedSlots:e._u([e._l(e.blocksSlotsList,(function(t){return{key:t.path,fn:function(s){return[e._t(t.path,null,null,s)]}}})),{key:"block.after",fn:function(t){return[e._t("block.after",null,null,t)]}},{key:"fullscreenGallery.afterImage",fn:function(t){return[e._t("fullscreenGallery.afterImage",null,null,t)]}},{key:"fullscreenGallery.advSlide",fn:function(t){return[e._t("fullscreenGallery.advSlide",null,null,t)]}},{key:"fullscreenGallery.aside",fn:function(){return[e._t("fullscreenGallery.aside")]},proxy:!0},{key:"blockAfterContent",fn:function(){return[t("LazyHydrate",{attrs:{never:""}},[e.hasMedicalWarnings?t("MedicalWarnings",{attrs:{attributes:e.article.attributes}}):e._e()],1),e._l(4,(function(s){return t("div",{directives:[{name:"intersect",rawName:"v-intersect.once",value:function(){return e.trackArticleScroll(s)},expression:"() => trackArticleScroll(index)",modifiers:{once:!0}}],key:"".concat(e.article.id).concat(s),staticClass:"article__scroll-indicator",style:"top:".concat(25*s,"%")})}))]},proxy:!0}],null,!0)}),t("ArticleFooter",{attrs:{authors:e.article.authors,partner:e.article.partner,contentSource:e.article.contentSource,isAuthorsHidden:e.article.isAuthorsHidden,advertiserInfo:e.article.advertiserInfo},on:{eventsHandler:e.eventsHandler}}),e._t("blockPromo"),t("ArticleRelatedEntitiesAdvContainer",{staticClass:"mt-4",attrs:{entities:e.article.relatedEntities,relatedTags:e.project.showThemesWithTopics?[]:e.article.relatedTags,uiConfig:e.project.uiConfig?e.project.uiConfig.relatedEntitiesList:void 0,isMobileScreen:e.isMobile},on:{"watch:block":e.watchRelatedEntities,"watch:tags":e.watchRelatedEntitiesTags,"click:tag":e.clickTagRelatedEntities,"click:link":e.clickOnRelatedEntitiesItem}}),e._t("blockAfterAll")],2)}),[],!1,null,null,null).exports,Yt=s("pAmxMUlEX6"),Xt=s("zg+FV8VETU"),Qt=s("yQwNl/G6Gf"),Zt=s("7O1sD+ABaw"),Jt=s("bbhb/ZslNZ"),es=s("5n2/XvOsj6"),ts=s.n(es),ss=i.default.extend({directives:{ClickOutside:ts.a},props:{value:{required:!0,type:Boolean},offsetTop:Number,offsetLeft:Number,offsetRight:Number,width:Number,height:Number,maxHeight:Number},data:()=>({canTrackClickOutside:!1}),watch:{value(e,t){e&&!t&&setTimeout((()=>{this.canTrackClickOutside=!0}),0),e||(this.canTrackClickOutside=!1)}},computed:{styles(){return{top:`${this.offsetTop||0}px`,left:"number"==typeof this.offsetLeft?`${this.offsetLeft||0}px`:null,right:"number"==typeof this.offsetRight?`${this.offsetRight||0}px`:null,height:this.height?`${this.height}px`:null,width:this.width?`${this.width}px`:null,maxHeight:this.maxHeight?`${this.maxHeight}px`:null}}},methods:{onClickOutside(){this.canTrackClickOutside&&this.value&&this.$emit("input",!1)}}}),is=Object(I.a)(ss,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.value?t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],staticClass:"ds-menu",style:e.styles},[e._t("default")],2):e._e()}),[],!1,null,null,null).exports,ns=s("HllIA6cZUQ"),as=s.n(ns),os=s("BqdI+V7mvt"),rs=s.n(os),ls=s("TqTK6OqsyX"),cs=s.n(ls),ds=i.default.extend({props:{value:{required:!0,type:Number},cutToThousands:Boolean,isVoted:{type:Boolean,default:!1}},data:()=>({isAnimated:!1}),watch:{value(){this.refreshAnimation()}},computed:{modifiers(){return{"ds-comments-counter__animated":this.isAnimated,"ds-comments-counter__voted":this.isVoted}},countText(){const e=Number(this.value)||0;if(this.cutToThousands&&e>1e3){const t=Math.floor(e/100)/10;return`${e>=1e4?Math.floor(t):t}К`}return e.toString()}},methods:{onClick(){this.$emit("click")},refreshAnimation(){this.isAnimated=!0,setTimeout((()=>{this.isAnimated=!1}),100)}}}),us=Object(I.a)(ds,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("button",{staticClass:"ds-comments-counter",class:e.modifiers,on:{click:e.onClick}},[t("div",{staticClass:"ds-comments-counter__icon"},[e._t("icon")],2),t("span",{staticClass:"ds-comments-counter__text"},[e._v(e._s(e.countText))])])}),[],!1,null,null,null).exports,ms=s("RsHRWgQobi"),hs=s("IRdHUSKuKM"),ps=s("vB8C6pFcQD"),_s=s.n(ps),Cs=i.default.extend({components:{SimpleImage:ms.a,IconNoAvatar64:_s.a},props:{src:{required:!0,type:String},size:{required:!0,type:Number}},data:()=>({hasError:!1}),watch:{src(){this.hasError=!1}},computed:{avatarSrc(){return this.src?Object(hs.getResizedImageUrl)(this.src,this.size,this.size,"cropGravityN"):""},isEmpty(){return!this.src||this.hasError},styles(){return{width:`${this.size}px`,height:`${this.size}px`}}}}),bs=Object(I.a)(Cs,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isEmpty?t("div",{staticClass:"ds-comments-avatar",style:e.styles},[t("IconNoAvatar64",{attrs:{size:e.size}})],1):t("SimpleImage",{staticClass:"ds-comments-avatar",attrs:{lazy:"",width:e.size,height:e.size,src:e.avatarSrc},on:{error:function(t){e.hasError=!0}}})}),[],!1,null,null,null).exports,gs=i.default.extend({props:{quote:{required:!0,type:Object}},methods:{onAuthorClick(){this.$emit("click:author")}}}),vs=Object(I.a)(gs,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ds-comments-message-quote",class:{"ds-comments-message-quote_removed":!e.quote.author}},[t("a",{staticClass:"ds-comments-message-quote__author",attrs:{href:"#gm-comment-id-".concat(e.quote.commentId)},on:{click:function(t){return t.preventDefault(),e.onAuthorClick.apply(null,arguments)}}},[e._v(e._s(e.quote.author||"Гость"))]),e.quote.comment?t("div",{staticClass:"ds-comments-message-quote__text"},[e._v(e._s(e.quote.comment))]):e._e()])}),[],!1,null,null,null).exports,fs=s("GaxqhhO00i"),As=s.n(fs),ys=s("fdYhX0sMfQ"),Ss=s.n(ys),Ts=i.default.extend({components:{IconEdit16:As.a,IconBan16:Ss.a,IconEye16:st.a,ContextMenu:is,DSButton:ne.a},props:{visible:Boolean,showModeratorActions:Boolean,editCommentUrl:String,adminCommentsUrl:String,canCreateComplaint:Boolean,isMobileScreen:Boolean},computed:{buttonSize(){return this.isMobileScreen?"medium":"super-small"}},methods:{changeVisibility(e){this.$emit("change:visible",e)},createComplaint(){this.$emit("createComplaint"),this.changeVisibility(!1)}}}),Os=Object(I.a)(Ts,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("ContextMenu",{staticClass:"ds-comments-message-manage-menu",attrs:{value:e.visible,offsetTop:e.isMobileScreen?0:28,offsetLeft:e.isMobileScreen?null:0,offsetRight:e.isMobileScreen?32:null},on:{input:e.changeVisibility}},[t("div",{staticClass:"ds-comments-message-manage-menu__content"},[e.showModeratorActions?t("DSButton",{attrs:{variant:"link",size:e.buttonSize,href:e.adminCommentsUrl}},[t("IconEye16",{attrs:{slot:"left",size:16},slot:"left"}),e._v("Все комментарии")],1):e._e(),e.showModeratorActions?t("DSButton",{attrs:{variant:"link",size:e.buttonSize,href:e.editCommentUrl}},[t("IconEdit16",{attrs:{slot:"left",size:16},slot:"left"}),e._v("Редактировать в админке")],1):e._e(),e.canCreateComplaint?t("DSButton",{attrs:{variant:"link",size:e.buttonSize,"data-test":"send-complaint-btn"},on:{click:e.createComplaint}},[t("IconBan16",{attrs:{slot:"left",size:16},slot:"left"}),e._v("Пожаловаться")],1):e._e()],1)])}),[],!1,null,null,null).exports,Is=i.default.extend({components:{DSButton:ne.a,CommentsAvatar:bs,CommentsMessageQuote:vs,CommentsCounter:us,IconPlus16:as.a,IconMinus16:rs.a,IconComments16:et.a,IconEllipsisHorizontal16:We.a,IconEllipsisVertical16:cs.a,ContextMenu:is,CommentsMessageManageMenu:Os},props:{comment:{required:!0,type:Object},isMobileScreen:{required:!0,type:Boolean},isDateVisible:{required:!1,type:Boolean,default:!0},isComplained:{required:!1,type:Boolean,default:!1},moderator:{required:!1,type:Object,default:null},moderatorActionsInContextMenu:{required:!0,type:Boolean},canValidateComments:Boolean,canWriteAnswer:{required:!0,type:Boolean},isLoggedIn:{required:!0,type:Boolean}},data:()=>({isManageMenuVisible:!1,notification:"",isReplyButtonClicked:!1,isAnswersOpened:!1}),computed:{userName(){return this.comment.user.displayName||"Гость"},text(){return this.comment.comment},hasQuote(){return!!this.comment.quote},modifiers(){return{"ds-comments-message_complained":this.isComplained}},canCreateComplaint(){return this.comment.accessControl.canCreateComplaint},canValidate(){return this.moderator&&this.canValidateComments},showModeratorActions(){return this.canValidate&&this.moderatorActionsInContextMenu},canManage(){return this.canCreateComplaint},editCommentUrl(){return this.moderator?Object(Xt.b)(this.moderator.adminUrl,this.comment.id):""},hasUserLike(){return this.comment.hasLike},hasUserDislike(){return this.comment.hasDislike}},watch:{isComplained(){this.notification="Жалоба принята",setInterval((()=>{this.notification=""}),5e3)}},methods:{getCommentElementId:e=>`gm-comment-id-${e}`,changeShowAnswers(){this.$emit("change:showAnswers"),this.isAnswersOpened||(this.$emit("change:showAnswersSendReachGoal"),this.isAnswersOpened=!0)},async scrollToComment(e){const{observer:t}=await Promise.all([s.e(0),s.e(51)]).then(s.bind(null,"AITqcq9OeE")),i=document.getElementById(this.getCommentElementId(e));if(!i)return;const{top:n}=i.getBoundingClientRect(),a="ds-comments-message_selected";t.add(i,{onIntersection:()=>{t.remove(i),i.classList.add(a),setTimeout((()=>i.classList.remove(a)),800)}}),window.scrollTo({top:(window.scrollY||window.pageYOffset)+n-100,behavior:"smooth"})},onComplain(){this.$emit("click:createComplaint"),this.comment.complain(this.$store)},onClickReply(){this.comment.showAnswer(this.$store),this.isReplyButtonClicked||(this.$emit("click:replyButtonClicked"),this.isReplyButtonClicked=!0)}}}),Es=Object(I.a)(Is,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ds-comments-message",class:e.modifiers,attrs:{itemscope:"",itemprop:"comment",itemtype:"https://schema.org/Comment",id:e.getCommentElementId(e.comment.id)}},[t("div",{staticClass:"ds-comments-message__header"},[t("div",{staticClass:"ds-comments-message__user"},[t("CommentsAvatar",{staticClass:"ds-comments-message__avatar",attrs:{src:e.comment.user.avatar,size:e.isMobileScreen?48:32}}),t("div",{staticClass:"ds-comments-message__username",attrs:{itemprop:"author","data-test":"comment-item__user-nickname"}},[e._v(e._s(e.userName))]),e.isDateVisible?t("div",{staticClass:"ds-comments-message__date",attrs:{itemprop:"datePublished",content:e.comment.createdAt}},[e._v(e._s(e.comment.humanDate))]):e._e()],1),e.isMobileScreen?t("div",{staticClass:"ds-comments-message__actions"},[e.canManage?t("div",{staticClass:"ds-comments-message__manage-menu"},[t("CommentsMessageManageMenu",{attrs:{canCreateComplaint:e.canCreateComplaint,isMobileScreen:e.isMobileScreen,visible:e.isManageMenuVisible,editCommentUrl:e.editCommentUrl,adminCommentsUrl:e.moderator.adminCommentsUrl,showModeratorActions:e.showModeratorActions},on:{"change:visible":function(t){e.isManageMenuVisible=t},createComplaint:e.onComplain}}),t("transition",{attrs:{name:"fade"}},[e.notification?t("ContextMenu",{staticClass:"ds-comments-message__mobile-notification",attrs:{value:e.notification}},[t("span",[e._v(e._s(e.notification))])]):e._e()],1),t("button",{staticClass:"ds-comments-message__action-button ds-comments-message__action-button_icon",on:{click:function(t){e.isManageMenuVisible=!e.isManageMenuVisible}}},[t("IconEllipsisVertical16",{attrs:{size:16}})],1)],1):e._e()]):e._e(),e.moderatorActionsInContextMenu||!e.canValidate||e.isMobileScreen?e._e():t("div",{staticClass:"ds-comments-message__moderator-actions"},[e.moderator.adminCommentsUrl?t("DSButton",{attrs:{variant:"primary",size:"super-small",target:"_blank",href:e.moderator.adminCommentsUrl}},[e._v("Все комм. автора")]):e._e(),e.editCommentUrl?t("DSButton",{attrs:{variant:"primary",size:"super-small",target:"_blank",href:e.editCommentUrl}},[e._v("Изменить")]):e._e()],1)]),e.hasQuote?t("CommentsMessageQuote",{staticClass:"ds-comments-message__quote",attrs:{quote:e.comment.quote}}):e._e(),t("div",{staticClass:"ds-comments-message__text",attrs:{itemprop:"text"},domProps:{innerHTML:e._s(e.text)}}),t("div",{staticClass:"ds-comments-message__footer"},[t("div",{staticClass:"ds-comments-message__counters"},[e.comment.isRoot?t("CommentsCounter",{staticClass:"ds-comments-message__comments-counter",attrs:{cutToThousands:"",value:e.comment.publishedChildsTotal,"data-test":"comment-item__toggle-answers"},on:{click:e.changeShowAnswers}},[t("IconComments16",{attrs:{size:16}})],1):e._e(),t("CommentsCounter",{staticClass:"ds-comments-message__likes-counter",attrs:{cutToThousands:"",itemprop:"upvoteCount","is-voted":e.hasUserLike,value:e.comment.likesTotal,"data-test":"comment-voting_like"},on:{click:function(t){return e.comment.like(e.$store)}}},[t("IconPlus16",{attrs:{size:16}})],1),t("CommentsCounter",{staticClass:"ds-comments-message__dislikes-counter",attrs:{cutToThousands:"",itemprop:"downvoteCount","is-voted":e.hasUserDislike,value:e.comment.dislikesTotal,"data-test":"comment-voting_dislike"},on:{click:function(t){return e.comment.dislike(e.$store)}}},[t("IconMinus16",{attrs:{size:16}})],1)],1),t("transition",{attrs:{name:"fade"}},[e.notification&&!e.isMobileScreen?t("div",{staticClass:"ds-comments-message__footer-notification"},[e._v(e._s(e.notification))]):e._e()]),t("div",{staticClass:"ds-comments-message__footer-actions"},[e.canWriteAnswer?t("button",{staticClass:"ds-comments-message__action-button",attrs:{"data-test":"comment-item__answer-btn"},on:{click:e.onClickReply}},[e._v("Ответить")]):e._e(),e.canManage&&!e.isMobileScreen?t("div",{staticClass:"ds-comments-message__manage-menu"},[t("CommentsMessageManageMenu",{attrs:{canCreateComplaint:e.canCreateComplaint,isMobileScreen:e.isMobileScreen,visible:e.isManageMenuVisible,editCommentUrl:e.editCommentUrl,adminCommentsUrl:e.moderator.adminCommentsUrl,showModeratorActions:e.showModeratorActions},on:{"change:visible":function(t){e.isManageMenuVisible=t},createComplaint:function(t){return e.onComplain()}}}),t("button",{staticClass:"ds-comments-message__action-button ds-comments-message__action-button_icon",on:{click:function(t){e.isManageMenuVisible=!e.isManageMenuVisible}}},[t("IconEllipsisHorizontal16",{attrs:{size:16}})],1)],1):e._e()])],1)],1)}),[],!1,null,null,null).exports,ks=Object(i.defineComponent)({__name:"CommentSuccessMessage",props:{isMobileScreen:{type:Boolean},isAnswer:{type:Boolean}},emits:["btnClicked"],setup(e,{emit:t}){const s=e,n=Object(i.computed)((()=>s.isAnswer||s.isMobileScreen?"Закрыть":"Написать еще комментарий"));return{__sfc:!0,props:s,emit:t,successBlockBtnText:n,emitBtnClicked:function(){t("btnClicked")},computed:i.computed,DSButton:ne.a}}}),Ls=Object(I.a)(ks,(function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"comment-form__success-block",class:{_mobile:e.isMobileScreen}},[e._m(0),t(s.DSButton,{staticClass:"comment-form__success-block-btn",attrs:{type:"button",variant:"secondary",size:"large","data-test":"add-yet-comment"},on:{click:s.emitBtnClicked}},[e._v(e._s(s.successBlockBtnText))])],1)}),[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("p",{staticClass:"comment-form__success-block-caption"},[e._v("Комментарий добавлен")]),t("p",{staticClass:"comment-form__success-block-text"},[e._v("Комментарий может быть скрыт после проверки модератором")])])}],!1,null,null,null).exports,Bs=s("W/Ps32+TCz"),ws=s("pyk+cvf7mI"),xs=s("Frq5AL4DOT"),Ns=i.default.extend({props:{ban:{required:!0,type:Object},supportEmail:{required:!0,type:String},userId:{required:!1,type:Number}},computed:{unbanDate(){const{duration:e,bannedOn:t}=this.ban,s=new Date(t);return s.setDate(s.getDate()+e),s.toLocaleString("ru-RU",{day:"numeric",month:"long"})}}}),Ms=Object(I.a)(Ns,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ban-notification"},[e._v("Вы не можете оставлять комментарии"),e.ban.duration>0?[e._v("\nдо "+e._s(e.unbanDate))]:e._e(),e._v(". Если не согласны, пишите на —  "),t("a",{staticClass:"ban-notification__link",attrs:{href:"mailto:".concat(e.supportEmail)}},[e._v(e._s(e.supportEmail))]),e._v(", в письме укажите ваш ID: "+e._s(e.userId||e.ban.itemId)+".")],2)}),[],!1,null,"51d780c8",null).exports,Rs=s("1RwQRjjORr"),Ps=s.n(Rs),Ds=s("21zNvOll6A"),js=s.n(Ds),Hs=i.default.extend({components:{IconCheck24:js.a},props:{hasText:{default:!0,type:Boolean},commentsRulesUrl:{type:String,required:!0}}}),Fs=Object(I.a)(Hs,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("a",{staticClass:"comments-rules-btn__wrapper",attrs:{href:e.commentsRulesUrl,target:"_blank"}},[t("IconCheck24",{attrs:{width:24,height:24}}),e.hasText?t("span",{staticClass:"comments-rules-btn__text"},[e._v("Правила публикации комментариев")]):e._e()],1)}),[],!1,null,null,null).exports,Us=i.default.extend({components:{DSButton:ne.a,DSTextarea:Bs.a,DSCheckbox:ws.a,DSInput:xs.a,BanNotification:Ms,CommentsAvatar:bs,IconCheck24:Ps.a,CommentsRulesButton:Fs},directives:{ClickOutside:ts.a},props:{user:{required:!0,type:Object},userBan:{required:!1,default:null,type:Object},supportEmail:{required:!0,type:String},isAnswer:Boolean,isEditForm:Boolean,sendButtonName:{required:!0,type:String},comment:{required:!0,type:String},activeMessage:{required:!0,type:String},enableAuth:{required:!0,type:Boolean},enableEmailAuth:{required:!0,type:Boolean},isLoggedIn:{required:!0,type:Boolean},isAnonymous:{required:!0,type:Boolean},username:{required:!0,type:String},canSendComment:{required:!0,type:Boolean},canWriteOnlyAuthorized:{required:!0,type:Boolean},canWriteComments:{required:!0,type:Boolean},isRoundedButtons:{required:!1,default:!0},isShowSuccessNote:{type:Boolean,default:!1},commentsRulesUrl:{type:String,required:!0}},computed:{userName(){return this.user.nick||String(this.user.id)}},methods:{send(){this.$emit("send")},destroy(e){e.target&&!e.target.classList.contains("ds-comments-message__action-button")&&this.$emit("destroy")},onFocus(){this.$emit("checkBan")},onInput(e){this.$emit("input",e)},onLogin(){this.$emit("login")},onLogout(){this.$emit("logout")},setAnonymous(e){this.$emit("setAnonymous",e)},setUsername(e){this.$emit("setUsername",e)}}}),zs=Object(I.a)(Us,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.destroy,expression:"destroy"}],staticClass:"comments-send-message-form-desktop"},[t("CommentsAvatar",{staticClass:"comments-send-message-form-desktop__avatar",attrs:{size:64,src:e.user.avatar}}),t("form",{staticClass:"comments-send-message-form-desktop__form",on:{submit:function(t){return t.preventDefault(),e.send.apply(null,arguments)}}},[t("div",{staticClass:"comments-send-message-form-desktop__user-info"},[t("strong",{staticClass:"comments-send-message-form-desktop__user-name"},[e._v(e._s(e.userName))]),e.enableAuth?[e.isLoggedIn?t("button",{staticClass:"comments-send-message-form-desktop__auth-button",attrs:{type:"button"},on:{click:e.onLogout}},[e._v("Выйти")]):t("button",{staticClass:"comments-send-message-form-desktop__auth-button",attrs:{type:"button"},on:{click:e.onLogin}},[e.enableEmailAuth?[e._v("Войти или зарегистрироваться")]:[e._v("Войти")]],2)]:e._e()],2),e.isShowSuccessNote?e._t("success"):[t("div",{staticClass:"comments-send-message-form-desktop__message"},[e.userBan?t("BanNotification",{staticClass:"comments-send-message-form-desktop__ban",attrs:{ban:e.userBan,userId:e.user.id,supportEmail:e.supportEmail}}):e._e(),t("DSTextarea",{staticClass:"comments-send-message-form-desktop__textarea",attrs:{name:"comment",value:e.comment,minHeight:88,focusOnStart:e.isAnswer,maxlength:2e4,"data-test":"comment-message"},on:{focus:e.onFocus,input:e.onInput,submit:e.send}})],1),t("div",{staticClass:"comments-send-message-form-desktop__actions"},[t("DSButton",{staticClass:"comments-send-message-form-desktop__send mr-2",attrs:{type:"submit",rounded:e.isRoundedButtons,variant:"primary",size:"small",disabled:!e.canSendComment,"data-test":"send-comment-btn"}},[e._v(e._s(e.sendButtonName))]),e.isLoggedIn?t("DSCheckbox",{staticClass:"comments-send-message-form-desktop__anonimous",attrs:{value:e.isAnonymous},on:{input:e.setAnonymous}},[e._v("Анонимно")]):t("span",{staticClass:"comments-send-message-form-desktop__pick-name"},[e._v("под именем")]),e.isAnonymous||!e.isLoggedIn?t("DSInput",{staticClass:"comments-send-message-form-desktop__nickname ml-1",attrs:{focusOnStart:e.isLoggedIn,size:"small",placeholder:"Гость",value:e.username,maxlength:33,"data-test":"change-name"},on:{input:e.setUsername}}):e._e(),e.commentsRulesUrl?t("CommentsRulesButton",{staticClass:"comments-send-message-form-desktop__comments-rules-btn",attrs:{commentsRulesUrl:e.commentsRulesUrl,hasText:!1}}):e._e()],1)]],2)],1)}),[],!1,null,null,null).exports,Vs=s("D8oGOvrkyq"),Gs=zs.extend({components:{CommentsRulesButton:Fs},props:{title:{required:!0,type:String},isRoundedButtons:{required:!1,default:!0}},computed:{textarea(){return this.$refs.textarea},userName(){return this.user.nick||String(this.user.id)},formHeight(){return this.viewportHeight>0?`${this.viewportHeight}px`:"100%"},formStyle(){return{height:this.formHeight}}},data:()=>({viewportHeight:0}),beforeMount(){window.visualViewport&&(this.setViewportHeight(),window.visualViewport.addEventListener("resize",this.setViewportHeight))},mounted(){Object(Vs.a)(),setTimeout((()=>requestAnimationFrame((()=>{var e;return null===(e=this.textarea)||void 0===e?void 0:e.focus()}))),500)},beforeDestroy(){var e;Object(Vs.b)(),null===(e=window.visualViewport)||void 0===e||e.removeEventListener("resize",this.setViewportHeight)},methods:{setViewportHeight(){var e,t;this.viewportHeight=null!==(t=null===(e=window.visualViewport)||void 0===e?void 0:e.height)&&void 0!==t?t:0}}}),$s=Object(I.a)(Gs,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"comments-send-message-form-mobile"},[t("div",{staticClass:"comments-send-message-form-mobile__inner",style:e.formStyle},[t("div",{staticClass:"comments-send-message-form-mobile__user-wrap"},[t("div",{staticClass:"comments-send-message-form-mobile__user"},[t("CommentsAvatar",{staticClass:"comments-send-message-form-mobile__avatar",attrs:{size:48,src:e.user.avatar}})],1),t("div",{staticClass:"comments-send-message-form-mobile__user-info"},[t("strong",{staticClass:"comments-send-message-form-mobile__user-name"},[t("p",[e._v(e._s(e.userName))]),e.enableAuth?[e.isLoggedIn?t("button",{staticClass:"comments-send-message-form-mobile__auth-button",attrs:{type:"button"},on:{click:e.onLogout}},[e._v("Выйти")]):t("button",{staticClass:"comments-send-message-form-mobile__auth-button",attrs:{type:"button"},on:{click:e.onLogin}},[e.enableEmailAuth?[e._v("Войти или зарегистрироваться")]:[e._v("Войти")]],2)]:e._e()],2)])]),e.isShowSuccessNote?e._t("success"):t("form",{staticClass:"comments-send-message-form-mobile__form",on:{submit:function(t){return t.preventDefault(),e.send.apply(null,arguments)}}},[t("strong",{staticClass:"comments-send-message-form-mobile__title mb-1"},[e._v(e._s(e.title))]),t("div",{staticClass:"comments-send-message-form-mobile__message"},[e.userBan?t("BanNotification",{staticClass:"comments-send-message-form-mobile__ban",attrs:{ban:e.userBan,userId:e.user.id,supportEmail:e.supportEmail}}):e._e(),t("DSTextarea",{ref:"textarea",staticClass:"comments-send-message-form-mobile__textarea",attrs:{name:"comment",value:e.comment,minHeight:88,focusOnStart:e.isAnswer,maxlength:2e4},on:{focus:e.onFocus,input:e.onInput,submit:e.send}})],1),t("div",{staticClass:"comments-send-message-form-mobile__anonimous mt-1"},[e.isLoggedIn?t("DSCheckbox",{staticClass:"comments-send-message-form-mobile__anonimous-check",attrs:{value:e.isAnonymous},on:{input:e.setAnonymous}},[e._v("Анонимно")]):t("span",{staticClass:"comments-send-message-form-mobile__pick-name"},[e._v("под именем")]),e.isAnonymous||!e.isLoggedIn?t("DSInput",{staticClass:"comments-send-message-form-mobile__nickname ml-1",attrs:{focusOnStart:e.isLoggedIn,size:"small",placeholder:"Гость",value:e.username,maxlength:33},on:{input:e.setUsername}}):e._e(),e.commentsRulesUrl?t("CommentsRulesButton",{staticClass:"comments-send-message-form-mobile__comments-rules-btn",attrs:{commentsRulesUrl:e.commentsRulesUrl,hasText:!1}}):e._e()],1),t("div",{staticClass:"comments-send-message-form-mobile__actions mt-4"},[t("DSButton",{staticClass:"comments-send-message-form-mobile__close",attrs:{type:"button",variant:"secondary",size:"large",rounded:e.isRoundedButtons},on:{click:e.destroy}},[e._v("Отменить")]),t("DSButton",{staticClass:"comments-send-message-form-mobile__send",attrs:{type:"submit",variant:"primary",size:"large",rounded:e.isRoundedButtons,disabled:!e.canSendComment}},[e._v(e._s(e.sendButtonName))])],1)])],2)])}),[],!1,null,null,null).exports,Ks=i.default.extend({components:{CommentsSendMessageFormDesktop:zs,CommentsSendMessageFormMobile:$s,CommentsSuccessMessage:Ls},props:{user:{required:!0,type:Object},userBan:{required:!1,default:null,type:Object},supportEmail:{required:!0,type:String},isAnswer:Boolean,isEditForm:Boolean,enableAuth:{required:!0,type:Boolean},enableEmailAuth:{required:!0,type:Boolean},isLoggedIn:{required:!0,type:Boolean},canWriteOnlyAuthorized:{required:!0,type:Boolean},canWriteComments:{required:!0,type:Boolean},isMobileScreen:{required:!0,type:Boolean},answer:{required:!1,type:Object},isRoundedButtons:{required:!1,default:!0},commentsRulesUrl:{type:String}},data:()=>({comment:"",username:"",activeMessage:"",messageTimeoutId:0,isAnonymous:!1}),computed:{sendButtonName:()=>"Отправить",title(){return this.isAnswer?"Ответ на комментарий":"Новый комментарий"},readyComment(){return{parentId:this.answer.parentId,comment:this.comment,username:this.username,isAnonymous:this.isAnonymous}},componentView(){return this.isMobileScreen?"CommentsSendMessageFormMobile":"CommentsSendMessageFormDesktop"},canSendComment(){return!this.userBan&&this.comment.trim().length>0}},watch:{answer(e){this.changeAnswer(e)}},methods:{changeAnswer(e){this.setCommentData(),e&&e.message!==this.activeMessage&&this.setMessage(e.message||"")},setMessage(e){e!==this.activeMessage&&(this.activeMessage=e,clearTimeout(this.messageTimeoutId),e&&(this.messageTimeoutId=window.setTimeout((()=>this.setMessage("")),3e3)))},setCommentData(){this.answer&&(this.comment=this.answer.comment||"",this.username=this.answer.username||"",this.isAnonymous=0===this.user.id)},onTryToSendComment(){this.comment.trim()&&(this.canWriteComments?this.createComment():this.canWriteOnlyAuthorized&&(this.$emit("saveDraft",this.readyComment),this.onLogin()))},changeSuccessNoteState(e){e||!this.isMobileScreen&&!this.isAnswer||this.$emit("close",this.answer.parentId),this.$emit("changeShownSuccessMessageState",{parentId:this.answer.parentId,value:e})},destroy(){(""===this.comment||this.isMobileScreen)&&this.$emit("destroy",this.answer.parentId)},createComment(){this.comment&&""!==this.comment.trim()?(this.changeSuccessNoteState(!0),this.$emit("sendComment",this.readyComment)):this.setMessage(Zt.e.EMPTY)},onInput(e){this.comment=e,this.setMessage("")},onLogin(){this.$emit("login")},onLogout(){this.$emit("logout")},onCheckBan(){this.$emit("checkBan")}},created(){this.setCommentData()},beforeDestroy(){clearTimeout(this.messageTimeoutId)}}),Ws=Object(I.a)(Ks,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t(e.componentView,{tag:"component",attrs:{user:e.user,userBan:e.userBan,supportEmail:e.supportEmail,sendButtonName:e.sendButtonName,comment:e.comment,activeMessage:e.activeMessage,isShowSuccessNote:e.answer.isShowSuccessMessage,enableAuth:e.enableAuth,enableEmailAuth:e.enableEmailAuth,isLoggedIn:e.isLoggedIn,isAnonymous:e.isAnonymous,username:e.username,canSendComment:e.canSendComment,canWriteOnlyAuthorized:e.canWriteOnlyAuthorized,canWriteComments:e.canWriteComments,title:e.title,isAnswer:e.isAnswer,isEditForm:e.isEditForm,isRoundedButtons:e.isRoundedButtons,commentsRulesUrl:e.commentsRulesUrl},on:{send:e.onTryToSendComment,login:e.onLogin,logout:e.onLogout,destroy:e.destroy,input:e.onInput,checkBan:e.onCheckBan,setAnonymous:function(t){e.isAnonymous=t},setUsername:function(t){e.username=t.trim()}}},[t("CommentsSuccessMessage",{attrs:{slot:"success",isAnswer:e.isAnswer,isMobileScreen:e.isMobileScreen},on:{btnClicked:function(t){return e.changeSuccessNoteState(!1)}},slot:"success"})],1)}),[],!1,null,null,null).exports,qs=s("7w33+vS/GM"),Ys=s.n(qs),Xs=s("Dgg1706hxr"),Qs=s("tDTucOS7m5"),Zs=Xs.a.extend({components:{TextField:Xs.a,ContextMenu:is,DSButton:ne.a,IconExpandMore16:Ys.a},props:{value:{type:[String,Number],required:!0},items:{type:Array,required:!0},placeholder:String,isMobileScreen:Boolean},data:()=>({isOpened:!1}),computed:{pickedText(){var e;return(null===(e=this.items.find((e=>e.value===this.value)))||void 0===e?void 0:e.text)||""},menuOffset(){return this.size===Qs.a.LARGE?{offsetTop:40,offsetLeft:-16,offsetRight:-16}:{offsetTop:24,offsetLeft:-8,offsetRight:-8}}},methods:{select(e){this.$emit("input",e),this.isOpened=!1},openMenu(){this.isMobileScreen||(this.isOpened=!0)}}}),Js=Object(I.a)(Zs,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("TextField",{staticClass:"ds-select",class:["ds-select_".concat(e.size)],attrs:{label:e.label,hint:e.hint,error:e.error,size:e.size,readonly:e.readonly,disabled:e.disabled},on:{click:e.openMenu}},[t("div",{staticClass:"ds-select__select"},[t("input",e._b({ref:"input",staticClass:"ds-select__input",attrs:{readonly:"",disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.pickedText}},"input",e.$attrs,!1)),t("IconExpandMore16",{attrs:{slot:"right",size:16},slot:"right"}),e.isMobileScreen?t("select",{staticClass:"ds-select__hidden-select",domProps:{value:e.value},on:{input:function(t){return e.select(t.target.value)}}},e._l(e.items,(function(s){return t("option",{key:s.value,domProps:{value:s.value}},[e._v(e._s(s.text))])})),0):t("ContextMenu",e._b({staticClass:"ds-select__menu",model:{value:e.isOpened,callback:function(t){e.isOpened=t},expression:"isOpened"}},"ContextMenu",e.menuOffset,!1),[t("div",{staticClass:"ds-select__items"},e._l(e.items,(function(s){return t("DSButton",{key:s.value,staticClass:"ds-select__item",attrs:{variant:"link",size:"super-small"},on:{click:function(t){return t.stopPropagation(),e.select(s.value)}}},[e._v(e._s(s.text))])})),1)])],1)])}),[],!1,null,null,null).exports,ei=i.default.extend({props:{items:{required:!0,type:Array},value:{required:!0,type:[String,Number]}},data:()=>({hasError:!1,indicatorLeft:0,indicatorWidth:0}),watch:{value(){this.recalcIndicator()}},computed:{indicatorStyles(){return{transform:`translateX(${this.indicatorLeft}px)`,width:`${this.indicatorWidth}px`}},tabs(){return this.$refs.tabs||null}},methods:{recalcIndicator(){var e;const t=this.items.findIndex((e=>e.value===this.value)),s=null===(e=this.tabs)||void 0===e?void 0:e[t];s?(this.indicatorLeft=s.offsetLeft,this.indicatorWidth=s.offsetWidth):(this.indicatorLeft=0,this.indicatorWidth=0)},changeTab(e){this.$emit("input",e)}},mounted(){this.recalcIndicator()}}),ti=Object(I.a)(ei,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"ds-comments-tabs"},[e._l(e.items,(function(s,i){return t("button",{key:s.value,ref:"tabs",refInFor:!0,staticClass:"ds-comments-tabs__tab",on:{click:function(t){return e.changeTab(s.value)}}},[e._v(e._s(s.text))])})),t("div",{staticClass:"ds-comments-tabs__indicator",style:e.indicatorStyles})],2)}),[],!1,null,null,null).exports,si=i.default.extend({components:{DSSelect:Js,CommentsTabs:ti},props:{sort:{required:!0,type:String},isTopVisible:Boolean,isMobileScreen:Boolean},computed:{sorts(){const e=[];return this.isTopVisible&&e.push({value:Zt.h.BY_POPULAR,text:"Популярные"}),e.push({value:Zt.h.BY_DATE_DESC,text:"Новые"},{value:Zt.h.BY_DATE_ASC,text:"Старые"}),e}},methods:{changeSort(e){this.$emit("change:sort",e)}}}),ii=Object(I.a)(si,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isMobileScreen?t("DSSelect",{staticClass:"ds-comments-sort",attrs:{value:e.sort,items:e.sorts,isMobileScreen:e.isMobileScreen},on:{input:e.changeSort}}):t("CommentsTabs",{staticClass:"ds-comments-sort",attrs:{value:e.sort,items:e.sorts},on:{input:e.changeSort}})}),[],!1,null,null,null).exports,ni=i.default.extend({components:{DSButton:ne.a,CommentsMessage:Es,CommentsSendMessageForm:Ws,CommentsSort:ii,Paginator:Qt.a,LayoutWithAside:ge.a},props:{rootComments:{required:!0,type:Array},comments:{required:!0,type:Array},complainedComments:{required:!0,type:Array},total:{required:!0,type:Number},sort:{required:!0,type:String},pagination:{required:!0,type:Object},isTopVisible:{required:!0,type:Boolean},isMobileScreen:{required:!0,type:Boolean},moderator:{required:!1,type:Object,default:null},moderatorActionsInContextMenu:{required:!0,type:Boolean},isCommentDateVisible:{required:!0,type:Boolean},user:{required:!0,type:Object},userBan:{required:!1,default:null,type:Object},userAnswerFields:{required:!0,type:Array},supportEmail:{required:!0,type:String},enableAuth:{required:!0,type:Boolean},enableEmailAuth:{required:!0,type:Boolean},enableLoginAuth:{required:!0,type:Boolean},isLoggedIn:{required:!0,type:Boolean},isMobileCommentFormShown:{required:!0,type:Boolean},isCommentsExpanded:{required:!0,default:!1,type:Boolean},canWriteOnlyAuthorized:{required:!0,type:Boolean},canWriteComments:{required:!0,type:Boolean},isAnswerFormVisible:{required:!0,type:Boolean},uiConfig:{required:!1,type:Object,default:()=>({roundedButton:!0})},commentsRulesUrl:{type:String,default:""}},data(){return{isCommentsShown:this.isCommentsExpanded}},computed:{commentsListPrepared(){return this.rootComments.reduce(((e,t)=>{const s=this.comments.find((e=>e.id===t.id));return s?(e.push({rootComment:t,...this.mapCommentInfo(s),answers:this.comments.filter((e=>e.rootId===t.id)).map((e=>this.mapCommentInfo(e)))}),e):e}),[])},mainAnswer(){return this.userAnswerFields.find((e=>0===e.parentId))},isMainCommentFormVisible(){return this.isMobileCommentFormShown||!this.isMobileScreen},sendFormOptions(){return{supportEmail:this.supportEmail,user:this.user,userBan:this.userBan,enableAuth:this.enableAuth,isMobileScreen:this.isMobileScreen,enableEmailAuth:this.enableEmailAuth,isLoggedIn:this.isLoggedIn,canWriteOnlyAuthorized:this.canWriteOnlyAuthorized,canWriteComments:this.canWriteComments}},sendFormEvents(){return{login:()=>this.$emit("login"),logout:()=>this.$emit("logout"),saveDraft:e=>this.$emit("saveDraft",e),checkBan:()=>this.$emit("checkBan"),changeShownSuccessMessageState:e=>this.$emit("changeShownSuccessMessageState",e)}},sendFormEventsOnCreate(){return{login:()=>this.$emit("login"),logout:()=>this.$emit("logout"),sendComment:e=>this.$emit("sendComment",e),saveDraft:e=>this.$emit("saveDraft",e),destroy:e=>this.$emit("onSendFormDestroy",e),checkBan:()=>this.$emit("checkBan"),close:e=>this.$emit("closeForm",e),changeShownSuccessMessageState:e=>this.$emit("changeShownSuccessMessageState",e)}},isSecondCommentButtonShown(){return this.isMobileScreen&&this.isAnswerFormVisible&&this.commentsListPrepared.length>4}},methods:{mapCommentInfo(e){return{comment:e,userAnswer:this.userAnswerFields.find((t=>t.parentId===e.id)),isComplained:this.complainedComments.some((t=>t===e.id))}},onPageChange(e){this.$emit("change:page",e),this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_COMMENTS_PAGINATION})},onChangeSort(e){this.$emit("change:sort",e),[Zt.h.BY_DATE_DESC,Zt.h.BY_DATE_ASC].includes(e)?e===Zt.h.BY_DATE_DESC?this.trackSortNewChange():this.trackSortOldChange():this.trackSortTop()},onChangeShowAnswers(e,t){this.$emit("change:showAnswers",{opened:e,commentId:t})},sendRootComment(e){this.$emit("sendComment",e)},toggleMobileCommentForm(){this.$emit("toggle:mobileCommentForm")},eventsHandler(e){this.$emit("eventsHandler",e)},openCommentsList(){this.isCommentsShown=!this.isCommentsShown,this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_COMMENTS_BUTTON})},onPaginationInViewport(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.WATCH_COMMENTS_PAGINATION})},trackSortTop(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_TOPALL})},trackSortNewChange(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_NEW})},trackSortOldChange(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_OLD})},onTrackCommentsTop(){this.isTopVisible&&this.eventsHandler({componentName:Jt.b,eventType:Jt.a.WATCH_COMMENTS_TOP})},onTrackComments(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.WATCH_COMMENTS})},onClickAnswers(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_ANSWER})},onClickAnswersIcon(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_ANSWER_ICON})},onCreateComplain(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.CLICK_COMPLAIN})},onTrackSendform(){this.eventsHandler({componentName:Jt.b,eventType:Jt.a.WATCH_SENDFORM})},onLogin(){this.$emit("login")}},watch:{isCommentsShown(){this.$emit("change:commentsShown",this.isCommentsShown)}},mounted(){this.isMobileScreen&&(this.isCommentsShown=!0),this.$emit("change:commentsShown",this.isCommentsShown)}}),ai=Object(I.a)(ni,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("LayoutWithAside",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onTrackComments,expression:"onTrackComments",modifiers:{once:!0}}],staticClass:"comments-block"},[t("section",{staticClass:"ds-comments",attrs:{name:"comments","data-nosnippet":""}},[t("noindex",[t("div",{staticClass:"ds-comments__title mb-3"},[e._v("Комментарии"),t("meta",{attrs:{itemprop:"commentCount",content:e.total}}),t("span",{staticClass:"ds-comments__counter ml-2",attrs:{itemscope:"",itemprop:"interactionStatistic",itemtype:"https://schema.org/InteractionCounter"}},[t("meta",{attrs:{itemprop:"interactionType",content:"https://schema.org/CommentAction"}}),t("span",{attrs:{itemprop:"userInteractionCount"}},[e._v(e._s(e.total))])])]),e.isCommentsShown?e._e():t("DSButton",{staticClass:"ds-comments__new-comment-button mb-3",attrs:{variant:e.comments.length?"secondary":"primary",size:"large",disabled:e.userBan,rounded:e.uiConfig.roundedButton},on:{click:e.openCommentsList}},[e._v(e._s(e.comments.length?"Читать комментарии":"Написать комментарий"))]),e.isCommentsShown?[e.isMobileScreen&&e.isAnswerFormVisible?t("DSButton",{staticClass:"ds-comments__new-comment-button mb-3",attrs:{variant:"primary",size:"large",disabled:e.userBan,rounded:e.uiConfig.roundedButton},on:{click:e.toggleMobileCommentForm}},[e._v("Написать комментарий")]):e._e(),e.isAnswerFormVisible&&e.isMainCommentFormVisible?t("CommentsSendMessageForm",e._g(e._b({directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onTrackSendform,expression:"onTrackSendform",modifiers:{once:!0}}],staticClass:"ds-comments__user-main-answer mb-3",attrs:{answer:e.mainAnswer,isRoundedButtons:e.uiConfig.roundedButton,commentsRulesUrl:e.commentsRulesUrl},on:{sendComment:e.sendRootComment,destroy:e.toggleMobileCommentForm,close:e.toggleMobileCommentForm}},"CommentsSendMessageForm",e.sendFormOptions,!1),e.sendFormEvents)):e._e(),e.comments.length>0?t("CommentsSort",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onTrackCommentsTop,expression:"onTrackCommentsTop",modifiers:{once:!0}}],staticClass:"ds-comments__sort mb-3",attrs:{sort:e.sort,isTopVisible:e.isTopVisible,isMobileScreen:e.isMobileScreen},on:{"change:sort":e.onChangeSort}}):e._e(),t("ul",{staticClass:"ds-comments__messages"},e._l(e.commentsListPrepared,(function(s,i){return t("li",{key:s.comment.id,staticClass:"ds-comments__list-item"},[t("CommentsMessage",{staticClass:"ds-comments__message",attrs:{comment:s.comment,moderatorActionsInContextMenu:e.moderatorActionsInContextMenu,isDateVisible:e.isCommentDateVisible,isComplained:s.isComplained,isMobileScreen:e.isMobileScreen,isLoggedIn:e.isLoggedIn,canValidateComments:e.user.acl.canValidateComments,canWriteAnswer:e.isAnswerFormVisible,moderator:e.moderator},on:{"change:showAnswers":function(t){return e.onChangeShowAnswers(!s.rootComment.opened,s.comment.id)},"change:showAnswersSendReachGoal":e.onClickAnswersIcon,login:e.onLogin,"click:createComplaint":e.onCreateComplain,"click:replyButtonClicked":e.onClickAnswers}}),e.isAnswerFormVisible&&s.userAnswer?t("CommentsSendMessageForm",e._g(e._b({directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onTrackSendform,expression:"onTrackSendform",modifiers:{once:!0}}],staticClass:"ds-comments__user-answer",attrs:{isAnswer:"",isRoundedButtons:e.uiConfig.roundedButton,commentsRulesUrl:e.commentsRulesUrl,answer:s.userAnswer}},"CommentsSendMessageForm",e.sendFormOptions,!1),e.sendFormEventsOnCreate)):e._e(),s.answers.length>0?t("ul",{directives:[{name:"show",rawName:"v-show",value:s.rootComment.opened,expression:"item.rootComment.opened"}],staticClass:"ds-comments__answers"},e._l(s.answers,(function(s){return t("li",{key:s.comment.id,staticClass:"ds-comments__answers__list-item"},[t("CommentsMessage",{staticClass:"ds-comments__message ds-comments__message_answer",attrs:{comment:s.comment,moderatorActionsInContextMenu:e.moderatorActionsInContextMenu,canValidateComments:e.user.acl.canValidateComments,isDateVisible:e.isCommentDateVisible,isComplained:s.isComplained,canWriteAnswer:e.isAnswerFormVisible,isMobileScreen:e.isMobileScreen,isLoggedIn:e.isLoggedIn,moderator:e.moderator},on:{login:e.onLogin,"click:createComplaint":e.onCreateComplain,"click:replyButtonClicked":e.onClickAnswers}}),e.isAnswerFormVisible&&s.userAnswer?t("CommentsSendMessageForm",e._g(e._b({directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onTrackSendform,expression:"onTrackSendform",modifiers:{once:!0}}],staticClass:"ds-comments__user-answer ds-comments__user-answer_new",attrs:{isAnswer:"",isRoundedButtons:e.uiConfig.roundedButton,commentsRulesUrl:e.commentsRulesUrl,answer:s.userAnswer}},"CommentsSendMessageForm",e.sendFormOptions,!1),e.sendFormEventsOnCreate)):e._e()],1)})),0):e._e(),e.commentsListPrepared.length>5&&3===i?e._t("after-4th-comment"):e._e()],2)})),0),e.pagination.total>e.pagination.pageSize?t("Paginator",e._b({directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onPaginationInViewport,expression:"onPaginationInViewport",modifiers:{once:!0}}],staticClass:"ds-comments__paginator mt-3",attrs:{rounded:e.uiConfig.roundedButton,variant:"small",isMobileScreen:e.isMobileScreen},on:{"change:page":e.onPageChange}},"Paginator",e.pagination,!1)):e._e(),e.isSecondCommentButtonShown?t("DSButton",{staticClass:"ds-comments__new-comment-button mt-3",attrs:{variant:"primary",rounded:e.uiConfig.roundedButton,size:"large",disabled:e.userBan},on:{click:e.toggleMobileCommentForm}},[e._v("Написать комментарий")]):e._e()]:e._e()],2)],1),t("div",{staticClass:"aside comments-aside",attrs:{slot:"aside"},slot:"aside"},[e._t("aside")],2)])}),[],!1,null,null,null).exports,oi=s("tutJgxUXzl"),ri=s("/BgZs4hv8r"),li=Object(i.defineComponent)({components:{Comments:ai,NoSSR:l.a},props:{commentsNestedPath:{required:!0,type:String},article:{required:!0,type:Object},isMobileScreen:{required:!0,type:Boolean},isCommentsExpanded:{required:!1,default:!1,type:Boolean}},data:()=>({isMobileCommentFormShown:!1,commentSize:{width:NaN,height:NaN},isCommentsShown:!1}),setup:()=>({authUserStore:Object(L.a)()}),computed:{user(){return this.authUserStore.userEntity},uiConfig(){var e;return null===(e=this.project.uiConfig)||void 0===e?void 0:e.articleComments},project(){return Object(Ee.c)({rootGetters:this.$store.getters})},page(){return Object(ri.f)({rootGetters:this.$store.getters})},isCommentDateVisible(){return!this.article.attributes.includes(ue.c.HIDE_COMMENTS_PUBLICATION_DATE)},comments(){return this.$store.getters[`${this.commentsNestedPath}/comments`]},rootComments(){return this.$store.getters[`${this.commentsNestedPath}/rootComments`]},userAnswerFields(){return this.$store.getters[`${this.commentsNestedPath}/userAnswerFields`]},complainedComments(){return this.$store.getters[`${this.commentsNestedPath}/complainedComments`]},pagination(){return this.$store.getters[`${this.commentsNestedPath}/pagination`]},sort(){return this.$store.getters[`${this.commentsNestedPath}/sort`]},totalComments(){const e=this.$store.getters[`${this.commentsNestedPath}/totalComments`];return e>this.article.commentsTotal?e:this.article.commentsTotal},isArticleCommentsShown(){return!(!this.totalComments&&this.accessControl.canCommentsWrite===ue.b.NONE)},isTopHidden(){return this.$store.getters[`${this.commentsNestedPath}/isTopHidden`]},userBan(){return this.$store.getters[`${this.commentsNestedPath}/${oi.c.USER_BAN}`]},entityId(){return this.$store.getters[`${this.commentsNestedPath}/${oi.c.ENTITY_ID}`]},canWriteOnlyAuthorized(){return this.accessControl.canCommentsWrite===ue.b.ONLY_AUTHORIZED},accessControl(){return this.article.accessControl},canWriteComments(){return this.accessControl.canCommentsWrite===ue.b.ONLY_AUTHORIZED?!this.user.isGuest:this.accessControl.canCommentsWrite===ue.b.ALL},isAnswerFormVisible(){return this.accessControl.canCommentsWrite!==ue.b.NONE},moderator(){return{adminUrl:this.project.adminUrl,adminCommentsUrl:Object(Xt.c)(this.project.adminUrl,this.entityId)}}},methods:{getRootComments:e=>e.filter((e=>e.isRoot)),answerComments:e=>e.filter((e=>!e.isRoot)),commentsStoreActions(e,t){return this.$store.dispatch(`${this.commentsNestedPath}/${e}`,t)},fetchComments(){this.commentsStoreActions("fetchComments")},toggleVisibleAnswers(e){this.commentsStoreActions("toggleVisibleAnswers",e)},createComment(e){this.commentsStoreActions("createComment",e)},changeShownSuccessMessageState({parentId:e,value:t}){0===e&&t||this.commentsStoreActions("changeShownSuccessMessageState",{parentId:e,value:t})},saveDraft(e){this.commentsStoreActions(oi.a.SAVE_DRAFT,e)},clearDraft(){this.commentsStoreActions(oi.a.CLEAR_DRAFT)},sendDraft(){this.commentsStoreActions(oi.a.SEND_DRAFT)},setSort(e){this.commentsStoreActions("setSort",e)},destroyAnswerFiled(e){this.commentsStoreActions("destroyAnswerFiled",e)},async checkBan(){await this.commentsStoreActions(oi.a.CHECK_BAN)},async onPageChange(e){var t;await this.commentsStoreActions("setPage",e),this.$emit("pageChanged",{page:e}),null===(t=this.$refs.wrapper)||void 0===t||t.$el.scrollIntoView({block:"start"})},toggleMobileCommentForm(){"xs"===this.page.screenSize&&(this.isMobileCommentFormShown=!this.isMobileCommentFormShown),"xs"===this.page.screenSize&&this.isMobileCommentFormShown&&this.checkBan()},login(){this.authUserStore.setAuthModalOpened({opened:!0})},logout(){this.authUserStore.logout()},onCommentsShownChange(e){this.isCommentsShown=e},getCommentSizes(){this.commentResizeObserver=new ResizeObserver((e=>{e[0]&&(this.commentSize.width=e[0].contentRect.width,this.commentSize.height=e[0].contentRect.height)}));try{this.commentResizeObserver.observe(this.$el)}catch(e){console.warn(e)}},eventsHandler(e){this.$emit("eventsHandler",e)}},watch:{user(e,t){e.isGuest!==t.isGuest&&this.fetchComments(),e.isGuest===t.isGuest||e.isGuest||this.sendDraft()},comments(){this.$emit("update"),this.getCommentSizes()}},mounted(){this.getCommentSizes()}}),ci=Object(I.a)(li,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isArticleCommentsShown?t("NoSSR",[t("div",{staticClass:"article-comments"},[t("Comments",{ref:"wrapper",staticClass:"article-comments__wrapper",attrs:{rootComments:e.rootComments,comments:e.comments,complainedComments:e.complainedComments,user:e.user,userBan:e.userBan,userAnswerFields:e.userAnswerFields,isLoggedIn:e.user.isLoggedIn,isMobileScreen:e.isMobileScreen,isCommentDateVisible:e.isCommentDateVisible,isTopVisible:!e.isTopHidden,moderator:e.moderator,pagination:e.pagination,sort:e.sort,total:e.totalComments,enableAuth:e.project.enableAuth,enableEmailAuth:e.project.enableEmailAuth,enableLoginAuth:e.project.enableLoginAuth,supportEmail:e.project.supportEmail,moderatorActionsInContextMenu:e.project.moderatorActionsInContextMenu,uiConfig:e.uiConfig,isMobileCommentFormShown:e.isMobileCommentFormShown,canWriteOnlyAuthorized:e.canWriteOnlyAuthorized,canWriteComments:e.canWriteComments,isAnswerFormVisible:e.isAnswerFormVisible,isCommentsExpanded:e.isCommentsExpanded,commentsRulesUrl:e.project.commentsRulesUrl},on:{"change:sort":e.setSort,"change:showAnswers":e.toggleVisibleAnswers,"change:page":e.onPageChange,"change:commentsShown":e.onCommentsShownChange,"toggle:mobileCommentForm":e.toggleMobileCommentForm,login:e.login,logout:e.logout,onSendFormDestroy:e.destroyAnswerFiled,sendComment:e.createComment,saveDraft:e.saveDraft,closeForm:e.destroyAnswerFiled,destroy:e.destroyAnswerFiled,checkBan:e.checkBan,eventsHandler:e.eventsHandler,changeShownSuccessMessageState:e.changeShownSuccessMessageState}},[e._t("aside",null,{slot:"aside",commentSize:e.commentSize,isCommentsShown:e.isCommentsShown}),e._t("after-4th-comment",null,{slot:"after-4th-comment"})],2)],1)]):e._e()}),[],!1,null,null,null).exports,di=s("zmUjzX7uY9");const ui=[ue.f.IMAGE,`${ue.f.IMAGE}_FIRST`,ue.f.SIDE_BY_SIDE,ue.f.SLIDER,ue.f.BEFORE_AND_AFTER,`${ue.f.SLIDER} ${he.b.BOOK}`,`${ue.f.SLIDER} ${he.b.TILES_DISCLOSED}`],mi=[ue.f.PERSON];var hi,pi,_i=be.extend({components:{NoSSR:l.a,Article:qt,LayoutWithAside:ge.a,CustomMountLocation:Se,CreativeContainer:A.a,StickyBlock:Yt.a,YandexVideoPlayer:xe,InImageCreativesManager:Fe,InImageButton:Me,DSArticleComments:ci},props:{showComments:{required:!0,type:Boolean},commentsNestedPath:{required:!0,type:String},quizSharedResultParams:{required:!0,type:Object}},data:()=>({rootTopMarginDesktop:500,navbarHeight:56,dontAddBannerBeforeBlockTypesMobile:[`${ue.f.IMAGE}_FIRST`],dontAddBannerAfterBlockTypesMobile:[...ui,...mi],dontAddBannerAfterBlockTypes:mi,articleCommentsLink:"#comments"}),computed:{HBOffset(){return Math.max(.8*window.innerHeight,this.maxVbHeight)},hbPriorityArray(){const e=[];for(let t=0;t<=this.contentBlocks.length;t+=1)this.isMobile?e.push(1):e.push(2+Math.floor(t/3));return this.wasBeforeActive?e.reverse():e},sliderBannersConfig(){const e=this.ads.isTotalExclusiveBranding||this.ads.isExclusiveBranding&&this.isFirstArticle,t=this.article.advDisabled||!this.isMobile&&e;return{album:{vbGalAfterEachNthSlide:t?null:4},fullscreen:{vbGal:t?null:{addAfterNthSlide:4,refreshEachNthSlide:1,minRefreshTimeout:2e3}},book:{}}},commentsHbInline(){return this.isAdvDisabled||this.isAdblockPlusEnabled||!Object(di.a)().isAbAdvComments?null:{slotName:me.a.AdUnit.HB_COM,displayed:!1,refreshInterval:this.isMobile?this.refreshInterval:null}}},methods:{getFeedbackForm(e){return Object(Ae.d)(Object(fe.a)(this.$store),Object(ve.a)(this.article.articleNestedPath,e))},async submitFeedbackForm(e){await Object(Ae.c)({dispatch:this.$store.dispatch},{subjectId:e.subjectId,path:Object(ve.a)(this.article.articleNestedPath,e.storePath),articleId:this.article.id})},getFirstHBPositionDesktop(){return this.articleBlock.$el.getBoundingClientRect().top+window.innerHeight+this.rootTopMarginDesktop},validateContentBlocks(){return this.contentBlocks},updateAsideBannersList(e){if(this.isMobile||0===e.length)return this.asideBannersList;if(!this.hasPlaceForVb2)return this.asideBannersList.length?[this.asideBannersList[0]]:[];const t=e[0],s=e.reduce(((t,s,i)=>(t.push({slotName:me.a.AdUnit.VB_2,top:s.mountTo,bottom:e[i+1]?e[i+1].mountTo:null,displayed:!1}),t)),[...this.asideBannersList]),i=this.$refs.asideWidget;return s[0].bottom=i||t.mountTo,s[1].top=i||t.mountTo,s},onArticleSizeChange(){const e=this.$refs.asideWidget;if(!e)return;const t=this.articleSize.height>=e.offsetHeight+2*this.maxVbHeight;this.hasPlaceForVb2!==t&&(this.hasPlaceForVb2=t,this.asideBannersList=this.updateAsideBannersList(this.contentBlocks))},getLastHBPosition:e=>e.getBoundingClientRect().bottom,onAsideWidgetSizeChange(){var e,t;null===(t=null===(e=this.$refs.asideStickyBanners)||void 0===e?void 0:e[0])||void 0===t||t.recalculateOffsets()},eventsHandler(e){this.$emit("eventsHandler",e)},scrollToCommentsBlock(){var e;if(!this.showComments)return;const t=null===(e=this.$refs.commentsBlock)||void 0===e?void 0:e.$el;if(null!=t){const e=this.navbarHeight+16,s=t.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:s,behavior:"smooth"})}}},async mounted(){"#comments"!==this.$route.hash||this.$root._isMounted||(await Object(Z.a)(window,5e3),this.scrollToCommentsBlock())}}),Ci=Object(I.a)(_i,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"articles-wrapper"},[t("LayoutWithAside",{attrs:{hasAsideMinHeight:""},scopedSlots:e._u([{key:"aside",fn:function(){return[!e.isMobile&&e.isFirstArticle?[t("CreativeContainer",{staticClass:"mobile-fluid py-3",attrs:{adunit:e.ads.adUnitNames.VB_1,ssr:!e.ads.isAdblockEnabled||e.ads.isNoAdvTargeting,hasNoAdvTargeting:e.isAdvDisabled}}),t("div",{ref:"asideWidget",staticClass:"aside-widget"},[e._t("aside-widget")],2)]:e._e(),t("NoSSR",[e._l(e.asideBannersList,(function(s,i){return[e.isMobile||e.isFirstArticle&&0===i?e._e():t("StickyBlock",{key:i,ref:"asideStickyBanners",refInFor:!0,staticClass:"py-3",attrs:{topBorder:s.top,bottomBorder:s.bottom,navbarHeight:e.navbarHeight,minHeight:e.maxVbHeight,contentSize:e.articleSize}},[t("CreativeContainer",{attrs:{adunit:s.slotName,lazy:i>=2,priority:e.vbPriorityArray[i],replaceWhenExclusive:e.isFirstArticle,removable:!e.isMobile,hasNoAdvTargeting:e.isAdvDisabled}})],1)]}))],2)]},proxy:!0}],null,!0)},[t("Article",{ref:"article",staticClass:"mt-4 mb-4",attrs:{article:e.article,articleCommentsLink:e.articleCommentsLink,hostname:e.hostname,schemaImage:e.page.schemaOrgImage,isMobile:e.isMobile,maxImageWidth:e.imageBlockMaxSize[0],maxImageHeight:e.imageBlockMaxSize[1],project:e.project,getFeedbackForm:e.getFeedbackForm,selectedPollsVariantsIds:e.selectedPollsVariantsIds,schemeAuthority:e.schemeAuthority,bannersConfig:e.sliderBannersConfig,articleIndex:e.articleIndex,quizSharedResultParams:e.quizSharedResultParams},on:{submitFeedbackForm:e.submitFeedbackForm,eventsHandler:e.eventsHandler,commentsBtnClicked:e.scrollToCommentsBlock},scopedSlots:e._u([{key:"block.image.afterImage",fn:function(s){return[t("InImageCreativesManager",{attrs:{ads:e.ads,block:s.block,imageIndex:s.blockTypeIndex,projectKey:e.project.projectKey,getImage:s.getImageRef,isMobile:e.isMobile,isVoxFirstImage:!0}})]}},{key:"block.sideBySide.afterImage",fn:function(){return[t("InImageButton",{attrs:{hasNoAdvTargeting:e.isAdvDisabled}})]},proxy:!0},{key:"block.slider.afterImage",fn:function(s){return[e.ads.checkCanPlaceAdButtonOnSlide(s)?t("InImageButton",{attrs:{hasNoAdvTargeting:e.isAdvDisabled}}):e._e()]}},{key:"block.slider.advSlide",fn:function(s){return[s.activeIndex===s.slideIndex?t("CreativeContainer",{attrs:{adunit:e.ads.adUnitNames.VB_GAL,hasNoAdvTargeting:e.isAdvDisabled}}):e._e()]}},{key:"fullscreenGallery.advSlide",fn:function(s){return[s.activeIndex===s.slideIndex?t("CreativeContainer",{attrs:{adunit:e.ads.adUnitNames.VB_GAL,hasNoAdvTargeting:e.isAdvDisabled}}):e._e()]}},{key:"fullscreenGallery.afterImage",fn:function(s){return[e.ads.checkCanPlaceAdButtonOnSlide(s)?t("InImageButton",{attrs:{hasNoAdvTargeting:e.isAdvDisabled}}):e._e()]}},{key:"fullscreenGallery.aside",fn:function(){return[t("CreativeContainer",{attrs:{adunit:e.ads.adUnitNames.VB_GAL,hasNoAdvTargeting:e.isAdvDisabled}})]},proxy:!0},{key:"blockPromo",fn:function(){return[t("CreativeContainer",{staticClass:"mt-4",attrs:{adunit:e.ads.adUnitNames.HB_PROMO}})]},proxy:!0},{key:"block.slider.afterContent",fn:function(s){return[s.allowCreative?t("CreativeContainer",{attrs:{adunit:e.ads.adUnitNames.INLINE,hasNoAdvTargeting:e.isAdvDisabled}}):e._e()]}}])}),e.showComments?t("DSArticleComments",{ref:"commentsBlock",attrs:{article:e.article,commentsNestedPath:e.commentsNestedPath,isMobileScreen:e.isMobile},on:{eventsHandler:e.eventsHandler}},[t("template",{slot:"after-4th-comment"},[e.commentsHbInline?t("CreativeContainer",{staticClass:"articles-wrapper__creative-v2 mobile-fluid",attrs:{lazy:"",removable:"",adunit:e.commentsHbInline.slotName,priority:e.hbPriorityArray[e.contentBlocks.length],hasNoAdvTargeting:e.isAdvDisabled},on:{displayed:function(t){return e.onArticleBannerDisplayed(e.commentsHbInline,t)},refreshFinished:function(t){return e.onArticleBannerDisplayed(e.commentsHbInline,t)},failed:function(t){return e.onArticleBannerFailed(e.commentsHbInline)}}}):e._e()],1)],2):e._e(),t("NoSSR",[e._t("afterArticle",null,{articleIndex:e.articleIndex,isMobile:e.isMobile})],2),e._l(e.contentBlocks,(function(s,i){return[t("NoSSR",[t("CustomMountLocation",{attrs:{mountTo:s.mountTo}},[s.slotName===e.ads.adUnitNames.INREAD?t("CreativeContainer",{key:s.index,staticClass:"mobile-fluid my-3",attrs:{lazy:"",removable:!e.isMobile,adunit:s.slotName,replaceWhenExclusive:e.isFirstArticle,priority:e.hbPriorityArray[i],forceShow:e.isActive,topMarginToIntersect:500,bottomMarginToIntersect:500,hasNoAdvTargeting:e.isAdvDisabled},on:{displayed:function(t){return e.onArticleBannerDisplayed(s,t)},refreshFinished:function(t){return e.onArticleBannerDisplayed(s,t)},failed:function(t){return e.onArticleBannerFailed(s)},"~fullIntersectionWithViewport":function(t){return e.$emit("inreadIntersectsViewport")}}}):s.slotName===e.ads.adUnitNames.YANDEX_VIDEO_PLAYER?t("YandexVideoPlayer",{key:s.index,staticClass:"my-3",attrs:{isMobile:e.isMobile,partnerStatId:"102"}}):t("CreativeContainer",{key:s.index,staticClass:"mobile-fluid my-3",attrs:{lazy:"",removable:!e.isMobile,adunit:s.slotName,replaceWhenExclusive:e.isFirstArticle,priority:s.slotName===e.ads.adUnitNames.VB_1?1:e.hbPriorityArray[i],forceShow:e.isMobile||e.isActive&&1===i,hasNoAdvTargeting:e.isAdvDisabled},on:{displayed:function(t){return e.onArticleBannerDisplayed(s,t)},refreshFinished:function(t){return e.onArticleBannerDisplayed(s,t)},failed:function(t){return e.onArticleBannerFailed(s)}}})],1)],1)]}))],2)],1)}),[],!1,null,null,null).exports,bi=s("PeHDCg+tKS"),gi=s("x+4gKO0p0Z"),vi=s("9T1CSi8sa8"),fi=s("pZpmrM3r3J"),Ai=s("Z5Ii7IxhXu"),yi=s("QThhC+MF5T"),Si=s("qLnWNeVl7e");!function(e){e.IMAGE="IMAGE",e.BLOCK_TEXT_LINK_ARTICLE="BLOCK_TEXT_LINK_ARTICLE",e.THEMES="THEMES",e.SIDE_BY_SIDE="SIDE_BY_SIDE",e.BLOCK_LINK_ARTICLE="BLOCK_LINK_ARTICLE",e.COMMENTS="COMMENTS",e.ICON_TOP="ICON_TOP",e.COMMENTS_NEW="COMMENTS_NEW",e.COMMENTS_OLD="COMMENTS_OLD",e.COMMENTS_TOP="COMMENTS_TOP",e.COMMENTS_PAGINATION="COMMENTS_PAGINATION",e.READ_COMMENTS="READ_COMMENTS",e.WIDGET_TOP="WIDGET_TOP",e.SLIDE_CLOSE_AD="SLIDE_CLOSE_AD",e.LASTSLIDE="LASTSLIDE",e.LASTPHOTO="LASTPHOTO",e.ANY_GALLERY_ARTICLE="ANY_GALLERY_ARTICLE",e.ANY_GALLERY_VIEWPORT="ANY_GALLERY_VIEWPORT",e.ANY_GALLERY_LASTPHOTO="ANY_GALLERY_LASTPHOTO",e.LASTSLIDE_RELATED="LASTSLIDE_RELATED",e.LASTSLIDE_GOBACK="LASTSLIDE_GOBACK",e.LASTSLIDE_RESTART="LASTSLIDE_RESTART",e.LASTSLIDE_COMMENTS="LASTSLIDE_COMMENTS",e.BLOCK_FEED="BLOCK_FEED",e.VIEWPORT="VIEWPORT",e.GALLERY="GALLERY",e.VIEWPORT_GALLERY="VIEWPORT_GALLERY",e.ARTICLE="ARTICLE",e.MAIL_SUCCESS="MAIL_SUCCESS",e.REGISTRATION="REGISTRATION",e.RECOMMEND="RECOMMEND",e.INLINE="INLINE",e.GALLERY_FS="GALLERY_FS",e.BOOK_SLIDER="BOOK_SLIDER",e.DESCRIPTION="DESCRIPTION",e.BLOCK_POLL="BLOCK_POLL",e.BLOCK_POLL_VIEWPORT="BLOCK_POLL_VIEWPORT",e.BLOCK_POLL_MULTISELECT="BLOCK_POLL_MULTISELECT",e.BLOCK_POLL_MULTISELECT_VIEWPORT="BLOCK_POLL_MULTISELECT_VIEWPORT",e.QUIZ_PAGE="QUIZ_PAGE",e.QUIZ_FIRST_QUESTION="QUIZ_FIRST_QUESTION",e.QUIZ_LAST_QUESTION="QUIZ_LAST_QUESTION",e.QUIZ_RESULT="QUIZ_RESULT",e.QUIZ_SHARE_BUTTON="QUIZ_SHARE_BUTTON",e.QUIZ_RESTART="QUIZ_RESTART",e.BEFORE_AFTER="BEFORE_AFTER",e.BLOCK_FLIP="BLOCK_FLIP",e.BLOCK_FLIP_VIEWPORT="BLOCK_FLIP_VIEWPORT",e.BLOCK_PRODUCT="BLOCK_PRODUCT",e.PRODUCT="PRODUCT",e.PRODUCT_TITLE="PRODUCT_TITLE",e.PRODUCT_IMAGE="PRODUCT_IMAGE",e.PRODUCT_URL_TITLE="PRODUCT_URL_TITLE",e.PRODUCT_PRICE_BUTTON="PRODUCT_PRICE_BUTTON",e.BLOCK_PRODUCT_SET="BLOCK_PRODUCT_SET",e.BLOCK_PRODUCT_SET_LAST="BLOCK_PRODUCT_SET_LAST",e.BLOCK_PRODUCT_SET_IMAGE="BLOCK_PRODUCT_SET_IMAGE",e.BLOCK_PRODUCT_SET_BUTTON="BLOCK_PRODUCT_SET_BUTTON",e.BLOCK_PRODUCT_SET_TITLE="BLOCK_PRODUCT_SET_TITLE",e.READ_ALSO="READ_ALSO",e.TAGS="TAGS",e.COLLECTING_ENTITIES="COLLECTING_ENTITIES",e.AUTHOR_WITH_PAGE="AUTHOR_WITH_PAGE",e.EXPERT_CARD_LINK="EXPERT_CARD_LINK",e.EXPERT_CARD_PAGE="EXPERT_CARD_PAGE",e.ANSWER_COMMENT_BUTTON="ANSWER",e.ANSWER_COMMENT_ICON="ANSWERS_ICON",e.COMPLAIN_BUTTON="COMPLAIN",e.SENDFORM="SENDFORM"}(hi||(hi={})),function(e){e.ALBUM="ALBUM",e.GALLERY_FS="GALLERY_FS",e.SLIDER_TEXT="SLIDER_TEXT",e.GALLERY_LENTA="GALLERY_LENTA"}(pi||(pi={}));const Ti={[he.b.ALBUM]:pi.ALBUM,[he.b.TILES]:pi.GALLERY_FS,[he.b.BOOK]:pi.SLIDER_TEXT,[he.b.TILES_DISCLOSED]:pi.GALLERY_LENTA};function Oi({eventType:e,payload:t}){const{theme:s}=t;if(s!==he.b.ALBUM)switch(e){case jt.a.WATCH:!function({theme:e}){e===he.b.TILES&&Object(Si.h)(hi.VIEWPORT_GALLERY);Object(Si.h)(hi.ANY_GALLERY_VIEWPORT),Object(Si.h)(`${Ti[e]}_${hi.VIEWPORT}`)}(t);break;case jt.a.WATCH_LAST_SLIDE:!function({theme:e}){Object(Si.h)(hi.LASTPHOTO),Object(Si.h)(hi.ANY_GALLERY_LASTPHOTO),Object(Si.h)(`${Ti[e]}_${hi.LASTPHOTO}`)}(t);break;case jt.a.CLICK_CHANGE_SLIDE:Object(Si.h)(hi.GALLERY),function({index:e,theme:t}){switch(t){case he.b.TILES:Object(Si.h)(`${hi.GALLERY_FS}_${e+1}th_PHOTO`);break;case he.b.TILES_DISCLOSED:case he.b.BOOK:Object(Si.h)(`${hi.BOOK_SLIDER}_${e+1}th_PHOTO`)}}(t);break;case jt.a.CLICK_OPEN:Object(Si.d)(hi.GALLERY);break;case jt.a.EXIST:Object(Si.h)(`${Ti[s]}_${hi.ARTICLE}`),Object(Si.h)(hi.ANY_GALLERY_ARTICLE)}}function Ii({eventType:e,payload:t}){var s,i;const n=null===(s=t)||void 0===s?void 0:s.theme,a=null===(i=t)||void 0===i?void 0:i.index;switch(e){case Ht.a.WATCH:Object(Si.h)(hi.GALLERY);break;case Ht.a.WATCH_LAST_SLIDE:if(!n)break;!function(e){switch(Object(Si.h)(hi.LASTPHOTO),Object(Si.h)(hi.ANY_GALLERY_LASTPHOTO),e){case he.b.TILES:Object(Si.h)(`${pi.GALLERY_FS}_${hi.LASTPHOTO}`);break;case he.b.TILES_DISCLOSED:Object(Si.h)(`${pi.GALLERY_LENTA}_${hi.LASTPHOTO}`)}}(n);break;case Ht.a.CLICK_CHANGE_SLIDE:if("number"!=typeof a||!n)break;!function(e,t){if(!t)return;Object(Si.h)(`${hi.GALLERY_FS}_${e+1}th_PHOTO`)}(a,n);break;case Ht.a.EXIST_SCROLL:if(!n)break;Object(Si.h)(`${pi.GALLERY_FS}_${hi.DESCRIPTION}`);break;case Ht.a.UPDATE_SCROLL:if(!n)break;Object(Si.f)(`${pi.GALLERY_FS}_${hi.DESCRIPTION}`);break;case Ht.a.CLICK_CLOSE_ON_ADV:if("number"!=typeof a)break;!function(e){Object(Si.d)(`${hi.SLIDE_CLOSE_AD}_${e}`)}(a);break;case Ht.a.CLICK_COMMENTS:Object(Si.d)(hi.LASTSLIDE_COMMENTS);break;case Ht.a.CLICK_RELATED_ARTICLE:Object(Si.d)(hi.LASTSLIDE_RELATED);break;case Ht.a.WATCH_RELATED_ARTICLES_SLIDE:Object(Si.h)(hi.LASTSLIDE);break;case Ht.a.CLICK_GO_BACK:Object(Si.d)(hi.LASTSLIDE_GOBACK);break;case Ht.a.CLICK_RESTART:Object(Si.d)(hi.LASTSLIDE_RESTART)}}var Ei=function(e){switch(e.componentName){case yi.b.Article:!function({eventType:e,payload:t}){switch(e){case $t.a.UPDATE_SCROLL:const e=25,{articleIndex:s,indicatorNumber:i}=t;Object(Si.f)("ARTICLE_"+i*e),Object(Si.f)(`ARTICLE${s+1}_${i*e}`)}}(e);break;case yi.b.ArticleBlockImage:!function({eventType:e}){switch(e){case gi.a.WATCH:Object(Si.h)(hi.IMAGE);break;case gi.a.CLICK:Object(Si.d)(hi.IMAGE)}}(e);break;case yi.b.ArticleBlockText:!function({eventType:e}){switch(e){case bi.a.WATCH_LINK:Object(Si.h)(hi.BLOCK_TEXT_LINK_ARTICLE);break;case bi.a.CLICK_LINK:Object(Si.d)(hi.BLOCK_TEXT_LINK_ARTICLE)}}(e);break;case yi.b.ArticleBlockSideBySide:!function({eventType:e}){switch(e){case vi.a.WATCH:Object(Si.h)(hi.SIDE_BY_SIDE);break;case vi.a.CLICK_IMAGE:Object(Si.d)(hi.SIDE_BY_SIDE);break;case vi.a.WATCH_LINK:Object(Si.h)(hi.BLOCK_TEXT_LINK_ARTICLE);break;case vi.a.CLICK_LINK:Object(Si.d)(hi.BLOCK_TEXT_LINK_ARTICLE)}}(e);break;case yi.b.ArticleBlockLinks:!function({eventType:e}){switch(e){case fi.a.WATCH:Object(Si.h)(hi.BLOCK_LINK_ARTICLE);break;case fi.a.CLICK:Object(Si.d)(hi.BLOCK_LINK_ARTICLE)}}(e);break;case yi.b.ArticleBlockPoll:!function({eventType:e,payload:t}){if(!t)throw new Error("В eventHandler не передан payload");if(e===mt.a.EXIST){const{isMultiSelect:e}=t,s=e?hi.BLOCK_POLL_MULTISELECT:hi.BLOCK_POLL;Object(Si.h)(s)}else if(e===mt.a.WATCH){const{isMultiSelect:e}=t,s=e?hi.BLOCK_POLL_MULTISELECT_VIEWPORT:hi.BLOCK_POLL_VIEWPORT;Object(Si.h)(s)}else if(e===mt.a.CLICK_VOTE){const{isMultiSelect:e}=t,s=e?hi.BLOCK_POLL_MULTISELECT:hi.BLOCK_POLL;Object(Si.d)(s)}}(e);break;case yi.b.ArticleBlockQuiz:!function({eventType:e}){switch(e){case ht.a.WATCH:Object(Si.h)(hi.QUIZ_PAGE);break;case ht.a.CLICK_RESTART:Object(Si.d)(hi.QUIZ_RESTART);break;case ht.a.CLICK_SHARE:Object(Si.d)(hi.QUIZ_SHARE_BUTTON);break;case ht.a.SUBMIT_FIRST_QUESTION:Object(Si.g)(hi.QUIZ_FIRST_QUESTION);break;case ht.a.WATCH_RESULT:Object(Si.g)(hi.QUIZ_LAST_QUESTION),Object(Si.h)(hi.QUIZ_RESULT)}}(e);break;case yi.b.ArticleBlockBeforeAfter:!function({eventType:e}){switch(e){case Ft.a.EXIST:Object(Si.e)(hi.BEFORE_AFTER);break;case Ft.a.WATCH_80:Object(Si.c)({category:h.a.Category.BEFORE_AFTER,action:"80"})}}(e);break;case yi.b.ArticleBlockFlip:!function({eventType:e}){switch(e){case Ut.a.EXIST:Object(Si.e)(hi.BLOCK_FLIP);break;case Ut.a.WATCH:Object(Si.h)(hi.BLOCK_FLIP_VIEWPORT);break;case Ut.a.CLICK:Object(Si.d)(hi.BLOCK_FLIP)}}(e);break;case yi.b.ArticleBlockProduct:!function({eventType:e}){switch(e){case _t.a.EXIST:Object(Si.e)(hi.BLOCK_PRODUCT);break;case _t.a.WATCH:Object(Si.h)(hi.BLOCK_PRODUCT);break;case _t.a.CLICK:Object(Si.d)(hi.PRODUCT);break;case _t.a.CLICK_TITLE:Object(Si.d)(hi.PRODUCT_TITLE);break;case _t.a.CLICK_IMAGE:Object(Si.d)(hi.PRODUCT_IMAGE);break;case _t.a.CLICK_LINK:Object(Si.d)(hi.PRODUCT_URL_TITLE);break;case _t.a.CLICK_BUTTON:Object(Si.d)(hi.PRODUCT_PRICE_BUTTON)}}(e);break;case yi.b.ArticleBlockProductSet:!function({eventType:e}){switch(e){case pt.a.EXIST:Object(Si.e)(hi.BLOCK_PRODUCT_SET);break;case pt.a.WATCH:Object(Si.h)(hi.BLOCK_PRODUCT_SET);break;case pt.a.WATCH_LAST:Object(Si.h)(hi.BLOCK_PRODUCT_SET_LAST);break;case pt.a.CLICK_BUTTON:Object(Si.d)(hi.BLOCK_PRODUCT_SET_BUTTON);break;case pt.a.CLICK_IMAGE:Object(Si.d)(hi.BLOCK_PRODUCT_SET_IMAGE);break;case pt.a.CLICK_TITLE:Object(Si.d)(hi.BLOCK_PRODUCT_SET_TITLE)}}(e);break;case yi.b.ArticleBlockSlider:Oi(e);break;case yi.b.ArticleBlockFullscreenGallery:Ii(e);break;case yi.b.ArticleBlockExpert:!function({eventType:e}){switch(e){case Ai.a.CLICK_EXTERNAL_LINK:Object(Si.d)(hi.EXPERT_CARD_LINK);break;case Ai.a.CLICK_PERSONAL_PAGE:Object(Si.d)(hi.EXPERT_CARD_PAGE)}}(e);break;case yi.b.ArticleRelatedEntities:!function({eventType:e,payload:t}){switch(e){case Tt.a.WATCH_BLOCK:Object(Si.h)(hi.READ_ALSO);break;case Tt.a.WATCH_TAGS:Object(Si.h)(hi.TAGS);break;case Tt.a.CLICK_TAG:Object(Si.d)(hi.TAGS);break;case Tt.a.CLICK_LINK:const{index:e}=t;Object(Si.d)(hi.READ_ALSO),Object(Si.d)(`${hi.READ_ALSO}_${e+1}`)}}(e);break;case yi.b.ArticleHeader:!function({eventType:e}){switch(e){case it.a.CLICK_TOPIC:Object(Si.d)(hi.COLLECTING_ENTITIES);break;case it.a.COMMENTS_BTN_CLICKED:Object(Si.d)(hi.ICON_TOP);break;case it.a.COMMENTS_BTN_SHOWN:Object(Si.h)(hi.ICON_TOP)}}(e);break;case yi.b.ArticleFooter:!function({eventType:e}){switch(e){case Ct.a.WATCH_AUTHORS:Object(Si.h)(hi.AUTHOR_WITH_PAGE);break;case Ct.a.CLICK_AUTHOR:Object(Si.d)(hi.AUTHOR_WITH_PAGE)}}(e);break;case yi.b.ArticleComments:!function({eventType:e}){switch(e){case Jt.a.WATCH_COMMENTS_PAGINATION:Object(Si.h)(hi.COMMENTS_PAGINATION);break;case Jt.a.WATCH_COMMENTS_TOP:Object(Si.h)(hi.COMMENTS_TOP);break;case Jt.a.WATCH_COMMENTS:Object(Si.h)(hi.READ_COMMENTS);break;case Jt.a.CLICK_COMMENTS_PAGINATION:Object(Si.d)(hi.COMMENTS_PAGINATION);break;case Jt.a.CLICK_NEW:Object(Si.d)(hi.COMMENTS_NEW);break;case Jt.a.CLICK_OLD:Object(Si.d)(hi.COMMENTS_OLD);break;case Jt.a.CLICK_TOPALL:Object(Si.d)(hi.COMMENTS_TOP);break;case Jt.a.CLICK_COMMENTS_BUTTON:Object(Si.d)(hi.READ_COMMENTS);break;case Jt.a.CLICK_ANSWER:Object(Si.d)(hi.ANSWER_COMMENT_BUTTON);break;case Jt.a.CLICK_ANSWER_ICON:Object(Si.d)(hi.ANSWER_COMMENT_ICON);break;case Jt.a.CLICK_COMPLAIN:Object(Si.d)(hi.COMPLAIN_BUTTON);break;case Jt.a.WATCH_SENDFORM:Object(Si.h)(hi.SENDFORM)}}(e)}},ki=i.default.extend({components:{DefaultArticlesPage:j,Relap:q,LazyBlock:Q,WidgetSMI2:te,ArticleBannersLayout:Ci,CreativeContainer:A.a,TgbSlider:ie.a,StickyBanner:se.a,DSButton:ne.a,IconRefresh16:re.a,UniversalAnnouncementsBlock:de.a,FullscreenContainer:ae.a},computed:{topOfWeekItems(){return Object(m.f)(this.$store)[le.PageBlocksNames.TOP_OF_WEEK_BLOCK].items.map((e=>{var t;const s=null===(t=e.images)||void 0===t?void 0:t[0];return{srcset:s?[s.url,s.url2x,s.url3x]:[],advertiser:e.advertiser,imageUrl:(null==s?void 0:s.url)||"",title:e.title,href:e.url}}))}},methods:{analyticsEventsHandler:Ei,getRelapId:(e,t)=>t?"FeoVdbR0Jw33XU9P":0===e?"koODaHm4yjHLXFxc":"3qGhMiPioFuhTExM",onTrackReadNow(){Object(ce.g)(this.$store,{category:h.a.Category.WATCH,action:h.a.Action.WIDGET_TOP})},onClickReadNow(){Object(ce.g)(this.$store,{category:h.a.Category.CLICK,action:h.a.Action.WIDGET_TOP})},onInreadIntersectsViewport(e,t,s){e(),this.forceShowStickyBanner(t,s)},forceShowStickyBanner(e,t){var s;e&&t>0&&(null===(s=this.$refs.sticky)||void 0===s||s.forceShow())}}}),Li=Object(I.a)(ki,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("DefaultArticlesPage",{scopedSlots:e._u([{key:"bannersLayout",fn:function(s){return[t("ArticleBannersLayout",{attrs:{ads:s.ads,page:s.page,project:s.project,article:s.article,articleIndex:s.articleIndex,isFirstArticle:s.isFirstArticle,beforeActive:s.beforeActive,hostname:s.hostname,imageBlockMaxSize:s.imageBlockMaxSize,isActive:s.isActive,isAdvDisabled:s.article.advDisabled,isMobile:s.isMobileScreen,orientation:s.orientation,quizSharedResultParams:s.quizSharedResultParams,screenSize:s.screenSize,selectedPollsVariantsIds:s.selectedPollsVariantsIds,schemeAuthority:s.schemeAuthority,showComments:s.showComments,commentsNestedPath:s.commentsNestedPath},on:{inreadIntersectsViewport:function(t){return e.onInreadIntersectsViewport(s.onInreadIntersectsViewPort,s.isMobile,s.articleIndex)},eventsHandler:e.analyticsEventsHandler},scopedSlots:e._u([{key:"afterArticle",fn:function(i){var n=i.articleIndex,a=i.isMobile,o=i.advDisabled;return[a&&n<7&&!o?t("CreativeContainer",{staticClass:"mobile-fluid my-3 mx-auto",attrs:{adunit:s.ads.adUnitNames.HB_LOW_ARTICLE,lazy:"",removable:"",replaceWhenExclusive:0!==n,priority:4,hasNoAdvTargeting:o}}):e._e(),t("LazyBlock",[t("Relap",{attrs:{inContent:"",articleIndex:n,id:e.getRelapId(n,a)}}),t("WidgetSMI2",{attrs:{articleIndex:n}})],1)]}},s.isMobileScreen||0!==s.articleIndex?null:{key:"aside-widget",fn:function(){return[t("UniversalAnnouncementsBlock",{directives:[{name:"intersect",rawName:"v-intersect.once",value:e.onTrackReadNow,expression:"onTrackReadNow",modifiers:{once:!0}}],attrs:{announcements:e.topOfWeekItems},on:{click:e.onClickReadNow},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Самое популярное за неделю")]},proxy:!0}],null,!0)}),t("CreativeContainer",{staticClass:"mt-3",attrs:{adunit:s.ads.adUnitNames.INVITE_BANNER}}),t("CreativeContainer",{staticClass:"mt-3",attrs:{adunit:s.ads.adUnitNames.VB_PROMO_1}}),t("CreativeContainer",{staticClass:"mt-3",attrs:{adunit:s.ads.adUnitNames.VB_PROMO_2}})]},proxy:!0}],null,!0)})]}},{key:"recommendations",fn:function(s){var i=s.articleIndex,n=s.screenSize,a=s.isMobile,o=s.advDisabled,r=s.ads;return[i%2==1?[t("TgbSlider",{staticClass:"mobile-fluid my-3",attrs:{scrooge:"",title:"Спецпроекты",screenSize:n,priority:2}})]:e._e(),!a&&i<7&&!o?t("CreativeContainer",{staticClass:"my-3 mx-auto mobile-fluid",attrs:{adunit:r.adUnitNames.HB_LOW_ARTICLE,lazy:"",removable:"",replaceWhenExclusive:0!==i,priority:4,hasNoAdvTargeting:o}}):e._e()]}},{key:"load-more-button",fn:function(s){return[t("DSButton",{attrs:{variant:"secondary",rounded:!0},on:{click:s.click}},[t("IconRefresh16",{attrs:{slot:"left",size:16},slot:"left"}),t("span",[e._v("Показать еще статьи")])],1)]}},{key:"footer",fn:function(s){return[s.showSticky?t("StickyBanner",{ref:"sticky",attrs:{showBannerDelay:0,firstShowTimeout:0,showCloseButtonTimeout:0,showStickyAfterFirstArticle:s.showStickyAfterFirstArticle,redefineTimeout:s.isMobile?6e4:9e4}}):e._e(),s.articlesCount>=2?t("CreativeContainer",{staticClass:"my-3 mx-auto mobile-fluid",attrs:{adunit:s.ads.adUnitNames.HB_LOW}}):e._e(),t("FullscreenContainer"),s.isMobile&&s.showFullscreenAfterFirstArticle?t("CreativeContainer",{staticClass:"fullscreen-creative",attrs:{adunit:s.ads.adUnitNames.FULLSCREEN,priority:1},on:{displayed:s.ads.onRenderFullscreen}}):e._e(),s.isHbTopOutOfViewport?t("CreativeContainer",{attrs:{adunit:s.ads.adUnitNames.IN_IMAGE_HB,priority:1},on:{displayed:function(e){return s.ads.onImageHbDisplayed()},failed:function(e){return s.ads.setVoxCreativesAllowed(!1)}}}):e._e()]}}])})}),[],!1,null,null,null);t.default=Li.exports},cqiKuTeOa8:function(e,t,s){"use strict";var i=s("Kw5rN6UQTL"),n=s("sDXkkeux7c"),a=s.n(n),o=s("xW3oiZkSxn"),r=s("/Z0oo28i1U"),l=s("EnAPV3on0Q"),c=s("OiYh+YOpM7");var d=i.default.extend({components:{IconTag16:a.a,Link:l.a},props:{label:{required:!0,type:Object},type:{required:!1,validator:e=>Object.values(o.a).includes(e),default:o.a.LINK},linkSize:{type:String,default:c.a.CAPTION_1},linkColor:{type:String},tag:{required:!1,type:String,default:"a"}},computed:{isLink(){return[o.a.LINK,o.a.LINK_ICON].includes(this.type)},showIcon(){return this.type===o.a.LINK_ICON},linkColorInternal(){return this.linkColor?this.linkColor:this.showIcon?r.a.SECONDARY:r.a.PRIMARY}},methods:{onClick(e){this.$emit("click:link",e)}}}),u=s("KHd+Ze9MJY"),m=Object(u.a)(d,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isLink?t("Link",{staticClass:"ds-label",class:"ds-label_".concat(e.type),attrs:{href:e.label.url,size:e.linkSize,color:e.linkColorInternal,itemscope:"",itemtype:"https://schema.org/ListItem",blank:""},on:{click:e.onClick}},[t("span",{staticClass:"d-flex align-center"},[e.showIcon?t("IconTag16",{staticClass:"ds-label__icon",attrs:{size:16}}):e._e(),e._v(e._s(e.label.text))],1)]):t(e.tag,{tag:"component",staticClass:"ds-label",class:"ds-label_".concat(e.type),attrs:{itemscope:"",itemtype:"https://schema.org/ListItem",href:e.label.url,target:"_blank"},on:{click:e.onClick}},[t("div",{staticClass:"ds-label__text"},[e._v(e._s(e.label.text))])])}),[],!1,null,null,null);t.a=m.exports},fdYhX0sMfQ:function(e,t){e.exports={name:"ban_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#ban_16"}})])}}},i6RSRwMHLv:function(e,t){e.exports={name:"eye_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#eye_16"}})])}}},pAmxMUlEX6:function(e,t,s){"use strict";var i,n=s("Kw5rN6UQTL"),a=s("HGO15o7/h2");!function(e){e.STATIC="static",e.STICKY="sticky",e.STICKY_WITH_BOUNDINGS="stickyWithBoundings"}(i||(i={}));var o=n.default.extend({name:"StickyBlock",props:{topBorder:{required:!1,validator:e=>"object"==typeof e,type:HTMLElement},bottomBorder:{required:!1,validator:e=>"object"==typeof e,type:HTMLElement},navbarHeight:{required:!0,type:Number},stickyOffset:{required:!1,type:Number,default:24},contentSize:{required:!1,type:Object,default:()=>({width:NaN,height:NaN})},minHeight:{required:!1,type:Number,default:null},static:{required:!1,type:Boolean}},data:()=>({topBorderPositionY:0,bottomBorderPositionY:0,atTopOffset:0,recalculateOffsetsFrameRequest:-1}),computed:{state(){return this.static?i.STATIC:null!==this.bottomBorder||null!==this.topBorder?i.STICKY_WITH_BOUNDINGS:i.STICKY},containerStyle(){return this.state===i.STATIC?{height:"auto"}:this.state===i.STICKY?{height:"100%"}:{position:"absolute",top:`${this.atTopOffset}px`,minHeight:this.bottomBorderPositionY-this.topBorderPositionY+"px"}},invalidContainer(){return null!==this.minHeight&&this.state===i.STICKY_WITH_BOUNDINGS&&this.bottomBorderPositionY-this.topBorderPositionY<this.minHeight},blockStyle(){return this.state!==i.STATIC?`top: ${this.navbarHeight+this.getstickyOffset}px;`:""},parent(){return this.$el.parentNode},parentMarginTop(){const e=parseInt(window.getComputedStyle(this.parent).marginTop.replace("px",""),10)||0;return e>0?e:0},getAds(){return Object(a.c)(this.$pinia)},getstickyOffset(){return this.getAds.wasHeaderBottomDisplayed?44:this.stickyOffset}},methods:{recalculateOffsets(){return new Promise((e=>{cancelAnimationFrame(this.recalculateOffsetsFrameRequest),this.state===i.STICKY_WITH_BOUNDINGS&&(this.recalculateOffsetsFrameRequest=requestAnimationFrame((()=>{const t=this.parent.getBoundingClientRect().top+window.pageYOffset-this.parentMarginTop,s=t+this.parent.offsetHeight;this.topBorder?this.topBorderPositionY=this.topBorder.getBoundingClientRect().bottom+window.pageYOffset:this.topBorderPositionY=t,this.bottomBorder?this.bottomBorderPositionY=this.bottomBorder.getBoundingClientRect().top+window.pageYOffset:this.bottomBorderPositionY=s,this.atTopOffset=this.topBorderPositionY-t,e()})))}))}},watch:{contentSize:{handler(){this.recalculateOffsets()},deep:!0},state:"recalculateOffsets"},async mounted(){await this.recalculateOffsets()}}),r=s("KHd+Ze9MJY"),l=Object(r.a)(o,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.invalidContainer?e._e():t("div",{staticClass:"sticky-block",style:e.containerStyle},[t("div",{staticClass:"sticky-block-content",style:e.blockStyle},[e._t("default")],2)])}),[],!1,null,null,null);t.a=l.exports},"pyk+cvf7mI":function(e,t,s){"use strict";var i=s("Kw5rN6UQTL"),n=s("AzT0NDj50d"),a=s.n(n),o=s("4GwzDXORD/"),r=s.n(o),l=i.default.extend({components:{IconCheckboxBlank24:a.a,IconCheckboxMarked24:r.a},props:{value:{required:!0,type:Boolean},size:{required:!1,type:String,default:"medium"}},methods:{onInput(e){this.$emit("input",e)}}}),c=s("KHd+Ze9MJY"),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("label",{staticClass:"ds-checkbox"},[t("input",{staticClass:"ds-checkbox__input",attrs:{type:"checkbox"},domProps:{checked:e.value},on:{change:function(t){return e.onInput(t.target.checked)}}}),e.value?t("IconCheckboxMarked24",{key:"enabled",staticClass:"ds-checkbox__icon",attrs:{size:24}}):t("IconCheckboxBlank24",{key:"disabled",staticClass:"ds-checkbox__icon",attrs:{size:24}}),t("div",{staticClass:"ds-checkbox__text"},[e._t("default")],2)],1)}),[],!1,null,"08be28d4",null);t.a=d.exports},qcFnX2k4s1:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return r})),s.d(t,"PageBlocksNames",(function(){return i}));var i,n=s("5OyeLcgZP7"),a=s("zkbU4JEpvO"),o=s("PamgXlpy0z");function r(e){return Object(n.b)(e,d)}!function(e){e.TOP_OF_WEEK_BLOCK="TOP_OF_WEEK_BLOCK"}(i||(i={}));const l=[o.d.ARTICLE,o.d.NEWS,o.d.SPECPROJECT,o.d.HOROSCOPE,o.d.GLOSSARY,o.d.TEST,o.d.BREAKING_NEWS],c={withLabels:!1,withStats:!1,withTags:!1,withTopics:!1,withCommentsActions:!1};function d({projectKey:e,articleId:t}){return{[i.TOP_OF_WEEK_BLOCK]:{query:{projectKey:e,name:i.TOP_OF_WEEK_BLOCK,type:a.b.TOP_ARTICLES,topArticlesBlock:{materialTypeAnyOf:l,withFields:c,excludeAttributeAnyOf:[o.a.NO_TOP_BLOCK],withImages:[{name:a.a.DESKTOP,targetField:a.f.AUTO,width:252,height:189}],withFixed:!0,rotatePopular:!1,dataSource:a.c.POPULAR_FOR_WEEK_YA},limit:4},items:[],canLoadMore:!1,maxItems:4}}}},sDXkkeux7c:function(e,t){e.exports={name:"tag_16Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#tag_16"}})])}}},vB8C6pFcQD:function(e,t){e.exports={name:"noavatar_64Icon",functional:!0,render:function(e,t){const s=t.data;var i=[];if(s.attrs){var n=s.attrs.width||s.attrs.size,a=s.attrs.height||s.attrs.size,o={};n&&(o.width=n+"px"),a&&(o.height=a+"px"),i.push(o)}return i.push(s.style),i.push(s.staticStyle),e("svg",{slot:"icon",staticClass:"svg-icon",class:[s.staticClass,s.class],style:i},[e("use",{attrs:{"xlink:href":"/public/sprites/starhit/76f2da056f37.svg#noavatar_64"}})])}}},xW3oiZkSxn:function(e,t,s){"use strict";var i;s.d(t,"a",(function(){return i})),function(e){e.LINK_ICON="linkWithIcon",e.LINK="link",e.BACKGROUND="background",e.DEFAULT="default",e.OUTLINE="outline"}(i||(i={}))},"yQwNl/G6Gf":function(e,t,s){"use strict";var i=s("Kw5rN6UQTL"),n=s("QyjeWo4pzj"),a=s.n(n);var o,r=s("eII2ZUhQcg"),l=s("y1xmru0q8C"),c=s.n(l),d=s("Tb6vCgsCne"),u=s.n(d);!function(e){e.LARGE="large",e.SMALL="small"}(o||(o={}));var m=i.default.extend({components:{DSButton:r.a,IconChevronLeft16:c.a,IconChevronRight16:u.a},props:{variant:{required:!1,type:String,default:o.LARGE},currentPage:{required:!0,type:Number},total:{required:!0,type:Number},pageSize:{required:!0,type:Number},pagesDisplayLimit:{required:!0,type:Number},urlSettings:{required:!0,type:Object},isMobileScreen:Boolean,pageInUrlPath:Boolean,hasShowMoreButton:Boolean,rounded:Boolean,enabledUrl:{required:!1,default:!0,type:Boolean}},computed:{pagesTotal(){let e=Math.ceil(this.total/this.pageSize);return this.total<=this.pageSize&&(e=1),e},pages(){return function(e,t,s){const i=t-e,n=[];let a=Math.ceil(e-s/2);i<s&&(a=t-s),a<=1&&(a=1);let o=a+s;o>t&&(o=t),2===a&&n.push(1),3===a&&n.push(1,2);for(let e=a;e<o;e+=1)n.push(e);return o-1===s&&n.push(o),o!==t||n.includes(o)||n.push(t),n}(this.currentPage,this.pagesTotal,this.pagesDisplayLimit)},nextPage(){return 1===this.pagesTotal||this.currentPage>=this.pagesTotal?0:this.currentPage+1},prevPage(){return this.currentPage-1},firstPageInPages(){return this.pages[0]},lastPageInPages(){return this.pages[this.pages.length-1]},hasFirstSpace(){return this.firstPageInPages>3},hasLastSpace(){return this.pagesTotal-this.lastPageInPages>1},showMoreButtonShown(){return this.hasShowMoreButton&&this.variant===o.LARGE},buttonSize(){return{[o.LARGE]:"large",[o.SMALL]:"super-small"}[this.variant]},classes(){return{_large:this.variant===o.LARGE,"_with-more-button":this.showMoreButtonShown}}},methods:{handlePageChange(e){this.currentPage!==e&&this.$emit("change:page",e)},getPageUrl(e){if(!this.enabledUrl)return"";const{page:t,...s}=this.urlSettings.query;let{path:i}=this.urlSettings;if(1!==e&&(this.pageInUrlPath?i=`${i}page-${e}/`:s.page=e.toString()),0===Object.keys(s).length)return i;return`${i}${a.a.stringify(s,{addQueryPrefix:!0})}`},onShowMore(){this.$emit("show-more")}}}),h=s("KHd+Ze9MJY"),p=Object(h.a)(m,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.pagesTotal>1?t("div",{staticClass:"ds-paginator",class:e.classes},[e.isMobileScreen?t("div",{staticClass:"ds-paginator__mobile"},[t("div",{staticClass:"ds-paginator__mobile-pages"},[t("DSButton",{staticClass:"ds-paginator__button ds-paginator__button_prev",attrs:{size:"large",disabled:0===e.prevPage,rounded:e.rounded,href:e.getPageUrl(e.prevPage),variant:"secondary"},on:{click:function(t){return t.preventDefault(),e.handlePageChange(e.prevPage)}}},[t("IconChevronLeft16",{staticClass:"ds-paginator__icon",attrs:{slot:"default",size:16},slot:"default"})],1),t("span",{staticClass:"ds-paginator__pages-counter"},[e._v(e._s(e.currentPage)+" из "+e._s(e.pagesTotal))]),t("DSButton",{staticClass:"ds-paginator__button ds-paginator__button_next",attrs:{disabled:0===e.nextPage,size:"large",rounded:e.rounded,href:e.getPageUrl(e.nextPage),variant:"secondary"},on:{click:function(t){return t.preventDefault(),e.handlePageChange(e.nextPage)}}},[t("IconChevronRight16",{staticClass:"ds-paginator__icon",attrs:{slot:"right",size:16},slot:"right"})],1)],1),e.showMoreButtonShown&&0!==e.nextPage?t("DSButton",{staticClass:"ds-paginator__show-more mt-2",attrs:{size:e.buttonSize,variant:"secondary",rounded:e.rounded},on:{click:e.onShowMore}},[e._v("Показать еще"),t("IconChevronRight16",{attrs:{slot:"right",size:16},slot:"right"})],1):e._e()],1):t("div",{staticClass:"ds-paginator__desktop"},[t("ul",{staticClass:"ds-paginator__pages"},[0!==e.prevPage?t("li",{staticClass:"ds-paginator__page ds-paginator__page_prev"},[t("DSButton",{staticClass:"ds-paginator__button",attrs:{size:e.buttonSize,rounded:e.rounded,href:e.getPageUrl(e.prevPage),variant:"secondary"},on:{click:function(t){return t.preventDefault(),e.handlePageChange(e.prevPage)}}},["small"===e.variant?[e._v("Предыдущая")]:e._e(),t("IconChevronLeft16",{attrs:{slot:"left",size:16},slot:"left"})],2)],1):e._e(),e.hasFirstSpace?t("li",{staticClass:"ds-paginator__page"},[t("DSButton",{staticClass:"ds-paginator__button",attrs:{size:e.buttonSize,rounded:e.rounded,href:e.getPageUrl(1),variant:"link"},on:{click:function(t){return t.preventDefault(),e.handlePageChange(1)}}},[e._v("1")])],1):e._e(),e.hasFirstSpace?t("li",{staticClass:"ds-paginator__page ds-paginator__page_divider"}):e._e(),e._l(e.pages,(function(s){return t("li",{staticClass:"ds-paginator__page"},[t("DSButton",{staticClass:"ds-paginator__button",class:{"ds-paginator__button_active":s===e.currentPage},attrs:{size:e.buttonSize,variant:s===e.currentPage?"secondary":"link",rounded:e.rounded,href:s===e.currentPage?null:e.getPageUrl(s)},on:{click:function(t){return t.preventDefault(),e.handlePageChange(s)}}},[e._v(e._s(s))])],1)})),e.hasLastSpace?t("li",{staticClass:"ds-paginator__page ds-paginator__page_divider"}):e._e(),e.hasLastSpace?t("li",{staticClass:"ds-paginator__page"},[t("DSButton",{staticClass:"ds-paginator__button",attrs:{size:e.buttonSize,rounded:e.rounded,href:e.getPageUrl(e.pagesTotal),variant:"link"},on:{click:function(t){return t.preventDefault(),e.handlePageChange(e.pagesTotal)}}},[e._v(e._s(e.pagesTotal))])],1):e._e(),0!==e.nextPage?t("li",{staticClass:"ds-paginator__page ds-paginator__page_next"},[t("DSButton",{staticClass:"ds-paginator__button",attrs:{size:e.buttonSize,rounded:e.rounded,href:e.getPageUrl(e.nextPage),variant:"secondary"},on:{click:function(t){return t.preventDefault(),e.handlePageChange(e.nextPage)}}},["small"===e.variant?[e._v("Следующая")]:e._e(),t("IconChevronRight16",{attrs:{slot:"right",size:16},slot:"right"})],2)],1):e._e()],2),e.showMoreButtonShown&&0!==e.nextPage?t("DSButton",{staticClass:"ds-paginator__show-more",attrs:{size:e.buttonSize,variant:"secondary",rounded:e.rounded},on:{click:e.onShowMore}},[e._v("Показать еще"),t("IconChevronRight16",{attrs:{slot:"right",size:16},slot:"right"})],1):e._e()],1)]):e._e()}),[],!1,null,null,null);t.a=p.exports}}]);