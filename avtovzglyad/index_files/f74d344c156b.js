;(function(a){'use strict';a.scrollTo=function(b,c,d){var e=true;a('html, body').animate({scrollTop:b.offset().top},{duration:c?c:1000,complete:function(){if(d&&e){e=false;d();}}});};a.fn.replaceWithPush=function(b){var c=a(b);this.replaceWith(c);return c;};a.fn.visHide=function(b){return a(this).css('visibility','hidden');};a.fn.preventOuterScroll=function(){var b=a(this);b.on('DOMMouseScroll mousewheel',function(a){var c=this.scrollTop,d=this.scrollHeight,e=b.height(),f=(a.type=='DOMMouseScroll'?a.originalEvent.detail*-40:a.originalEvent.wheelDelta),g=f>0;var h=function(){a.stopPropagation();a.preventDefault();a.returnValue=false;return false;};if(!g&&-f>d-e-c){b.scrollTop(d);return h();}else if(g&&f>c){b.scrollTop(0);return h();}});};a.videoJsWrap=function(b){videojs(b).ready(function(){this.on("play",function(){a('.vjs-poster').css('display','none');});});};a.fn.dragScroll=function(b){var c,d,e,f,g;var h=a(this);a(h).attr("onselectstart","return false;");a(h).mousedown(function(b){b.preventDefault();g=true;c=b.pageX;d=b.pageY;e=a(this).scrollTop();f=a(this).scrollLeft();});a(h).mouseleave(function(a){g=false;});a("body").mousemove(function(b){if(g){var i=b.pageX;var j=b.pageY;a(h).scrollTop(e-j+d);a(h).scrollLeft(f-i+c);}});a("body").mouseup(function(a){g=false;});};a.alert=function(b){return a.fancybox.open({content:b,type:'inline',minWidth:'auto',minHeight:'auto',autoSize:false,width:300,height:'auto',wrapCSS:'alert',helpers:{overlay:{locked:false}}});};a.fn.ajaxSubmit=function(b){var c=a(this);jQuery.post(c.attr('action'),c.serialize()).done(function(a){if(b)b(a);}).fail(function(){a.alert('Не удалось отправить форму. Обновите страницу');});};a.fn.once=function(b,c){return this.each(function(){var d=a(this);if(!d.data('binded')){d.data('binded',true);d.on(b,c);}});};})(jQuery);(function(a,b,c,d){var e=c("html"),f=c(a),g=c(b),h=c.fancybox=function(){h.open.apply(this,arguments);},i=navigator.userAgent.match(/msie/i),j=null,k=b.createTouch!==d,l=function(a){return a&&a.hasOwnProperty&&a instanceof c;},m=function(a){return a&&"string"===c.type(a);},n=function(a){return m(a)&&0<a.indexOf("%");},o=function(a,b){var c=parseInt(a,10)||0;b&&n(a)&&(c*=h.getViewport()[b]/100);return Math.ceil(c);},p=function(a,b){return o(a,b)+"px";};c.extend(h,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!k,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(i?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:c.noop,beforeLoad:c.noop,afterLoad:c.noop,beforeShow:c.noop,afterShow:c.noop,beforeChange:c.noop,beforeClose:c.noop,afterClose:c.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,b){if(a&&(c.isPlainObject(b)||(b={}),!1!==h.close(!0)))return c.isArray(a)||(a=l(a)?c(a).get():[a]),c.each(a,function(e,f){var g={},i,j,k,n,o;"object"===c.type(f)&&(f.nodeType&&(f=c(f)),l(f)?(g={href:f.data("fancybox-href")||f.attr("href"),title:f.data("fancybox-title")||f.attr("title"),isDom:!0,element:f},c.metadata&&c.extend(!0,g,f.metadata())):g=f);i=b.href||g.href||(m(f)?f:null);j=b.title!==d?b.title:g.title||"";n=(k=b.content||g.content)?"html":b.type||g.type;!n&&g.isDom&&(n=f.data("fancybox-type"),n||(n=(n=f.prop("class").match(/fancybox\.(\w+)/))?n[1]:null));m(i)&&(n||(h.isImage(i)?n="image":h.isSWF(i)?n="swf":"#"===i.charAt(0)?n="inline":m(f)&&(n="html",k=f)),"ajax"===n&&(o=i.split(/\s+/,2),i=o.shift(),o=o.shift()));k||("inline"===n?i?k=c(m(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):g.isDom&&(k=f):"html"===n?k=i:!n&&(!i&&g.isDom)&&(n="inline",k=f));c.extend(g,{href:i,type:n,content:k,title:j,selector:o});a[e]=g;}),h.opts=c.extend(!0,{},h.defaults,b),b.keys!==d&&(h.opts.keys=b.keys?c.extend({},h.defaults.keys,b.keys):!1),h.group=a,h._start(h.opts.index);},cancel:function(){var a=h.coming;a&&!1!==h.trigger("onCancel")&&(h.hideLoading(),h.ajaxLoad&&h.ajaxLoad.abort(),h.ajaxLoad=null,h.imgPreload&&(h.imgPreload.onload=h.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),h.coming=null,h.current||h._afterZoomOut(a));},close:function(a){h.cancel();!1!==h.trigger("beforeClose")&&(h.unbindEvents(),h.isActive&&(!h.isOpen||!0===a?(c(".fancybox-wrap").stop(!0).trigger("onReset").remove(),h._afterZoomOut()):(h.isOpen=h.isOpened=!1,h.isClosing=!0,c(".fancybox-item, .fancybox-nav").remove(),h.wrap.stop(!0,!0).removeClass("fancybox-opened"),h.transitions[h.current.closeMethod]())));},play:function(a){var b=function(){clearTimeout(h.player.timer);},c=function(){b();h.current&&h.player.isActive&&(h.player.timer=setTimeout(h.next,h.current.playSpeed));},d=function(){b();g.unbind(".player");h.player.isActive=!1;h.trigger("onPlayEnd");};if(!0===a||!h.player.isActive&&!1!==a){if(h.current&&(h.current.loop||h.current.index<h.group.length-1))h.player.isActive=!0,g.bind({"onCancel.player beforeClose.player":d,"onUpdate.player":c,"beforeLoad.player":b}),c(),h.trigger("onPlayStart");}else d();},next:function(a){var b=h.current;b&&(m(a)||(a=b.direction.next),h.jumpto(b.index+1,a,"next"));},prev:function(a){var b=h.current;b&&(m(a)||(a=b.direction.prev),h.jumpto(b.index-1,a,"prev"));},jumpto:function(a,b,c){var e=h.current;e&&(a=o(a),h.direction=b||e.direction[a>=e.index?"next":"prev"],h.router=c||"jumpto",e.loop&&(0>a&&(a=e.group.length+a%e.group.length),a%=e.group.length),e.group[a]!==d&&(h.cancel(),h._start(a)));},reposition:function(a,b){var d=h.current,e=d?d.wrap:null,f;e&&(f=h._getPosition(b),a&&"scroll"===a.type?(delete f.position,e.stop(!0,!0).animate(f,200)):(e.css(f),d.pos=c.extend({},d.dim,f)));},update:function(a){var b=a&&a.type,c=!b||"orientationchange"===b;c&&(clearTimeout(j),j=null);h.isOpen&&!j&&(j=setTimeout(function(){var d=h.current;d&&!h.isClosing&&(h.wrap.removeClass("fancybox-tmp"),(c||"load"===b||"resize"===b&&d.autoResize)&&h._setDimension(),"scroll"===b&&d.canShrink||h.reposition(a),h.trigger("onUpdate"),j=null);},c&&!k?0:300));},toggle:function(a){h.isOpen&&(h.current.fitToView="boolean"===c.type(a)?a:!h.current.fitToView,k&&(h.wrap.removeAttr("style").addClass("fancybox-tmp"),h.trigger("onUpdate")),h.update());},hideLoading:function(){g.unbind(".loading");c("#fancybox-loading").remove();},showLoading:function(){var a,b;h.hideLoading();a=c('<div id="fancybox-loading"><div></div></div>').click(h.cancel).appendTo("body");g.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),h.cancel();});h.defaults.fixed||(b=h.getViewport(),a.css({position:"absolute",top:0.5*b.h+b.y,left:0.5*b.w+b.x}));},getViewport:function(){var b=h.current&&h.current.locked||!1,c={x:f.scrollLeft(),y:f.scrollTop()};b?(c.w=b[0].clientWidth,c.h=b[0].clientHeight):(c.w=k&&a.innerWidth?a.innerWidth:f.width(),c.h=k&&a.innerHeight?a.innerHeight:f.height());return c;},unbindEvents:function(){h.wrap&&l(h.wrap)&&h.wrap.unbind(".fb");g.unbind(".fb");f.unbind(".fb");},bindEvents:function(){var a=h.current,b;a&&(f.bind("orientationchange.fb"+(k?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),h.update),(b=a.keys)&&g.bind("keydown.fb",function(e){var f=e.which||e.keyCode,g=e.target||e.srcElement;if(27===f&&h.coming)return !1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!g||!g.type&&!c(g).is("[contenteditable]")))&&c.each(b,function(b,g){if(1<a.group.length&&g[f]!==d)return h[b](g[f]),e.preventDefault(),!1;if(-1<c.inArray(f,g))return h[b](),e.preventDefault(),!1;});}),c.fn.mousewheel&&a.mouseWheel&&h.wrap.bind("mousewheel.fb",function(b,d,e,f){for(var g=c(b.target||null),i=!1;g.length&&!i&&!g.is(".fancybox-skin")&&!g.is(".fancybox-wrap");)i=g[0]&&!(g[0].style.overflow&&"hidden"===g[0].style.overflow)&&(g[0].clientWidth&&g[0].scrollWidth>g[0].clientWidth||g[0].clientHeight&&g[0].scrollHeight>g[0].clientHeight),g=c(g).parent();if(0!==d&&!i&&1<h.group.length&&!a.canShrink){if(0<f||0<e)h.prev(0<f?"down":"left");else if(0>f||0>e)h.next(0>f?"up":"right");b.preventDefault();}}));},trigger:function(a,b){var d,e=b||h.coming||h.current;if(e){c.isFunction(e[a])&&(d=e[a].apply(e,Array.prototype.slice.call(arguments,1)));if(!1===d)return !1;e.helpers&&c.each(e.helpers,function(b,d){if(d&&h.helpers[b]&&c.isFunction(h.helpers[b][a]))h.helpers[b][a](c.extend(!0,{},h.helpers[b].defaults,d),e);});g.trigger(a);}},isImage:function(a){return m(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i);},isSWF:function(a){return m(a)&&a.match(/\.(swf)((\?|#).*)?$/i);},_start:function(a){var b={},d,e;a=o(a);d=h.group[a]||null;if(!d)return !1;b=c.extend(!0,{},h.opts,d);d=b.margin;e=b.padding;"number"===c.type(d)&&(b.margin=[d,d,d,d]);"number"===c.type(e)&&(b.padding=[e,e,e,e]);b.modal&&c.extend(!0,b,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});b.autoSize&&(b.autoWidth=b.autoHeight=!0);"auto"===b.width&&(b.autoWidth=!0);"auto"===b.height&&(b.autoHeight=!0);b.group=h.group;b.index=a;h.coming=b;if(!1===h.trigger("beforeLoad"))h.coming=null;else{e=b.type;d=b.href;if(!e)return h.coming=null,h.current&&h.router&&"jumpto"!==h.router?(h.current.index=a,h[h.router](h.direction)):!1;h.isActive=!0;if("image"===e||"swf"===e)b.autoHeight=b.autoWidth=!1,b.scrolling="visible";"image"===e&&(b.aspectRatio=!0);"iframe"===e&&k&&(b.scrolling="scroll");b.wrap=c(b.tpl.wrap).addClass("fancybox-"+(k?"mobile":"desktop")+" fancybox-type-"+e+" fancybox-tmp "+b.wrapCSS).appendTo(b.parent||"body");c.extend(b,{skin:c(".fancybox-skin",b.wrap),outer:c(".fancybox-outer",b.wrap),inner:c(".fancybox-inner",b.wrap)});c.each(["Top","Right","Bottom","Left"],function(a,c){b.skin.css("padding"+c,p(b.padding[a]));});h.trigger("onReady");if("inline"===e||"html"===e){if(!b.content||!b.content.length)return h._error("content");}else if(!d)return h._error("href");"image"===e?h._loadImage():"ajax"===e?h._loadAjax():"iframe"===e?h._loadIframe():h._afterLoad();}},_error:function(a){c.extend(h.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:h.coming.tpl.error});h._afterLoad();},_loadImage:function(){var a=h.imgPreload=new Image();a.onload=function(){this.onload=this.onerror=null;h.coming.width=this.width/h.opts.pixelRatio;h.coming.height=this.height/h.opts.pixelRatio;h._afterLoad();};a.onerror=function(){this.onload=this.onerror=null;h._error("image");};a.src=h.coming.href;!0!==a.complete&&h.showLoading();},_loadAjax:function(){var a=h.coming;h.showLoading();h.ajaxLoad=c.ajax(c.extend({},a.ajax,{url:a.href,error:function(a,b){h.coming&&"abort"!==b?h._error("ajax",a):h.hideLoading();},success:function(b,c){"success"===c&&(a.content=b,h._afterLoad());}}));},_loadIframe:function(){var a=h.coming,b=c(a.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",k?"auto":a.iframe.scrolling).attr("src",a.href);c(a.wrap).bind("onReset",function(){try{c(this).find("iframe").hide().attr("src","//about:blank").end().empty();}catch(a){}});a.iframe.preload&&(h.showLoading(),b.one("load",function(){c(this).data("ready",1);k||c(this).bind("load.fb",h.update);c(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();h._afterLoad();}));a.content=b.appendTo(a.inner);a.iframe.preload||h._afterLoad();},_preloadImages:function(){var a=h.group,b=h.current,c=a.length,d=b.preload?Math.min(b.preload,c-1):0,e,f;for(f=1;f<=d;f+=1)e=a[(b.index+f)%c],"image"===e.type&&e.href&&(new Image().src=e.href);},_afterLoad:function(){var a=h.coming,b=h.current,d,e,f,g,i;h.hideLoading();if(a&&!1!==h.isActive)if(!1===h.trigger("afterLoad",a,b))a.wrap.stop(!0).trigger("onReset").remove(),h.coming=null;else{b&&(h.trigger("beforeChange",b),b.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());h.unbindEvents();d=a.content;e=a.type;f=a.scrolling;c.extend(h,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:b});g=a.href;switch(e){case "inline":case "ajax":case "html":a.selector?d=c("<div>").html(d).find(a.selector):l(d)&&(d.data("fancybox-placeholder")||d.data("fancybox-placeholder",c('<div class="fancybox-placeholder"></div>').insertAfter(d).hide()),d=d.show().detach(),a.wrap.bind("onReset",function(){c(this).find(d).length&&d.hide().replaceAll(d.data("fancybox-placeholder")).data("fancybox-placeholder",!1);}));break;case "image":d=a.tpl.image.replace("{href}",g);break;case "swf":d='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',i="",c.each(a.swf,function(a,b){d+='<param name="'+a+'" value="'+b+'"></param>';i+=" "+a+'="'+b+'"';}),d+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+i+"></embed></object>";}(!l(d)||!d.parent().is(a.inner))&&a.inner.append(d);h.trigger("beforeShow");a.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);h._setDimension();h.reposition();h.isOpen=!1;h.coming=null;h.bindEvents();if(h.isOpened){if(b.prevMethod)h.transitions[b.prevMethod]();}else c(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();h.transitions[h.isOpened?a.nextMethod:a.openMethod]();h._preloadImages();}},_setDimension:function(){var a=h.getViewport(),b=0,d=!1,e=!1,d=h.wrap,f=h.skin,g=h.inner,i=h.current,e=i.width,j=i.height,k=i.minWidth,l=i.minHeight,m=i.maxWidth,q=i.maxHeight,r=i.scrolling,s=i.scrollOutside?i.scrollbarWidth:0,t=i.margin,u=o(t[1]+t[3]),v=o(t[0]+t[2]),w,x,y,z,A,B,C,D,E;d.add(f).add(g).width("auto").height("auto").removeClass("fancybox-tmp");t=o(f.outerWidth(!0)-f.width());w=o(f.outerHeight(!0)-f.height());x=u+t;y=v+w;z=n(e)?(a.w-x)*o(e)/100:e;A=n(j)?(a.h-y)*o(j)/100:j;if("iframe"===i.type){if(E=i.content,i.autoHeight&&1===E.data("ready"))try{E[0].contentWindow.document.location&&(g.width(z).height(9999),B=E.contents().find("body"),s&&B.css("overflow-x","hidden"),A=B.outerHeight(!0));}catch(F){}}else if(i.autoWidth||i.autoHeight)g.addClass("fancybox-tmp"),i.autoWidth||g.width(z),i.autoHeight||g.height(A),i.autoWidth&&(z=g.width()),i.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");e=o(z);j=o(A);D=z/A;k=o(n(k)?o(k,"w")-x:k);m=o(n(m)?o(m,"w")-x:m);l=o(n(l)?o(l,"h")-y:l);q=o(n(q)?o(q,"h")-y:q);B=m;C=q;i.fitToView&&(m=Math.min(a.w-x,m),q=Math.min(a.h-y,q));x=a.w-u;v=a.h-v;i.aspectRatio?(e>m&&(e=m,j=o(e/D)),j>q&&(j=q,e=o(j*D)),e<k&&(e=k,j=o(e/D)),j<l&&(j=l,e=o(j*D))):(e=Math.max(k,Math.min(e,m)),i.autoHeight&&"iframe"!==i.type&&(g.width(e),j=g.height()),j=Math.max(l,Math.min(j,q)));if(i.fitToView)if(g.width(e).height(j),d.width(e+t),a=d.width(),u=d.height(),i.aspectRatio)for(;(a>x||u>v)&&(e>k&&j>l)&&!(19<b++);)j=Math.max(l,Math.min(q,j-10)),e=o(j*D),e<k&&(e=k,j=o(e/D)),e>m&&(e=m,j=o(e/D)),g.width(e).height(j),d.width(e+t),a=d.width(),u=d.height();else e=Math.max(k,Math.min(e,e-(a-x))),j=Math.max(l,Math.min(j,j-(u-v)));s&&("auto"===r&&j<A&&e+t+s<x)&&(e+=s);g.width(e).height(j);d.width(e+t);a=d.width();u=d.height();d=(a>x||u>v)&&e>k&&j>l;e=i.aspectRatio?e<B&&j<C&&e<z&&j<A:(e<B||j<C)&&(e<z||j<A);c.extend(i,{dim:{width:p(a),height:p(u)},origWidth:z,origHeight:A,canShrink:d,canExpand:e,wPadding:t,hPadding:w,wrapSpace:u-f.outerHeight(!0),skinSpace:f.height()-j});!E&&(i.autoHeight&&j>l&&j<q&&!e)&&g.height("auto");},_getPosition:function(a){var b=h.current,c=h.getViewport(),d=b.margin,e=h.wrap.width()+d[1]+d[3],f=h.wrap.height()+d[0]+d[2],d={position:"absolute",top:d[0],left:d[3]};b.autoCenter&&b.fixed&&!a&&f<=c.h&&e<=c.w?d.position="fixed":b.locked||(d.top+=c.y,d.left+=c.x);d.top=p(Math.max(d.top,d.top+(c.h-f)*b.topRatio));d.left=p(Math.max(d.left,d.left+(c.w-e)*b.leftRatio));return d;},_afterZoomIn:function(){var a=h.current;a&&(h.isOpen=h.isOpened=!0,h.wrap.css("overflow","visible").addClass("fancybox-opened"),h.update(),(a.closeClick||a.nextClick&&1<h.group.length)&&h.inner.css("cursor","pointer").bind("click.fb",function(b){!c(b.target).is("a")&&!c(b.target).parent().is("a")&&(b.preventDefault(),h[a.closeClick?"close":"next"]());}),a.closeBtn&&c(a.tpl.closeBtn).appendTo(h.skin).bind("click.fb",function(a){a.preventDefault();h.close();}),a.arrows&&1<h.group.length&&((a.loop||0<a.index)&&c(a.tpl.prev).appendTo(h.outer).bind("click.fb",h.prev),(a.loop||a.index<h.group.length-1)&&c(a.tpl.next).appendTo(h.outer).bind("click.fb",h.next)),h.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?h.play(!1):h.opts.autoPlay&&!h.player.isActive&&(h.opts.autoPlay=!1,h.play()));},_afterZoomOut:function(a){a=a||h.current;c(".fancybox-wrap").trigger("onReset").remove();c.extend(h,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});h.trigger("afterClose",a);}});h.transitions={getOrigPosition:function(){var a=h.current,b=a.element,c=a.orig,d={},e=50,f=50,g=a.hPadding,i=a.wPadding,j=h.getViewport();!c&&(a.isDom&&b.is(":visible"))&&(c=b.find("img:first"),c.length||(c=b));l(c)?(d=c.offset(),c.is("img")&&(e=c.outerWidth(),f=c.outerHeight())):(d.top=j.y+(j.h-f)*a.topRatio,d.left=j.x+(j.w-e)*a.leftRatio);if("fixed"===h.wrap.css("position")||a.locked)d.top-=j.y,d.left-=j.x;return d={top:p(d.top-g*a.topRatio),left:p(d.left-i*a.leftRatio),width:p(e+i),height:p(f+g)};},step:function(a,b){var c,d,e=b.prop;d=h.current;var f=d.wrapSpace,g=d.skinSpace;if("width"===e||"height"===e)c=b.end===b.start?1:(a-b.start)/(b.end-b.start),h.isClosing&&(c=1-c),d="width"===e?d.wPadding:d.hPadding,d=a-d,h.skin[e](o("width"===e?d:d-f*c)),h.inner[e](o("width"===e?d:d-f*c-g*c));},zoomIn:function(){var a=h.current,b=a.pos,d=a.openEffect,e="elastic"===d,f=c.extend({opacity:1},b);delete f.position;e?(b=this.getOrigPosition(),a.openOpacity&&(b.opacity=0.1)):"fade"===d&&(b.opacity=0.1);h.wrap.css(b).animate(f,{duration:"none"===d?0:a.openSpeed,easing:a.openEasing,step:e?this.step:null,complete:h._afterZoomIn});},zoomOut:function(){var a=h.current,b=a.closeEffect,c="elastic"===b,d={opacity:0.1};c&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=0.1));h.wrap.animate(d,{duration:"none"===b?0:a.closeSpeed,easing:a.closeEasing,step:c?this.step:null,complete:h._afterZoomOut});},changeIn:function(){var a=h.current,b=a.nextEffect,c=a.pos,d={opacity:1},e=h.direction,f;c.opacity=0.1;"elastic"===b&&(f="down"===e||"up"===e?"top":"left","down"===e||"right"===e?(c[f]=p(o(c[f])-200),d[f]="+=200px"):(c[f]=p(o(c[f])+200),d[f]="-=200px"));"none"===b?h._afterZoomIn():h.wrap.css(c).animate(d,{duration:a.nextSpeed,easing:a.nextEasing,complete:h._afterZoomIn});},changeOut:function(){var a=h.previous,b=a.prevEffect,d={opacity:0.1},e=h.direction;"elastic"===b&&(d["down"===e||"up"===e?"top":"left"]=("up"===e||"left"===e?"-":"+")+"=200px");a.wrap.animate(d,{duration:"none"===b?0:a.prevSpeed,easing:a.prevEasing,complete:function(){c(this).trigger("onReset").remove();}});}};h.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!k,fixed:!0},overlay:null,fixed:!1,el:c("html"),create:function(a){a=c.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=c('<div class="fancybox-overlay"></div>').appendTo(h.coming?h.coming.parent:a.parent);this.fixed=!1;a.fixed&&h.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0);},open:function(a){var b=this;a=c.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(f.bind("resize.overlay",c.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(c(a.target).hasClass("fancybox-overlay"))return h.isActive?h.close():b.close(),!1;});this.overlay.css(a.css).show();},close:function(){var a,b;f.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(c(".fancybox-margin").removeClass("fancybox-margin"),a=f.scrollTop(),b=f.scrollLeft(),this.el.removeClass("fancybox-lock"),f.scrollTop(a).scrollLeft(b));c(".fancybox-overlay").remove().hide();c.extend(this,{overlay:null,fixed:!1});},update:function(){var a="100%",c;this.overlay.width(a).height("100%");i?(c=Math.max(b.documentElement.offsetWidth,b.body.offsetWidth),g.width()>c&&(a=g.width())):g.width()>f.width()&&(a=g.width());this.overlay.width(a).height(g.height());},onReady:function(a,b){var d=this.overlay;c(".fancybox-overlay").stop(!0,!0);d||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(d||(this.margin=g.height()>f.height()?c("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments);},beforeShow:function(a,b){var d,e;b.locked&&(!1!==this.margin&&(c("*").filter(function(){return "fixed"===c(this).css("position")&&!c(this).hasClass("fancybox-overlay")&&!c(this).hasClass("fancybox-wrap");}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),d=f.scrollTop(),e=f.scrollLeft(),this.el.addClass("fancybox-lock"),f.scrollTop(d).scrollLeft(e));this.open(a);},onUpdate:function(){this.fixed||this.update();},afterClose:function(a){this.overlay&&!h.coming&&this.overlay.fadeOut(a.speedOut,c.proxy(this.close,this));}};h.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var b=h.current,d=b.title,e=a.type;c.isFunction(d)&&(d=d.call(b.element,b));if(m(d)&&""!==c.trim(d)){b=c('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+d+"</div>");switch(e){case "inside":e=h.skin;break;case "outside":e=h.wrap;break;case "over":e=h.inner;break;default:e=h.skin,b.appendTo("body"),i&&b.width(b.width()),b.wrapInner('<span class="child"></span>'),h.current.margin[2]+=Math.abs(o(b.css("margin-bottom")));}b["top"===a.position?"prependTo":"appendTo"](e);}}};c.fn.fancybox=function(a){var b,d=c(this),e=this.selector||"",f=function(f){var g=c(this).blur(),i=b,j,k;!f.ctrlKey&&(!f.altKey&&!f.shiftKey&&!f.metaKey)&&!g.is(".fancybox-wrap")&&(j=a.groupAttr||"data-fancybox-group",k=g.attr(j),k||(j="rel",k=g.get(0)[j]),k&&(""!==k&&"nofollow"!==k)&&(g=e.length?c(e):d,g=g.filter("["+j+'="'+k+'"]'),i=g.index(this)),a.index=i,!1!==h.open(g,a)&&f.preventDefault());};a=a||{};b=a.index||0;!e||!1===a.live?d.unbind("click.fb-start").bind("click.fb-start",f):g.undelegate(e,"click.fb-start").delegate(e+":not('.fancybox-item, .fancybox-nav')","click.fb-start",f);this.filter("[data-fancybox-start=1]").trigger("click");return this;};g.ready(function(){var b,f;c.scrollbarWidth===d&&(c.scrollbarWidth=function(){var a=c('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b;});if(c.support.fixedPosition===d){b=c.support;f=c('<div style="position:fixed;top:20px;"></div>').appendTo("body");var g=20===f[0].offsetTop||15===f[0].offsetTop;f.remove();b.fixedPosition=g;}c.extend(h.defaults,{scrollbarWidth:c.scrollbarWidth(),fixed:c.support.fixedPosition,parent:c("body")});b=c(a).width();e.addClass("fancybox-lock-test");f=c(a).width();e.removeClass("fancybox-lock-test");c("<style type='text/css'>.fancybox-margin{margin-right:"+(f-b)+"px;}</style>").appendTo("head");});})(window,document,jQuery);(function(a){var b=a.fancybox;b.helpers.thumbs={defaults:{width:50,height:50,position:'bottom',source:function(b){var c;if(b.element)c=a(b.element).find('img').attr('src');if(!c&&b.type==='image'&&b.href)c=b.href;return c;}},wrap:null,list:null,width:0,init:function(b,c){var d=this,e,f=b.width,g=b.height,h=b.source;e='';for(var i=0;i<c.group.length;i++)e+='<li><a style="width:'+f+'px;height:'+g+'px;" href="javascript:jQuery.fancybox.jumpto('+i+');"></a></li>';this.wrap=a('<div id="fancybox-thumbs"></div>').addClass(b.position).appendTo('body');this.list=a('<ul>'+e+'</ul>').appendTo(this.wrap);a.each(c.group,function(b){var e=h(c.group[b]);if(!e)return;a("<img />").load(function(){var c=this.width,e=this.height,h,i,j;if(!d.list||!c||!e)return;h=c/f;i=e/g;j=d.list.children().eq(b).find('a');if(h>=1&&i>=1)if(h>i){c=Math.floor(c/i);e=g;}else{c=f;e=Math.floor(e/h);}a(this).css({width:c,height:e,top:Math.floor(g/2-e/2),left:Math.floor(f/2-c/2)});j.width(f).height(g);a(this).hide().appendTo(j).fadeIn(300);}).attr('src',e);});this.width=this.list.children().eq(0).outerWidth(true);this.list.width(this.width*(c.group.length+1)).css('left',Math.floor(a(window).width()*0.5-(c.index*this.width+this.width*0.5)));},beforeLoad:function(a,b){if(b.group.length<2){b.helpers.thumbs=false;return;}b.margin[a.position==='top'?0:2]+=((a.height)+15);},afterShow:function(a,b){if(this.list)this.onUpdate(a,b);else this.init(a,b);this.list.children().removeClass('active').eq(b.index).addClass('active');},onUpdate:function(b,c){if(this.list)this.list.stop(true).animate({'left':Math.floor(a(window).width()*0.5-(c.index*this.width+this.width*0.5))},150);},beforeClose:function(){if(this.wrap)this.wrap.remove();this.wrap=null;this.list=null;this.width=0;}};}(jQuery));!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b();}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d;}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a;}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e;}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0;}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a;}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d]);}return a;}function g(a,b){return "string"==typeof a?a:a[b%a.length];}function h(a){this.opts=f(a||{},h.defaults,n);}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c);}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k});}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))));}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m);},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c));};}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet;}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();{var c=this,d=c.opts,f=c.el=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});d.radius+d.length+d.width;}if(e(f,{left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function o(){h++;for(var a=0;a<d.lines;a++)g=Math.max(1-(h+(d.lines-a)*n)%l*m,d.opacity),c.opacity(f,a*d.direction+i,g,d);c.timeout=c.el&&setTimeout(o,~~(1e3/k));}();}return c;},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this;},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"});}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d;},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c);}});var o=e(a("group"),{behavior:"url(#default#VML)"});return !d(o,"transform")&&o.adj?i():j=d(o,"animation"),h;});(function(a){if(typeof exports=='object')a(require('jquery'),require('spin'));else if(typeof define=='function'&&define.amd)define(['jquery','spin'],a);else{if(!window.Spinner)throw new Error('Spin.js not present');a(window.jQuery,window.Spinner);}}(function(a,b){a.fn.spin=function(c,d){return this.each(function(){var e=a(this),f=e.data();if(f.spinner){f.spinner.stop();delete f.spinner;}if(c!==false){c=a.extend({color:d||e.css('color')},a.fn.spin.presets[c]||c);f.spinner=new b(c).spin(this);}});};a.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}};}));(function(a){var b=a(window);a.fn.visible=function(a,c,d){if(this.length<1)return;var e=this.length>1?this.eq(0):this,f=e.get(0),g=b.width(),h=b.height(),d=d?d:'both',i=c===true?f.offsetWidth*f.offsetHeight:true;if(typeof f.getBoundingClientRect==='function'){var j=f.getBoundingClientRect(),k=j.top>=0&&j.top<h,l=j.bottom>0&&j.bottom<=h,m=j.left>=0&&j.left<g,n=j.right>0&&j.right<=g,o=a?k||l:k&&l,p=a?m||n:m&&n;if(d==='both')return i&&o&&p;else if(d==='vertical')return i&&o;else if(d==='horizontal')return i&&p;}else{var q=b.scrollTop(),r=q+h,s=b.scrollLeft(),t=s+g,u=e.offset(),v=u.top,w=v+e.height(),x=u.left,y=x+e.width(),z=a===true?w:v,A=a===true?v:w,B=a===true?y:x,C=a===true?x:y;if(d==='both')return !!i&&((A<=r)&&(z>=q))&&((C<=t)&&(B>=s));else if(d==='vertical')return !!i&&((A<=r)&&(z>=q));else if(d==='horizontal')return !!i&&((C<=t)&&(B>=s));}};})(jQuery);;(function(a){var b=false;if(typeof define==='function'&&define.amd){define(a);b=true;}if(typeof exports==='object'){module.exports=a();b=true;}if(!b){var c=window.Cookies;var d=window.Cookies=a();d.noConflict=function(){window.Cookies=c;return d;};}}(function(){function a(){var a=0;var b={};for(;a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d];}return b;}function b(c){function d(b,e,f){var g;if(typeof document==='undefined')return;if(arguments.length>1){f=a({path:'/'},d.defaults,f);if(typeof f.expires==='number'){var h=new Date();h.setMilliseconds(h.getMilliseconds()+f.expires*864e+5);f.expires=h;}f.expires=f.expires?f.expires.toUTCString():'';try{g=JSON.stringify(e);if(/^[\{\[]/.test(g))e=g;}catch(i){}if(!c.write)e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);else e=c.write(e,b);b=encodeURIComponent(String(b));b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);b=b.replace(/[\(\)]/g,escape);var j='';for(var k in f){if(!f[k])continue;j+='; '+k;if(f[k]===true)continue;j+='='+f[k];}return(document.cookie=b+'='+e+j);}if(!b)g={};var l=document.cookie?document.cookie.split('; '):[];var m=/(%[0-9A-Z]{2})+/g;var n=0;for(;n<l.length;n++){var o=l[n].split('=');var p=o.slice(1).join('=');if(p.charAt(0)==='"')p=p.slice(1,-1);try{var q=o[0].replace(m,decodeURIComponent);p=c.read?c.read(p,q):c(p,q)||p.replace(m,decodeURIComponent);if(this.json)try{p=JSON.parse(p);}catch(i){}if(b===q){g=p;break;}if(!b)g[q]=p;}catch(i){}}return g;}d.set=d;d.get=function(a){return d.call(d,a);};d.getJSON=function(){return d.apply({json:true},[].slice.call(arguments));};d.defaults={};d.remove=function(b,c){d(b,'',a(c,{expires:-1}));};d.withConverter=b;return d;}return b(function(){});}));;(function(a){a.fn.unveil=function(b,c){var d=a(window),e=b||0,f=window.devicePixelRatio>1,g=f?"data-src-retina":"data-src",h=this,i;this.one("unveil",function(){var a=this.getAttribute(g);a=a||this.getAttribute("data-src");if(a){this.setAttribute("src",a);if(typeof c==="function")c.call(this);}});function j(){var b=h.filter(function(){var b=a(this);if(b.is(":hidden"))return;var c=d.scrollTop(),f=c+d.height(),g=b.offset().top,h=g+b.height();return h>=c-e&&g<=f+e;});i=b.trigger("unveil");h=h.not(i);}d.on("scroll.unveil resize.unveil lookup.unveil",j);j();return this;};})(window.jQuery||window.Zepto);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery);}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail" in g&&(m=-1*g.detail),"wheelDelta" in g&&(m=g.wheelDelta),"wheelDeltaY" in g&&(m=g.wheelDeltaY),"wheelDeltaX" in g&&(l=-1*g.wheelDeltaX),"axis" in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY" in g&&(m=-1*g.deltaY,j=m),"deltaX" in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q;}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r;}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top;}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h);}}function c(){f=null;}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0;}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this));},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height");},getLineHeight:function(b){var c=a(b),d=c["offsetParent" in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16;},getPageHeight:function(b){return a(b).height();},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel");},unmousewheel:function(a){return this.unbind("mousewheel",a);}});});(function(a,b,c,d){"use strict";var e=(function(){var a={},c=b.documentElement,e=b.createElement('input'),f=b.createElement('select'),g=b.createElement('textarea'),h=':)',i={},j={},k={},l;a.attributes=(function(a){for(var b=0,c=a.length;b<c;b++)k[a[b]]=!!(a[b] in e);return k;})('max min multiple pattern required step'.split(' '));a.inputtypes=(function(a){for(var f=0,g,i,k,l=a.length;f<l;f++){e.setAttribute('type',i=a[f]);g=e.type!=='text';if(g){e.value=h;e.style.cssText='position:absolute;visibility:hidden;';if(/^range$/.test(i)&&e.style.WebkitAppearance!==d){c.appendChild(e);k=b.defaultView;g=k.getComputedStyle&&k.getComputedStyle(e,null).WebkitAppearance!=='textfield'&&(e.offsetHeight!==0);c.removeChild(e);}else if(/^(search|tel)$/.test(i)){}else if(/^(url|email)$/.test(i))g=e.checkValidity&&e.checkValidity()===false;else g=e.value!==h;}j[a[f]]=!!g;}return j;})('search tel url email datetime date month week time datetime-local number range color'.split(' '));(function(c){for(var d=0,f=c.length;d<f;d++){l=e;try{l.setAttribute('type',c[d]);}catch(g){l=b.createElement('<input type="'+c[d]+'">');}l.style.cssText='position:absolute;visibility:hidden;';a.inputtypes[c[d]]=!!l.checkValidity;}})('text password radio checkbox'.split(' '));a.inputtypes.select=!!f.checkValidity;a.inputtypes.textarea=!!g.checkValidity;e=null;l=null;f=null;g=null;return a;}()),f=(function(){var a={isoDate:/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/},b={separators:/(\/|\-|\.)/g,separatorsNoGroup:/\/|\-|\./g,dateParts:{dd:'(0[1-9]|[12][0-9]|3[01])',mm:'(0[1-9]|1[012])',yyyy:'(\\d{4})'}};function d(a,b){var c=-1,d=a?a.length:0;while(++c<d)if(a[c]===b)return c;return -1;}function e(a){var e=a.getAttribute('data-format')||c.fn.validatr.defaultOptions.dateFormat,g=e.split(b.separatorsNoGroup),h=a.value.split(b.separatorsNoGroup),i='yyyy-mm-dd'.split('-'),j=e.replace(b.separators,'\\$1').replace('yyyy',b.dateParts.yyyy).replace('mm',b.dateParts.mm).replace('dd',b.dateParts.dd),k=-1,l=i.length,m=[];j=new RegExp(j);if(!j.test(a.value))return false;while(++k<l)m[k]=h[d(g,i[k])];return f(m.join('-'));}function f(b){if(!a.isoDate.test(b))return false;var c=a.isoDate.exec(b);return new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10));}function g(a,b){function d(a){return a<10?'0'+a:a;}var e=d(a.getDate()),f=d(a.getMonth()+1),g=a.getFullYear(),h=(b.getAttribute('data-format')||c.fn.validatr.defaultOptions.dateFormat).replace('mm',f).replace('yyyy',g).replace('dd',e);return h;}return{formatISODate:g,parseDate:e,parseISODate:f};}()),g=(function(){var a={color:/^#[0-9A-F]{6}$/i,email:/^[a-zA-Z0-9.!#$%&’*+\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+(?:\.[a-zA-Z0-9\-]+)*$/,isoDate:/^(\d{4})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,number:/^-?\d*\.?\d*$/,time:/^([01][0-9]|2[0-3])(:([0-5][0-9])){2}$/,url:/^\s*https?:\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?\s*$/},d={boxes:/checkbox|radio/i,spaces:/,\s*/},g=function(a,b,d,e,g){var h=true,i=c.validatr.messages.range.base,j=b,k=d;if(g==='date'){j=b&&f.formatISODate(b,this);k=d&&f.formatISODate(d,this);}if(a!==false){if(e!==false){h=e==='any'?true:(a-b)%e===0;i=c.validatr.messages.range.invalid;}if(h)if(b!==false&&d!==false){h=a>=b&&a<=d;i=c.validatr.messages.range.overUnder;}else if(b!==false){h=a>=b;i=c.validatr.messages.range.overflow;}else if(d!==false){h=a<=d;i=c.validatr.messages.range.underflow;}}return{valid:a!==false&&h,message:i.replace('{{type}}',g).replace('{{min}}',j).replace('{{max}}',k)};};return{checkbox:function(a){return{valid:a.checked,message:c.validatr.messages.checkbox};},color:function(b){return{valid:a.color.test(b.value),message:c.validatr.messages.color};},date:function(a){var b=c(a),d=e.inputtypes.date?f.parseISODate(a.value):f.parseDate(a),h=b.attr('min')?f.parseISODate(b.attr('min')):false,i=b.attr('max')?f.parseISODate(b.attr('max')):false,j=false;return g.call(a,d,h,i,j,'date');},email:function(b){var f=true,g=c.validatr.messages.email.single,h=e.attributes.multiple?b.multiple:c(b).is('[multiple]');if(h){var i=b.value.split(d.spaces);c.each(i,function(b,d){if(!a.email.test(d)){f=false;g=c.validatr.messages.email.multiple;return;}});}else f=a.email.test(b.value);return{valid:f,message:g};},number:function(b){var c=b.value.replace(',',''),d=a.number.test(c)?parseFloat(c):false,e=a.number.test(b.getAttribute('min'))?parseFloat(b.getAttribute('min')):false,f=a.number.test(b.getAttribute('max'))?parseFloat(b.getAttribute('max')):false,h=a.number.test(b.getAttribute('step'))?parseFloat(b.getAttribute('step')):b.getAttribute('step')==='any'?'any':false;if(h===false||h<=0)h=1;return g.call(b,c,e,f,h,'number');},pattern:function(a){return{valid:new RegExp(a.getAttribute('pattern')).test(a.value),message:c.validatr.messages.pattern};},radio:function(a){return{valid:c(b.getElementsByName(a.name)).is(':checked'),message:c.validatr.messages.radio};},range:function(a){return this.number(a);},required:function(a){if(d.boxes.test(a.type))return this[a.type](a);return{valid:!!a.value.length,message:a.nodeName.toLowerCase()==='select'?c.validatr.messages.select:c.validatr.messages.required};},time:function(b){return{valid:a.time.test(b.value),message:c.validatr.messages.time};},url:function(b){return{valid:a.url.test(b.value),message:c.validatr.messages.url};}};}()),h=(function(){function a(a){if(a.type!=='text')throw new Error('element must have a type of text');var b=a.getAttribute('data-as');if(g[b])return g[b](a);}function d(a){var d=a.getAttribute('data-match'),e=b.getElementById(d)||b.getElementsByName(d)[0];if(!e)return{valid:false,message:"'"+d+"' can not be found"};c(e).off('valid.validatrinput').on('valid.validatrinput',function(){if(a.value===e.value)t(a);});return{valid:a.value===e.value,message:"'"+a.name+"' does not equal '"+e.name+"'"};}return{as:a,match:d};}()),i={boxes:/checkbox|radio/i,leftright:/left|right/i,notInput:/select|textarea/i,topbottom:/top|bottom/i},j=[16,17,18,19,20,33,34,35,36,37,39],k={bootstrap:'alert alert-error',jqueryui:'ui-state-error ui-corner-all'},l={color:'#f0444d',backgroundColor:'#ffcbcb',border:'1px solid #e4a6af',padding:'2px 6px',borderRadius:'2px'},m=false,n=function(){};n.prototype={addTest:function(a){var b=typeof a!=='string',d=Array.prototype.slice.call(arguments,1)[0];if(b)c.extend(h,a);else{if(!d)throw new Error("You must include a callback function");h[a]=d;}},getElements:function(a){if(this.formElements)return this.formElements;var b=c(a).map(function(){return c.makeArray(this.elements);}).not('fieldset, button, input[type=submit], input[type=button], input[type=reset]');if(a.id)b=b.add(c('[form="'+a.id+'"]'));return b;},validateElement:function(a){if(!a)throw new Error('method requires an element');m=true;var b=t(a[0]||a);m=false;return b;},validateForm:function(a){var b=this.el||(a instanceof jQuery?a[0]:a),c;if(b.nodeName.toLowerCase()!=='form')throw new Error('you must pass a form to this method');m=true;c=u(this.formElements||this.getElements(b));m=false;return c;}};function o(a,b){this.el=a;this.$el=c(a);if(!this.$el.length||!this.$el.is('form'))throw new Error('validatr'+' needs a form to work.');this.isSubmit=false;this.firstError=false;this.options=c.extend({},c.fn.validatr.defaultOptions,b);this.template=(function(a){var b=c(a.template).addClass('validatr-message');if(a.theme.length)b.addClass(k[a.theme]||a.theme);else b.css(l);return b[0].outerHTML;}(this.options));this.option=function(a,b){if(!arguments.length)return c.extend({},this.options);if(b===d)return this.options[a]===d?null:this.options[a];this.options[a]=b;};this.formElements=this.getElements(this.el).on('valid.'+'validatr',c.proxy(y,this)).on('invalid.'+'validatr',c.proxy(x,this));this.el.noValidate=true;this.$el.on('submit.'+'validatr',c.proxy(v,this));this.$el.on('reset.'+'validatr',c.proxy(w,this));}function p(){this.formElements.on({'focus.validatrelement':r,'blur.validatrelement':s});c('input[type=radio], input[type=checkbox]').on('click.validatrelement',function(a){t(a.target);});}function q(){this.formElements.off('.validatrelement');}function r(a){var b=a.target,d=c(b);if(b.nodeName.toLowerCase()==='select')d.on('change.validatrinput',function(){setTimeout(function(){t(b);},1);});d.on({'blur.validatrinput':function(){t(b);},'keyup.validatrinput':function(a){if(b.value.length&&c.inArray(j,a.keyCode)===-1)t(b);}});}function s(a){c(a.target).off('.validatrinput');}function t(a){if(a.type==='radio'){var d=c(b.getElementsByName(a.name)).filter('[required]');if(d.length)a=d[0];}var f=c(a),j=i.notInput.test(a.nodeName)?a.nodeName.toLowerCase():a.getAttribute('type'),k=e.attributes.required?a.required:c(a).is('[required]'),l={valid:true,message:''};if(e.inputtypes[j]){l.valid=a.validity.valid;l.message=a.validationMessage;}else{if(k)l=g.required(a);if(l.valid&&a.value.length&&!i.boxes.test(j)){if(a.pattern)j='pattern';if(g[j])l=g[j](a);}}if(l.valid)for(var m in h)if(h.hasOwnProperty(m)&&f.is('[data-'+m+']')){l=h[m](a);if(!l.valid)break;}if(l.valid){f.trigger('valid');return true;}c.data(a,'validationMessage',l.message);f.trigger('invalid');return false;}function u(a){var b=true;a.each(function(a,c){if(!t(c))b=false;});return b;}function v(){this.isSubmit=true;w.call(this);var a=u(this.formElements);if(a)return this.options.valid.call(this.el,this.el);else p.call(this);this.isSubmit=false;return a;}function w(){q.call(this);this.firstError=false;this.formElements.next('.validatr-message').remove();}function x(a){if(m)return;a.preventDefault();var b=a.target,d=c(b),e=this.options,f=b.getAttribute('data-message')||c.data(b,'validationMessage'),g=c(this.template.replace('{{message}}',f));if(this.isSubmit&&!this.firstError){this.firstError=d.after(g);e.position.call(this,g,d);return;}if(!this.isSubmit||e.showall){y(a);d.after(g);e.position.call(this,g,d);}}function y(a){if(m)return;c(a.target).next('.validatr-message').remove();}function z(a,b){a.css('position','absolute');var c=b.offset(),d=b[0].getAttribute('data-location')||this.options.location;if(i.topbottom.test(d)){a.offset({left:c.left});if(d==='top')a.offset({top:c.top-a.outerHeight()-2});if(d==='bottom')a.offset({top:c.top+a.outerHeight()});}else if(i.leftright.test(d)){a.offset({top:(c.top+b.outerHeight()/2)-(a.outerHeight()/2)});if(d==='left')a.offset({left:c.left-a.outerWidth()-2});if(d==='right')a.offset({left:c.left+b.outerWidth()+2});}}c.fn.validatr=function(a){var b=typeof a==='string',e=Array.prototype.slice.call(arguments,1),f=this,g;if(b){this.each(function(){var b;g=c.data(this,'validatr');if(!g)throw new Error("cannot call methods on validatr prior to initialization; attempted to call method '"+a+"'");if(!c.isFunction(g[a]))throw new Error("no such method '"+a+"' for validatr instance");b=g[a].apply(g,e);if(b!==g&&b!==d){f=b&&b.jquery?f.pushStack(b.get()):b;return false;}});}else{var h;this.each(function(){g=c.data(this,'validatr');if(!g){h=new n();o.call(h,this,a||{});c.data(this,'validatr',h);}});}return f;};c.fn.validatr.defaultOptions={dateFormat:'yyyy-mm-dd',location:'right',position:z,showall:false,template:'<div>{{message}}</div>',theme:'',valid:c.noop};c.validatr=new n();c.validatr.messages={checkbox:'Please check this box if you want to proceed.',color:'Please enter a color in the format #xxxxxx',email:{single:'Please enter an email address.',multiple:'Please enter a comma separated list of email addresses.'},pattern:'Please match the requested format.',radio:'Please select one of these options.',range:{base:'Please enter a {{type}}',overflow:'Please enter a {{type}} greater than or equal to {{min}}.',overUnder:'Please enter a {{type}} greater than or equal to {{min}}<br> and less than or equal to {{max}}.',invalid:'Invalid {{type}}',underflow:'Please enter a {{type}} less than or equal to {{max}}.'},required:'Please fill out this field.',select:'Please select an item in the list.',time:'Please enter a time in the format hh:mm:ss',url:'Please enter a url.'};c.validatr.debug=function(){if(!QUnit)throw new Error('QUnit is required for debugging');this.Support=e;this.Tests=g;this.CustomTests=h;this.Format=f;};c.expr[':'].validatr=function(a){return !!c.data(a,'validatr');};}(this,this.document,jQuery));;(function(){var a=typeof exports!='undefined'?exports:this;var b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function c(a){this.message=a;}c.prototype=new Error();c.prototype.name='InvalidCharacterError';a.btoa||(a.btoa=function(a){var d=String(a);for(var e,f,g=0,h=b,i='';d.charAt(g|0)||(h='=',g%1);i+=h.charAt(63&e>>8-g%1*8)){f=d.charCodeAt(g+=3/4);if(f>0xFF)throw new c("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|f;}return i;});a.atob||(a.atob=function(a){var d=String(a).replace(/=+$/,'');if(d.length%4==1)throw new c("'atob' failed: The string to be decoded is not correctly encoded.");for(var e=0,f,g,h=0,i='';g=d.charAt(h++);~g&&(f=e%4?f*64+g:g,e++%4)?i+=String.fromCharCode(255&f>>(-2*e&6)):0)g=b.indexOf(g);return i;});a.base64encode=function(b){return a.btoa(unescape(encodeURIComponent(b)));};a.base64decode=function(b){return decodeURIComponent(escape(a.atob(b)));};}());;(function(a){var b=false;if(typeof define==='function'&&define.amd){define(a);b=true;}if(typeof exports==='object'){module.exports=a();b=true;}if(!b){var c=window.Cookies;var d=window.Cookies=a();d.noConflict=function(){window.Cookies=c;return d;};}}(function(){function a(){var a=0;var b={};for(;a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d];}return b;}function b(c){function d(b,e,f){var g;if(typeof document==='undefined')return;if(arguments.length>1){f=a({path:'/'},d.defaults,f);if(typeof f.expires==='number'){var h=new Date();h.setMilliseconds(h.getMilliseconds()+f.expires*864e+5);f.expires=h;}f.expires=f.expires?f.expires.toUTCString():'';try{g=JSON.stringify(e);if(/^[\{\[]/.test(g))e=g;}catch(i){}if(!c.write)e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);else e=c.write(e,b);b=encodeURIComponent(String(b));b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);b=b.replace(/[\(\)]/g,escape);var j='';for(var k in f){if(!f[k])continue;j+='; '+k;if(f[k]===true)continue;j+='='+f[k];}return(document.cookie=b+'='+e+j);}if(!b)g={};var l=document.cookie?document.cookie.split('; '):[];var m=/(%[0-9A-Z]{2})+/g;var n=0;for(;n<l.length;n++){var o=l[n].split('=');var p=o.slice(1).join('=');if(p.charAt(0)==='"')p=p.slice(1,-1);try{var q=o[0].replace(m,decodeURIComponent);p=c.read?c.read(p,q):c(p,q)||p.replace(m,decodeURIComponent);if(this.json)try{p=JSON.parse(p);}catch(i){}if(b===q){g=p;break;}if(!b)g[q]=p;}catch(i){}}return g;}d.set=d;d.get=function(a){return d.call(d,a);};d.getJSON=function(){return d.apply({json:true},[].slice.call(arguments));};d.defaults={};d.remove=function(b,c){d(b,'',a(c,{expires:-1}));};d.withConverter=b;return d;}return b(function(){});}));var CRC32;(function(a){if(typeof DO_NOT_EXPORT_CRC==='undefined')if('object'===typeof exports)a(exports);else if('function'===typeof define&&define.amd)define(function(){var b={};a(b);return b;});else a(CRC32={});else a(CRC32={});}(function(a){a.version='1.1.0';function b(){var a=0,b=new Array(256);for(var c=0;c!=256;++c){a=c;a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));a=((a&1)?(-306674912^(a>>>1)):(a>>>1));b[c]=a;}return typeof Int32Array!=='undefined'?new Int32Array(b):b;}var c=b();function d(a,b){var d=b^-1,e=a.length-1;for(var f=0;f<e;){d=(d>>>8)^c[(d^a.charCodeAt(f++))&0xFF];d=(d>>>8)^c[(d^a.charCodeAt(f++))&0xFF];}if(f===e)d=(d>>>8)^c[(d^a.charCodeAt(f))&0xFF];return d^-1;}function e(a,b){if(a.length>10000)return f(a,b);var d=b^-1,e=a.length-3;for(var g=0;g<e;){d=(d>>>8)^c[(d^a[g++])&0xFF];d=(d>>>8)^c[(d^a[g++])&0xFF];d=(d>>>8)^c[(d^a[g++])&0xFF];d=(d>>>8)^c[(d^a[g++])&0xFF];}while(g<e+3)d=(d>>>8)^c[(d^a[g++])&0xFF];return d^-1;}function f(a,b){var d=b^-1,e=a.length-7;for(var f=0;f<e;){d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];d=(d>>>8)^c[(d^a[f++])&0xFF];}while(f<e+7)d=(d>>>8)^c[(d^a[f++])&0xFF];return d^-1;}function g(a,b){var d=b^-1;for(var e=0,f=a.length,g,h;e<f;){g=a.charCodeAt(e++);if(g<0x80)d=(d>>>8)^c[(d^g)&0xFF];else if(g<0x800){d=(d>>>8)^c[(d^(192|((g>>6)&31)))&0xFF];d=(d>>>8)^c[(d^(128|(g&63)))&0xFF];}else if(g>=0xD800&&g<0xE000){g=(g&1023)+64;h=a.charCodeAt(e++)&1023;d=(d>>>8)^c[(d^(240|((g>>8)&7)))&0xFF];d=(d>>>8)^c[(d^(128|((g>>2)&63)))&0xFF];d=(d>>>8)^c[(d^(128|((h>>6)&15)|((g&3)<<4)))&0xFF];d=(d>>>8)^c[(d^(128|(h&63)))&0xFF];}else{d=(d>>>8)^c[(d^(224|((g>>12)&15)))&0xFF];d=(d>>>8)^c[(d^(128|((g>>6)&63)))&0xFF];d=(d>>>8)^c[(d^(128|(g&63)))&0xFF];}}return d^-1;}a.table=c;a.bstr=d;a.buf=e;a.str=g;}));;(function(a){'use strict';var b='already-binded',c=null,d=70,e='inside',f=('<div class="fancybox-custom-title">%title</div>'+'<div class="fancybox-custom-descr">%descr</div>'),g=function(d){a('.article-announce').filter('[data-media-type="'+d.mediaType+'"]').each(function(){c=a(this);if(!c.data(b))c.on('click',function(){var c=a(this).data('id');a.get('/api/json/%media/%elementid/'.replace('%media',d.mediaType).replace('%elementid',c),function(b){a(document).trigger('ajaxMediaWindowLoaded',[d.mediaType,c]);d.ajaxCallback(b);});a(this).data(b,true);return false;});});},h=function(){g({mediaType:'photo',ajaxCallback:function(b){a.fancybox.open(b,{prevEffect:'none',nextEffect:'none',helpers:{overlay:{locked:false},title:{type:e},thumbs:{width:d,height:d}},afterLoad:function(){a('.fancybox-custom-descr').preventOuterScroll();this.title=f.replace('%title',this.title).replace('%descr',this.descr);},afterClose:function(){a(document).trigger('mediaWindowClosed',['photo']);}});}});},i=function(){g({mediaType:'video',ajaxCallback:function(b){var c='video-placeholder',d='#'+c,e='video-holder';a.fancybox({content:'<div id="%id"></div>'.replace('%id',c),prevEffect:'none',nextEffect:'none',autoResize:false,helpers:{overlay:{locked:false}},beforeShow:function(){if(b.code)a(d).html(b.code);else{a(d).html(('<video id="%videoid" class="video-js vjs-sublime-skin'+'"controls preload="auto" autoplay width="800" height="600">'+'<source src="%videofile" type="video/%videotype"></video>'+f).replace('%videoid',e).replace('%videofile',b.file).replace('%videotype',b.type).replace('%title',b.title).replace('%descr',b.descr));a.videoJsWrap(e);a('.fancybox-custom-descr').preventOuterScroll();}},beforeClose:function(){if(!b.code){a('.fancybox-wrap').visHide();videojs(e).dispose();}return true;},afterClose:function(){a(document).trigger('mediaWindowClosed',['photo']);}});}});},j=function(){g({mediaType:'evolution',ajaxCallback:function(b){a.fancybox.open(b,{content:b.html,width:'100%',helpers:{overlay:{locked:false}},afterLoad:function(){a('.fancybox-inner').dragScroll();a('.fancybox-inner').addClass('autoheight draggable').mousewheel(function(a,b){this.scrollLeft-=(b*50);a.preventDefault();});},afterClose:function(){a(document).trigger('mediaWindowClosed',['evolution']);}});}});},k=function(){j();};k();a(document).on('ajaxPageLoaded',function(){k();});})(jQuery);;(function(a){'use strict';var b=a(window),c=a('.lazyblocks-block'),d=[];c.each(function(c){var d='scroll.lazyblocks-%s, resize.lazyblocks-%s'.replace('%s',c),e=a(this);b.on(d,function(){if(e.visible(true)){e.replaceWith(window.base64decode(e.data('content')));b.unbind(d);}});});})(jQuery);;(function(a){'use strict';a.showMoreGetParams=function(){return{page:++c};};var b=false,c=a.showMorePageNow>-1?a.showMorePageNow:1,d=!a.showMoreApi?window.location.href:a.showMoreApi,e=!a.showMoreContainer?a('.article-groups'):a.showMoreContainer,f=null,g=null,h=function(){f=a('.button-more');g=f.find('button');f.on('click',function(){if(!b){f.spin('small');g.visHide();jQuery.get(d,a.showMoreGetParams(f,g,e)).done(function(b){f.spin(false).remove();e.append(b);a(document).trigger('ajaxPageLoaded',[c,e]);h();}).error(function(a){f.fadeOut();});}return false;});};h();})(jQuery);;(function(){'use strict';var a=function(a,b){$(document).on('click',a,function(){$.fancybox({href:$(this).attr('href'),type:'ajax',helpers:{overlay:{locked:false}},afterShow:function(){b();}});return false;});},b=function(a){var b=a.find('input,textarea'),c=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,d=/^\s*$/,e=function(a){a.closest('.form-group').addClass('has-error');},f=function(){b.each(function(){var b=$(this),f=b.val();if(d.test(f))return e(a);else if(b.attr('type')=='email')if(!c.test(f))return e(a);});};a.on('submit',function(){f();return false;});b.on('blur',function(){f();});};a('.user-login',function(){var a=$('.fancybox-inner').find('.form');b(a);a.on('submit',function(){var a=$(this),b=a.attr('action'),c=a.serialize();$.ajax({type:'post',url:b,data:c});return false;});});})();;(function(a){'use strict';var b='navbar-item';a('.navbar-toggle').click(function(){a(this).toggleClass('active');a('.navbar').slideToggle();});a('.'+b).click(function(){if(!a(this).hasClass(b)){location.href=a(this).attr('href');return false;}a('.navbar-submenu').slideUp(function(){a(this).prev().find('a').addClass(b);});a(this).parent().next().slideDown();a(this).removeClass(b);return false;});})(jQuery);;(function(a){'use strict';a('.block-votes').each(function(){var b=a(this),c=b.find('.options'),d=c.find('input[type=radio]'),e=b.find('.block-votes-button > button'),f=b.find('form'),g=b.find('.results'),h=b.find('input[name=promo]').length>0,i=false;d.on('change',function(){e.removeAttr('disabled');});f.on('submit',function(){return false;});e.on('click',function(){if(!e.attr('disabled'))f.ajaxSubmit(function(b){if(h){a('.block-votes-answers').hide();a('.block-votes-voted').show();}else if(b&&b.hasOwnProperty('redirect'))window.location.href=b.redirect;});});});})(jQuery);var config={apiKey:"AIzaSyAhSF3uMINn28safgaX4EYQ3VhWJtWuqkc",authDomain:"avtovzglyad2.firebaseapp.com",databaseURL:"https://avtovzglyad2.firebaseio.com",projectId:"avtovzglyad2",storageBucket:"avtovzglyad2.appspot.com",messagingSenderId:"314665053172"};firebase.initializeApp(config);;(function(){'use strict';var a=false;$('.article-gallery').each(function(){var b=$(this),c=b.find('.article-gallery-preview-item'),d=c.find('a'),e=b.find('.article-gallery-main'),f=e.find('.img'),g=e.find('.imgdescr'),h=e.find('.imgdescr-source'),i=e.find('.imgdescr-content'),j=b.find('.photozoom'),k='active',l=200,m,n,o,p,q=function(a){if(e.visible(true)||c.visible()){var b=d.filter('.'+k).parent()[a?'prev':'next']().find('a');if(!b.length)b=d[a?'last':'first']();b.trigger('click');}};d.on('click',function(){a=true;n=$(this);d.removeClass(k);n.addClass(k);m=n.attr('href');o=n.attr('title');p=n.attr('data-desc');if(f.attr('src')!=m){e.spin();f.attr('src',m).on('load',function(){e.spin(false);a=false;});if(o)h.html(o);if(p)i.html(p);if(o||p)g.show();else g.hide();if(j.length>0)j.attr('href',n.data('large'));}return false;});j.on('click',function(){$.fancybox({href:$(this).attr('href'),helpers:{overlay:{locked:false}}});return false;});$(document).on('keydown',function(b){if(a)return true;switch((b.keyCode?b.keyCode:b.which)){case 37:q(true);break;case 39:q();break;}});});})();;(function(){'use strict';var a=$(window),b=null,c=$('.start-form'),d=null,e=window.location.pathname,f='scroll.comments, resize.comments load.comments',g=false,h=0,i=false,j={moderate:'/comments/moderate/',list:'/comments/getlist/',form:'/comments/getform/'},k=function(a){var b=a.find('form'),c=b.closest('.comments-formwrapper'),d=b.find('input[name=parent]').val()=='0';grecaptcha.render(b.find('.g-recaptcha')[0],{sitekey:window.recaptchaKey});b.validatr({location:'top',valid:function(){b.spin();$.post(b.attr('action'),b.serialize()).done(function(a){b.spin(false);if(a.state!=1){$.alert('При выполнении запроса произошла ошибка. '+'Возможно, форма заполнена некорректно. '+'Номер ошибки: <b>'+a.state+'</b>'+(a.state==4?' (не введена капча)':''));var e=b.find('textarea').val();m(c,function(a){a.find('textarea').val(e);});}else{b[0].reset();if(d)m(c);o();}});return false;}});},l=function(){$('.comments-comment-reply').once('click',function(){var a=$(this),b=a.closest('.comments-comment').next().find('div:first'),c=null;if(b.html()=='')m(b);else b.toggle();return false;});$('.comments-more').once('click',function(){var a=$(this).parent();a.prev().show();a.remove();return false;});$('.comments-modaction').once('click',function(){var a=$(this);$.get(j.moderate,{id:a.data('id'),action:a.data('action')},function(){o();});return false;});var a=$('.comments-load-more'),b=a.find('button');b.once('click',function(){b.visHide();a.spin('small');h+=1;n(h,0,function(){a.spin(false).remove();});});},m=function(a,b){$.get(j.form,{url:e,parent:a.data('id')},function(c){a.html(c);k(a);if(b)b(a);});},n=function(a,d,f){g=true;$.get(j.list,{url:e,page:a,full:d?d:0},function(a){if(f)f();if(a)b[d?'html':'append'](a);c.spin(false);l();});},o=function(){n(h,1);};a.on(f,function(){if(c.visible()&&!g){m(c,function(){b=$('.comments-ajaxcontainer');d=$('.comments-formwrapper');c.spin();n(0);});a.unbind(f);}});})();;(function(){'use strict';var a=$(window).height(),b=0,c='main-article-part',d=$('.'+c),e=d.first(),f=d.find('p'),g=0,h=window.inreadBanners&&window.inreadBanners.length==1,i='banner-inread',j='<div class="{{classList}}">{{code}}</div>',k=1.5*a,l=0,m=[6,13];if(f.length>m[g])while(true){if(typeof (window.inreadBanners)!='object'||e.length==0)break;if(e.hasClass(c)){var n=true,o=e.next();e.find('p').each(function(){var a=$(this);b+=a.height();if(b-l>k){if(a.next().length==0)if(o.length==0||!o.hasClass(c))return;var d=window.inreadBanners.shift(),e=i+' '+i+(g+1).toString();if(typeof d=='undefined')return;g+=1;if(window.inreadBanners.length==0){if(!h&&f.length<m[g])return;if(a.next().length==0)if(o.length==0||!o.hasClass(c))return;}a.after(j.replace('{{code}}',d).replace('{{classList}}',e));l=b;}n=false;});}else b+=e.height();e=e.next();}})();